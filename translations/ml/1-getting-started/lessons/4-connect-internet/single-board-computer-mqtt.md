# เดเดจเตเดฑเตผเดจเตเดฑเตเดฑเดฟเดฒเตเดเต เดจเดฟเดเตเดเดณเตเดเต เดจเตเดฑเตเดฑเตโเดฒเตเดฑเตเดฑเดฟเดจเต เดจเดฟเดฏเดจเตเดคเตเดฐเดฟเดเตเดเตเด - เชตเชฐเซเชเตเดตเตฝ IoT เดนเดพเตผเดกเตโเดตเตเดฏเตผ เฆเฆฌเฆ เดฑเดพเดธเตเดชเตเดฌเตเดฑเดฟ เดชเต

IoT เดเดชเดเดฐเดฃเด *test.mosquitto.org* เดเดจเตเดจ MQTT เดฌเตเดฐเตเดเตเดเดฑเตเดฎเดพเดฏเดฟ เดจเดเดคเตเดคเตเดจเตเดจ เดเตเดฒเดฟเดฎเตเดเตเดฐเดฟ เดฎเตเดฒเตเดฏเดเตเดเตพ เดชเตเดฐเดเดพเดถ เดธเตเตปเดธเตผ เดตเดพเดฏเดจเดฏเตเดเต เดเดฏเดเตเดเดพเดจเตเด LED เดจเดฟเดฏเดจเตเดคเตเดฐเดฟเดเตเดเดพเตป เดเดฎเดพเตปเดกเตเดเตพ เดธเตเดตเตเดเดฐเดฟเดเตเดเดพเดจเตเด MQTT เดเดชเดฏเตเดเดฟเดเตเดเต เดเตเดกเต เดเตเดฏเตเดฏเตเดฃเตเดเดคเดพเดฃเต.

เดชเดพเดเดญเดพเดเดคเตเดคเดฟเดจเตเดฑเต เด เดญเดพเดเดคเตเดคเดฟเตฝ, เดจเดฟเดเตเดเตพ เดจเดฟเดเตเดเดณเตเดเต เดฑเดพเดธเตเดชเตเดฌเตเดฑเดฟ เดชเต เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดตเตผเดเตเดตเตฝ IoT เดเดชเดเดฐเดฃเด MQTT เดฌเตเดฐเตเดเตเดเดฑเตเดฎเดพเดฏเดฟ เดฌเดจเตเดงเดฟเดชเตเดชเดฟเดเตเดเตเด.

## MQTT เดเตเดฒเดฏเดจเตเดฑเต เดชเดพเดเตเดเตเดเต เดเตปเดธเตเดฑเตเดฑเดพเตพ เดเตเดฏเตเดฏเตเด

MQTT เดฌเตเดฐเตเดเตเดเดฑเตเดฎเดพเดฏเดฟ เดเดถเดฏเดตเดฟเดจเดฟเดฎเดฏเด เดจเดเดคเตเดคเดพเตป, เดจเดฟเดเตเดเดณเตเดเต เดชเตเดฏเตเดเตเดเตเดเดฟเตฝ เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดจเดฟเดเตเดเตพ เดตเตผเดเตเดตเตฝ เดเดชเดเดฐเดฃเด เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจเตเดเตเดเดฟเตฝ เดเดคเดฟเดจเตเดฑเต เดตเตเตผเดเตเดตเตฝ เดชเดฐเดฟเดคเดธเตเดฅเดฟเดคเดฟเดฏเดฟเตฝ MQTT เดฒเตเดฌเตเดฐเดฑเดฟ เดชเตเดชเตเดชเต เดชเดพเดเตเดเตเดเต เดเตปเดธเตเดฑเตเดฑเดพเตพ เดเตเดฏเตเดฏเตเดฃเตเดเดคเตเดฃเตเดเต.

### แแแแแแแแ

เดชเตเดชเตเดชเต เดชเดพเดเตเดเตเดเต เดเตปเดธเตเดฑเตเดฑเดพเตพ เดเตเดฏเตเดฏเตเด

1. VS เดเตเดกเดฟเตฝ เดจเตเดฑเตเดฑเตโเดฒเตเดฑเตเดฑ เดชเตเดฐเตเดเตเดเตเดเต เดคเตเดฑเดเตเดเตเด.

1. เดจเดฟเดเตเดเตพ เดเดฐเต เดตเตผเดเตเดตเตฝ IoT เดเดชเดเดฐเดฃเด เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจเตเดตเตเดเตเดเดฟเตฝ, เดเตเตผเดฎเดฟเดจเดฒเดฟเตฝ เดตเตผเดเตเดตเตฝ เดชเดฐเดฟเดคเดธเตเดฅเดฟเดคเดฟ เดชเตเดฐเดตเตผเดคเตเดคเดฟเดเตเดเตเดเดฏเดพเดฃเตเดจเตเดจเต เดเดฑเดชเตเดชเต เดตเดฐเตเดคเตเดคเตเด. เดฑเดพเดธเตเดชเตเดฌเตเดฑเดฟ เดชเต เดเดชเดฏเตเดเดฟเดเตเดเดพเตฝ เดตเดฏเตผเดเตเดตเตฝ เดชเดฐเดฟเดคเดธเตเดฅเดฟเดคเดฟ เดเดชเดฏเตเดเดฟเดเตเดเตเดฃเตเดเดคเดฟเดฒเตเดฒ.

1. MQTT เดชเตเดชเตเดชเต เดชเดพเดเตเดเตเดเต เดเตปเดธเตเดฑเตเดฑเดพเตพ เดเตเดฏเตเดฏเดพเตป เดคเดพเดดเต เดเดพเดฃเตเดจเตเดจ เดเดฎเดพเตปเดกเต เดฑเตบ เดเตเดฏเตเดฏเตเด:

    ```sh
    pip3 install paho-mqtt
    ```

## เดเดชเดเดฐเดฃเด เดเตเดกเต เดเตเดฏเตเดฏเตเด

เดเดชเดเดฐเดฃเด เดเตเดกเต เดเตเดฏเตเดฏเดพเตป เดคเดฏเตเดฏเดพเดฑเดพเดฃเต.

### แแแแแแแแ

เดเดชเดเดฐเดฃ เดเตเดกเต เดเดดเตเดคเตเด.

1. `app.py` เดซเดฏเดฒเดฟเดจเตเดฑเต เดฎเตเดเดณเดฟเดฒเดพเดฏเดฟ เดคเดพเดดเต เดเดพเดฃเตเดจเตเดจ เดเดฎเตเดชเตเตผเดเตเดเต เดเตเตผเดเตเดเตเด:

    ```python
    import paho.mqtt.client as mqtt
    ```

    `paho.mqtt.client` เดฒเตเดฌเตเดฐเดฑเดฟ เดจเดฟเดเตเดเดณเตเดเต เดเดชเตเดชเดฟเดจเต MQTT เดตเดดเดฟเดฏเตเดณเตเดณ เดเดถเดฏเดตเดฟเดจเดฟเดฎเดฏเด เดธเดพเดงเตเดฏเดฎเดพเดเตเดเตเดจเตเดจเต.

1. เดฒเตเดฑเตเดฑเต เดธเตเตปเดธเตผ ฝ LED เดจเดฟเตผเดตเดเดจเดเตเดเดณเตเดเต เดถเตเดทเด เดคเดพเดดเต เดเดพเดฃเตเดจเตเดจ เดเตเดกเต เดเตเตผเดเตเดเตเด:

    ```python
    id = '<ID>'

    client_name = id + 'nightlight_client'
    ```

    `<ID>` เดเดจเตเดจเดฟเดเดคเตเดคเต เด เดเดชเดเดฐเดฃ เดเตเดฒเดฏเดจเตเดฑเดฟเดจเตเดฑเต เดชเตเดฐเต เดเดฏ เดชเตเดฐเดคเตเดฏเตเด เดเดฐเต เดเดกเดฟ เดเดเตเด, เดชเดฟเดจเตเดจเตเดเต เด เดเดชเดเดฐเดฃเด เดชเตเดฐเดธเดฟเดฆเตเดงเตเดเดฐเดฟเดเตเดเตเดจเตเดจ เดคเตเดชเดฟเดเตเดเดณเตเด เดธเดฌเตเดธเตเดเตเดฐเตเดฌเต เดเตเดฏเตเดฏเตเดจเตเดจ เดคเตเดชเดฟเดเตเดเดณเตเด เดเดคเตเดชเดฏเตเดเดฟเดเตเดเต เดตเดฟเดณเดฟเดเตเดเตเดจเตเดจเต. *test.mosquitto.org* เดฌเตเดฐเตเดเตเดเตผ เดชเตเดคเต เดเดฃเตเดจเตเดจเตเด เดฎเดฑเตเดฑเต เดตเดฟเดฆเตเดฏเดพเตผเดคเตเดฅเดฟเดเดณเตเด เด เดเดธเตเตปเดฎเตเตปเดฑเดฟเตฝ เดเตเดฒเดฟ เดเตเดฏเตเดคเตเดเตเดฃเตเดเดฟเดฐเดฟเดเตเดเตเดจเตเดจเดคเตเด เดเตพเดชเตเดชเตเดเตเดจเตเดจเต. เดเดฐเต เดตเตเดฏเดคเตเดฏเดธเตเดค MQTT เดเตเดฒเดฏเดจเตเดฑเต เดชเตเดฐเตเด เดคเตเดชเดฟเดเต เดชเตเดฐเตเด เดตเดฏเตเดเตเดเตเดจเตเดจเดคเดฟเดฒเตเดเต เดจเดฟเดเตเดเดณเตเดเต เดเตเดกเต เดฎเดฑเตเดฑเตเดณเตเดณเดตเดฐเตเดเต เดเตเดกเตเดฎเดพเดฏเดฟ เดชเดเดฟเดฏเดฟเดฑเดเตเดเดพเดคเต เดชเตเดฐเดตเตผเดคเตเดคเดฟเดเตเดเตเด. เด เดเดกเดฟ เดชเดฟเดจเตเดจเตเดเต เดธแแแเตผ เดเตเดกเต เดจเดฟเตผเดฎเตเดฎเดฟเดเตเดเตเดจเตเดจเดชเตเดชเตเตพ เดเดตเดถเตเดฏเดฎเดพเดฏเดฟเดฐเดฟเดเตเดเตเด.

    > ๐ [GUIDGen](https://www.guidgen.com) เดชเตเดฒเตเดณเตเดณ เดเดฐเต เดตเตเดฌเตเดธเตเดฑเตเดฑเต เดเดชเดฏเตเดเดฟเดเตเดเต เดตเตเดฏเดคเตเดฏเดธเตเดคเดฎเดพเดฏ เดเดฐเต เดเดกเดฟ เดธเตเดทเตโเดเดฟเดเตเดเดพเดตเตเดจเตเดจเดคเดพเดฃเต.

    `client_name` เดฌเตเดฐเตเดเตเดเดฑเดฟเตฝ เด MQTT เดเตเดฒเดฏเดจเตเดฑเดฟเดจเตเดณเตเดณ เดตเตเดฏเดคเตเดฏเดธเตเดคเดฎเดพเดฏ เดชเตเดฐเต เดเดฃเต.

1. MQTT เดเตเดฒเดฏเดจเตเดฑเต ะพะฑัsonเตเดเตเดเต เดธเตเดทเตเดเดฟเดเตเดเต MQTT เดฌเตเดฐเตเดเตเดเดฑเตเดฎเดพเดฏเดฟ เดฌเดจเตเดงเดฟเดชเตเดชเดฟเดเตเดเดพเตป เดคเดพเดดเต เดเดพเดฃเตเดจเตเดจ เดเตเดกเต เด เดชเตเดคเตเดคเดพเดฏเดฟ เดเตเตผเดคเตเดค เดเตเดกเดฟเดจเตเดฑเต เดเตเดดเดฟเตฝ เดเตเตผเดเตเดเตเด:

    ```python
    mqtt_client = mqtt.Client(client_name)
    mqtt_client.connect('test.mosquitto.org')
    
    mqtt_client.loop_start()

    print("MQTT connected!")
    ```

    เด เดเตเดกเต เดเตเดฒเดฏเดจเตเดฑเต ะพะฑัsonเตเดเต เดธเตเดทเตเดเดฟเดเตเดเตเดจเตเดจเต, เดชเตเดคเต MQTT เดฌเตเดฐเตเดเตเดเดฑเตเดฎเดพเดฏเดฟ เดฌเดจเตเดงเดฟเดชเตเดชเดฟเดเตเดเตเดจเตเดจเต, เดเตเดเดพเดคเต เดฌเดพเดเตเดเตเดเตเดฐเตเดฃเตเดเต เดคเตเดฐเตเดกเดฟเตฝ เดชเตเดฐเดตเตผเดคเตเดคเดฟเดเตเดเตเดจเตเดจ เดชเตเดฐเตเดธเดธเตเดธเดฟเดเดเต เดฒเตเดชเตเดชเต เดเดฐเดเดญเดฟเดเตเดเตเดเดฏเตเด เดธเดฌเตเดธเตเดเตเดฐเตเดฌเต เดเตเดฏเตเดค เดคเตเดชเดฟเดเตเดเดณเดฟเดฒเต เดธเดจเตเดฆเตเดถเดเตเดเตพ เดเตเตพเดเตเดเตเดเดฏเตเด เดเตเดฏเตเดฏเตเด.

1. เดเดธเตเตปเดฎเตเดจเตเดฑเต เดฎเตเตปเดชเดคเต เดญเดพเดเด เดชเตเดฒเต เดเตเดกเต เดฑเตบ เดเตเดฏเตเดฏเตเด. เดจเดฟเดเตเดเตพ เดเดฐเต เดตเตผเดเตเดตเตฝ IoT เดเดชเดเดฐเดฃเด เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจเตเดตเตเดเตเดเดฟเตฝ, เดเตเดฃเตเดเตผเดซเดฟเดฑเตเดฑเต เดเดชเตเดชเต เดชเตเดฐเดตเตผเดคเตเดคเดฟเดเตเดเตเดจเตเดจเตเดฃเตเดเตเดจเตเดจเต เดเดฑเดชเตเดชเดพเดเตเดเตเด, เดชเตเดฐเดเดพเดถ เดธเตเตปเดธเดฑเตเด LED-เดเด เดถเดฐเดฟเดฏเดพเดฏ เดชเดฟเดจเตเดเดณเดฟเตฝ เดธเตเดทเตเดเดฟเดเตเดเต เดคเตเตผเดจเตเดจเดฟเดเตเดเตเดฃเตเดเต.

    ```output
    (.venv) โ  nightlight python app.py 
    MQTT connected!
    Light level: 0
    Light level: 0
    ```

> ๐ เด เดเตเดกเต เดจเดฟเดเตเดเตพเดเตเดเต [code-mqtt/virtual-device](../../../../../1-getting-started/lessons/4-connect-internet/code-mqtt/virtual-device) เดซเตเตพเดกเดฑเดฟเดฒเตเด [code-mqtt/pi](../../../../../1-getting-started/lessons/4-connect-internet/code-mqtt/pi) เดซเตเตพเดกเดฑเดฟเดฒเตเด เดเดฃเตเดเตเดคเตเดคเดพเด.

๐ เดจเดฟเดเตเดเตพ เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ เดจเดฟเดเตเดเดณเตเดเต เดเดชเดเดฐเดฃเด เดเดฐเต MQTT เดฌเตเดฐเตเดเตเดเดฑเตเดฎเดพเดฏเดฟ เดฌเดจเตเดงเดฟเดชเตเดชเดฟเดเตเดเต.

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**เดกเดฟเดธเตเดเตเดฒเตเดฏเดฟเดฎเตผ**:  
เด เดชเตเดฐเดฎเดพเดฃเด AI เดตเดฟเดตเตผเดคเตเดคเดจ เดธเตเดตเดจเด [Co-op Translator](https://github.com/Azure/co-op-translator) เดเดชเดฏเตเดเดฟเดเตเดเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดคเดคเดพเดฃเต. เดเดเตเดเตพ เดเตเดคเตเดฏเดค เดเดฑเดชเตเดชเดพเดเตเดเดพเตป เดชเดฐเดฟเดถเตเดฐเดฎเดฟเดเตเดเตเดตเตเดเตเดเดฟเดฒเตเด, เดเดเตเดเตเดฎเตเดฑเตเดฑเดกเต เดตเดฟเดตเตผเดคเตเดคเดจเดเตเดเดณเดฟเตฝ เดชเดฟเดถเดเตเดเตพ เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดเดเตเดเดเดเตเดเดฎเดพเดฑเตเดฑเดเตเดเตพ เดเดฃเตเดเดพเดเดพเด เดเดจเตเดจเต เดฆเดฏเดตเดพเดฏเดฟ เดถเตเดฐเดฆเตเดงเดฟเดเตเดเตเด. เดฎเดพเดคเตเดญเดพเดทเดฏเดฟเดฒเตเดณเตเดณ เดฎเตเดณเตโเดชเตเดชเตเดฐเดฏเตเดเตเดเตเดณเตเดณ เดชเตเดฐเดฎเดพเดฃเด เดเดคเดฟเดจเตเดณเตเดณ เดเดฆเตเดฏเตเดเดฟเด เดเดฑเดตเดฟเดเดฎเดพเดฏเดฟ เดเดฃเดเตเดเดพเดเตเดเตเดฃเตเดเดคเดพเดฃเต. เดจเดฟเตผเดฃเดเดเดฎเดพเดฏ เดตเดฟเดตเดฐเดเตเดเตพเดเตเดเต เดชเตเดฐเตเดซเดทเดฃเตฝ เดฎเดจเตเดทเตเดฏ เดตเดฟเดตเตผเดคเตเดคเดจเด เดถเตเดชเดพเตผเดถ เดเตเดฏเตเดฏเดชเตเดชเตเดเตเดจเตเดจเต. เด เดตเดฟเดตเตผเดคเตเดคเดจเดคเตเดคเดฟเดจเตเดฑเต เดเดชเดฏเตเดเดคเตเดคเดฟเตฝ เดจเดฟเดจเตเดจเตเดฃเตเดเดพเดเตเดจเตเดจ เดคเตเดฑเตเดฑเดฟเดฆเตเดงเดพเดฐเดฃเดเตพเดเตเดเต เดตเตเดฏเดพเดเตเดฏเดพเดจ เดชเดฟเดถเดเตเดเตพเดเตเดเต เดเดเตเดเตพ เดเดคเตเดคเดฐเดตเดพเดฆเดฟเดฏเดฒเตเดฒ.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->