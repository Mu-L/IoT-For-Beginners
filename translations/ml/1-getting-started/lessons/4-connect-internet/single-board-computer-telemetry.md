# เดเดจเตเดฑเตผเดจเตเดฑเตเดฑเดฟเตฝ เดจเดฟเดเตเดเดณเตเดเต เดจเตเดฑเตเดฑเต เดฒเตเดฑเตเดฑเต เดจเดฟเดฏเดจเตเดคเตเดฐเดฟเดเตเดเตเด - เดตเตเตผเดเตเดเตเดตเตฝ IoT เดนเดพเตผเดกเตโเดตเตเดฏเตผ าปำะผ เดฑเดพเดธเตเดชเตเดฌเตเดฑเดฟ เดชเต

เดชเดพเดเดญเดพเดเด เด เดญเดพเดเดคเตเดคเต, เดจเดฟเดเตเดเตพ เดจเดฟเดเตเดเดณเตเดเต เดฑเดพเดธเตเดชเตเดฌเตเดฑเดฟ เดชเตเดฏเต เดตเตเตผเดเตเดเตเดตเตฝ IoT เดเดชเดเดฐเดฃเดฎเต เดจเดฟเดจเตเดจเต เดฒเตเดฑเตเดฑเต เดจเดฟเดฐเดชเตเดชเตเดเตพ เดเตพเดชเตเดชเตเดเตเดจเตเดจ เดเตเดฒเดฟเดฎเตเดเตเดฐเดฟ MQTT เดฌเตเดฐเตเดเตเดเดฑเดฟเดฒเตเดเตเดเต เดเดฏเดฏเตเดเตเดเตเด.

## เดเตเดฒเดฟเดฎเตเดเตเดฐเดฟ เดชเตเดฐเดธเดฟเดฆเตเดงเตเดเดฐเดฟเดเตเดเตเด

เดเดเตเดคเตเดค เดเดเตเดเด เดเตเดฒเดฟเดฎเตเดเตเดฐเดฟ เดเดเดเตเดเดฟเดฏ เดเดฐเต JSON เดกเตเดเตเดฏเตเดฎเตเดจเตเดฑเต เดเดฃเตเดเดพเดเตเดเดฟ เดเดคเต MQTT เดฌเตเดฐเตเดเตเดเดฑเดฟเดฒเตเดเตเดเต เดเดฏเดฏเตเดเตเดเดฒเดพเดฃเต.

### เดชเตเดฐเดตเตเดคเตเดคเดฟ

MQTT เดฌเตเดฐเตเดเตเดเดฑเดฟเดฒเตเดเตเดเต เดเตเดฒเดฟเดฎเตเดเตเดฐเดฟ เดชเตเดฐเดธเดฟเดฆเตเดงเตเดเดฐเดฟเดเตเดเตเด.

1. VS เดเตเดกเดฟเตฝ เดจเตเดฑเตเดฑเต เดฒเตเดฑเตเดฑเต เดชเตเดฐเตเดเดเตเดเต เดคเตเดฑเดเตเดเตเด.

1. เดจเดฟเดเตเดเตพ เดตเตเตผเดเตเดเตเดตเตฝ IoT เดเดชเดเดฐเดฃเด เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจเตเดตเตเดเตเดเดฟเตฝ, เดเตเตผเดฎเดฟเดจเตฝ เดตเตเตผเดเตเดเตเดตเตฝ เดเตปเดตเดฏเตเตบเดฎเตเดจเตเดฑเต เดชเตเดฐเดตเตผเดคเตเดคเดฟเดเตเดเต เดเตเดฃเตเดเดฟเดฐเดฟเดเตเดเตเดจเตเดจเตเดตเตเดจเตเดจเต เดเดฑเดชเตเดชเดพเดเตเดเตเด. เดฑเดพเดธเตเดชเตเดฌเตเดฑเดฟ เดชเต เดเดชเดฏเตเดเดฟเดเตเดเดพเตฝ เดตเตเตผเดเตเดเตเดตเตฝ เดเตปเดตเดฏเตเตบเดฎเตเดจเตเดฑเต เดเดชเดฏเตเดเดฟเดเตเดเตเดฃเตเดเดคเดฟเดฒเตเดฒ.

1. `app.py` เดซเดฏเดฒเดฟเดจเตเดฑเต เดฎเตเดเดณเดฟเดฒเดพเดฏเดฟ เดคเดพเดดเต เดเดพเดฃเดฟเดเตเดเตเดจเตเดจ เดเดฎเตเดชเตเตผเดเตเดเตโ เดเตเตผเดเตเดเตเด:

    ```python
    import json
    ```

    JSON เดกเตเดเตเดฏเตเดฎเตเดจเตเดฑเต เดเดเตเดเตเดจเตเดจเดคเดฟเดจเดพเดฏเดฟ `json` เดฒเตเดฌเตเดฐเดฑเดฟ เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจเต.

1. `client_name` เดชเตเดฐเดเตเดฏเดพเดชเดจเดคเตเดคเดฟเดจเต เดถเตเดทเด เดคเดพเดดเต เดเดพเดฃเดฟเดเตเดเตเดจเตเดจ เดเตเดกเต เดเตเตผเดเตเดเตเด:

    ```python
    client_telemetry_topic = id + '/telemetry'
    ```

    `client_telemetry_topic` เดเดจเตเดจเดคเต เด เดเดชเดเดฐเดฃเด เดฒเตเดฑเตเดฑเต เดจเดฟเดฐเดชเตเดชเตเดเตพ เดชเตเดฐเดธเดฟเดฆเตเดงเตเดเดฐเดฟเดเตเดเดพเตป เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจ MQTT เดตเดฟเดทเดฏเด เดเดฃเต.

1. เดซเดฏเตฝ เดเดตเดธเดพเดจเดคเตเดคเต `while True:` เดฒเตเดชเดฟเดจเตเดฑเต เดเดณเตเดณเดเดเตเดเด เดคเดพเดดเต เดเดพเดฃเดฟเดเตเดเตเดจเตเดจเดคเดฟเดจเดพเดฏเดฟ เดฎเดพเดฑเตเดฑเตเด:

    ```python
    while True:
        light = light_sensor.light
        telemetry = json.dumps({'light' : light})

        print("Sending telemetry ", telemetry)
    
        mqtt_client.publish(client_telemetry_topic, telemetry)
    
        time.sleep(5)
    ```

    เด เดเตเดกเต เดฒเตเดฑเตเดฑเต เดจเดฟเดฐเดชเตเดชเต JSON เดกเตเดเตเดฏเตเดฎเตเดจเตเดฑเดพเดเตเดเดฟ เดชเดพเดเตเดเตเดเต เดเตเดฏเตเดคเต MQTT เดฌเตเดฐเตเดเตเดเดฑเดฟเดฒเตเดเตเดเต เดชเตเดฐเดธเดฟเดฆเตเดงเตเดเดฐเดฟเดเตเดเตเดจเตเดจเต. เดธเดจเตเดฆเตเดถเดเตเดเตพ เดเดฏเดฏเตเดเตเดเตเดจเตเดจเดคเดฟเดจเตเดณเตเดณ เดเดตเตเดคเตเดคเดฟเดฏเต เดเตเดฑเดฏเตเดเตเดเดพเตป เดชเดฟเดจเตเดจเตเดเต เดเดฑเดเตเดเด เดชเตเดเตเดจเตเดจเต.

1. เดฎเตเดฎเตเดชเดคเตเดคเต เดญเดพเดเด เดชเตเดฒเต เดคเดจเตเดจเต เดเตเดกเต เดเดเดฟเดเตเดเตเด. เดจเดฟเดเตเดเตพ เดตเตเตผเดเตเดเตเดตเตฝ IoT เดเดชเดเดฐเดฃเด เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจเตเดตเตเดเตเดเดฟเตฝ CounterFit เดเดชเตเดชเต เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดทเดฎเดฎเดพเดฃเตเดจเตเดจเต, เดฒเตเดฑเตเดฑเต เดธเตเตปเดธเดฑเตเด LEDเดฏเตเด เดถเดฐเดฟเดฏเดพเดฏ เดชเดฟเดจเตเดเดณเดฟเตฝ เดธเตเดทเตเดเดฟเดเตเดเดชเตเดชเตเดเตเดเดฟเดเตเดเตเดฃเตเดเตเดจเตเดจเต เดเดฑเดชเตเดชเดพเดเตเดเตเด.

    ```output
    (.venv) โ  nightlight python app.py 
    MQTT connected!
    Sending telemetry  {"light": 0}
    Sending telemetry  {"light": 0}
    ```

> ๐ เดจเดฟเดเตเดเตพเดเตเดเต เด เดเตเดกเต [code-telemetry/virtual-device](../../../../../1-getting-started/lessons/4-connect-internet/code-telemetry/virtual-device) เดซเตเตพเดกเดฑเดฟเตฝ เดเดฒเตเดฒเตเดเตเดเดฟเตฝ [code-telemetry/pi](../../../../../1-getting-started/lessons/4-connect-internet/code-telemetry/pi) เดซเตเตพเดกเดฑเดฟเตฝ เดเดพเดฃเดพเด.

๐ เดจเดฟเดเตเดเตพ เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ เดจเดฟเดเตเดเดณเตเดเต เดเดชเดเดฐเดฃเดคเตเดคเดฟเตฝ เดจเดฟเดจเตเดจเต เดเตเดฒเดฟเดฎเตเดเตเดฐเดฟ เดเดฏเดเตเดเต.

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**เดชเตเดฐเดคเดฟเดเตเดเดพเดชเดคเตเดฐเด**:  
เด เดฐเตเด AI เดตเดฟเดตเตผเดคเตเดคเดจ เดธเตเดตเดจเด [Co-op Translator](https://github.com/Azure/co-op-translator) เดเดชเดฏเตเดเดฟเดเตเดเต เดชเดฐเดฟเดญเดพเดทเดชเตเดชเตเดเตเดคเตเดคเดฟเดฏเดคเดพเดฃเต. เดจเดฎเตเดเตเดเต เดเตเดคเตเดฏเดคเดฏเตเดเตเดเต เดถเตเดฐเดฎเดฟเดเตเดเตเดเดฏเดพเดฃเตเดเตเดเดฟเดฒเตเด, เดฏเดพเดจเตเดคเตเดฐเดฟเด เดตเดฟเดตเตผเดคเตเดคเดจเดเตเดเดณเดฟเตฝ เดชเดฟเดดเดตเตเดเดณเต เดเดธเดเดตเดฟเดงเดพเดจเดเตเดเดณเต เดเดฃเตเดเดพเดฏเตเดเตเดเดพเดฎเตเดจเตเดจเต เดฆเดฏเดตเดพเดฏเดฟ เดฎเดจเดธเตเดธเดฟเดฒเดพเดเตเดเตเด. เดเดฆเตเดฏเดฐเตเดชเด เดเดณเตเดณ เดญเดพเดทเดฏเดฟเดฒเต เดคเดจเตเดจเต เด เดฐเตเดเดฏเต เดฎเตเตฝเดจเตเดเตเด ืืงืืจเดฎเดพเดฏเดฟ เดชเดฐเดฟเดเดฃเดฟเดเตเดเตเดฃเตเดเดคเดพเดฃเต. เดเดคเตเดฏเดจเตเดคเดพเดชเตเดเตเดทเดฟเดค เดตเดฟเดตเดฐเดเตเดเตพเดเตเดเต เดชเงเฆถเฆพเฆฆแแแ เดฎเดจเตเดทเตเดฏ เดตเดฟเดตเตผเดคเตเดคเดจ เดถเตเดชเดพเตผเดถ เดเตเดฏเตเดฏเตเดจเตเดจเต. เด เดชเดฐเดฟเดญเดพเดท เดเดชเดฏเตเดเดฟเดเตเดเดคเดฟเดจเต เดคเตเดเตผเดจเตเดจเต เดเดฃเตเดเดพเดเตเดจเตเดจ เดเดคเตเดฐเต เดคเตเดฑเตเดฑเดฟเดเตผเดคเตเดฅเดเตเดเตพเดเตเดเตเด เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดตเดฟเดตเดเตเดทเดเตพเดเตเดเตเดฎเดพเดฃเต เดเดเตเดเตพ เดเดคเตเดคเดฐเดตเดพเดฆเดฟเดเดณเดพเดเดพเดคเตเดคเดคเต.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->