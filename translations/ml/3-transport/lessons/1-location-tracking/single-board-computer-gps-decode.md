# GPS เดกเดพเดฑเตเดฑ เดกเตเดเตเดกเต เดเตเดฏเตเดฏเตเด - เดตเตเตผเดเตเดเตเดตเตฝ IoT เดนเดพเตผเดกเตโเดตเตเดฏเตผ เฆเฆฌเฆ เดฑเดพเดธเตเดชเตเดฌเตเดฑเดฟ เดชเต

เดชเดพเดเดคเตเดคเดฟเดจเตเดฑเต เด เดญเดพเดเดคเตเดคเดฟเตฝ, เดฑเดพเดธเตเดชเตเดฌเตเดฑเดฟ เดชเต เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดตเตเตผเดเตเดเตเดตเตฝ IoT เดเดชเดเดฐเดฃเด เดจเดฟเดจเตเดจเดพเดฏเดฟ GPS เดธเตเตปเดธเดฑเดฟเตฝ เดจเดฟเดจเตเดจเตเดณเตเดณ NMEA เดธเดจเตเดฆเตเดถเดเตเดเตพ เดกเตเดเตเดกเต เดเตเดฏเตเดคเต, เดจเดฟเดฐเดชเตเดชเตเด เดฐเตเดเดพเดเดถเดตเตเด (latitude and longitude) เดชเตเดฑเดคเตเดคเตเดเตเดเตเดเตเด.

## GPS เดกเดพเดฑเตเดฑ เดกเตเดเตเดกเต เดเตเดฏเตเดฏเตเด

เดฑเต เดช NMEA เดกเดพเดฑเตเดฑ เดธเตเดฐเดฟเดฏเตฝ เดชเตเตผเดเตเดเดฟเตฝ เดจเดฟเดจเตเดจเต เดตเดพเดฏเดฟเดเตเดเดคเดฟเดจเต เดถเตเดทเด, เดเดชเตเดชเตบ เดธเตเดดเตโเดธเต NMEA เดฒเตเดฌเตเดฐเดฑเดฟ เดเดชเดฏเตเดเดฟเดเตเดเต เดเดคเดฟเดจเต เดกเตเดเตเดกเต เดเตเดฏเตเดฏเดพเด.

### เดเดพเดธเตเดเต - GPS เดกเดพเดฑเตเดฑ เดกเตเดเตเดกเต เดเตเดฏเตเดฏเตเด

GPS เดกเดพเดฑเตเดฑ เดกเตเดเตเดกเต เดเตเดฏเตเดฏเดพเดจเดพเดฏเดฟ เดเดชเดเดฐเดฃเด เดชเตเดฐเตเดเตเดฐเดพเด เดเตเดฏเตเดฏเตเด.

1. `gps-sensor` เดเดชเตเดชเต เดชเตเดฐเตเดเดเตเดฑเตเดฑเต เดคเตเดฑเดเตเดเตเด, เดเดคเดฟเดจเดเด เดคเตเดฑเดจเตเดจเดฟเดฐเดฟเดเตเดเดฟเดฒเตเดฒเตเดเตเดเดฟเตฝ

1. `pynmea2` เดชเดฟเดชเตเดชเต เดชเดพเดเตเดเตเดเต เดเตปเดธเตเดฑเตเดฑเดพเตพ เดเตเดฏเตเดฏเตเด. เด เดชเดพเดเตเดเตเดเต NMEA เดธเดจเตเดฆเตเดถเดเตเดเตพ เดกเตเดเตเดกเต เดเตเดฏเตเดฏเดพเดจเตเดณเตเดณ เดเตเดกเต เดเตพเดเตเดเตเดณเตเดณเตเดจเตเดจเต.

    ```sh
    pip3 install pynmea2
    ```

1. `app.py` เดซเดฏเดฒเดฟเตฝ `pynmea2` เดฎเตเดกเตเดฏเตเตพ เดเดฑเดเตเดเตเดฎเดคเดฟ เดเตเดฏเตเดฏเดพเตป เดคเดพเดดเต เดเตเดเตเดคเตเดค เดเตเดกเต เดเดเดชเตเตผเดเตเดเดฟเตฝ เดเตเตผเดเตเดเตเด:

    ```python
    import pynmea2
    ```

1. `print_gps_data` เดซเดเดเตเดทเดจเตเดฑเต เดเดณเตเดณเดเดเตเดเด เดคเดพเดดเต เดเตเดเตเดคเตเดคเดคเตเดฎเดพเดฏเดฟ เดชเดเดฐเตเด:

    ```python
    msg = pynmea2.parse(line)
    if msg.sentence_type == 'GGA':
        lat = pynmea2.dm_to_sd(msg.lat)
        lon = pynmea2.dm_to_sd(msg.lon)

        if msg.lat_dir == 'S':
            lat = lat * -1

        if msg.lon_dir == 'W':
            lon = lon * -1

        print(f'{lat},{lon} - from {msg.num_sats} satellites')
    ```

    เด เดเตเดกเต UART เดธเตเดฐเดฟเดฏเตฝ เดชเตเตผเดเตเดเดฟเตฝ เดจเดฟเดจเตเดจเต เดตเดพเดฏเดฟเดเตเด เดฒเตเตป เดชเดพเดดเตเดธเตเดเตเดฏเตเดฏเดพเตป `pynmea2` เดฒเตเดฌเตเดฐเดฑเดฟ เดเดชเดฏเตเดเดฟเดเตเดเตเด.

    เดธเดจเตเดฆเตเดถเดคเตเดคเดฟเดจเตเดฑเต เดธเตเดจเตเดฑเตปเดธเต เดคเดฐเด `GGA` เดเดฃเตเดเตเดเดฟเตฝ, เดเดคเต เดเดฐเต เดธเตเดฅเดพเดจเดซเดฟเดเตโเดธเต เดธเดจเตเดฆเตเดถเดฎเดพเดฃเต, เดเตเดเดพเดคเต เด เดธเดจเตเดฆเตเดถเด เดชเตเดฐเตเดธเดธเตเดธเต เดเตเดฏเตเดฏเดชเตเดชเตเดเตเด. เดธเดจเตเดฆเตเดถเดคเตเดคเดฟเตฝ เดจเดฟเดจเตเดจเตเดณเตเดณ เดจเดฟเดฐเดชเตเดชเตเด เดฐเตเดเดพเดเดถเดตเตเด เดตเดพเดฏเดฟเดเตเดเต, NMEA็ไธ ddmm.mmmm เดฐเตเดชเดคเตเดคเดฟเตฝ เดจเดฟเดจเตเดจเดพเดฏเดฟ เดกเตเดธเดฟเดฎเตฝ เดกเดฟเดเตเดฐเตเดธเดพเดฏเดฟ เดฎเดพเดฑเตเดฑเตเดจเตเดจเต.  `dm_to_sd` เดซเดเตเดเตเดทเตป เด เดชเดฐเดฟเดตเตผเดคเตเดคเดจเด เดจเดเดคเตเดคเตเดจเตเดจเต.

    latitude เดจเตเดฑเต เดฆเดฟเดถ เดชเดฐเดฟเดถเตเดงเดฟเดเตเดเต, เดฆเดเตเดทเดฟเดฃเดฎเดพเดฃเตเดเตเดเดฟเตฝ เดฎเดพเดจเตเดฏเด (value) เดจเตเดเดฑเตเดฑเตเดตเต เดเดเตเดเดฟ เดฎเดพเดฑเตเดฑเตเดจเตเดจเต. longitude เดฎเดพเดฑเตเดฑเดฟเดฏเดคเตเดชเตเดฒเต, เดชเดเดฟเดเตเดเดพเดฑเต เดเดฃเตเดเตเดเดฟเตฝ เดจเตเดเดฑเตเดฑเตเดตเต เดเดเตเด.

    เดเดตเดธเดพเดจเด เดจเดฟเดเตเดทเดฟเดชเตเดคเดฎเดพเดเตเดเดฟเดฏ เดธเตเดฅเดฟเดคเดฟ เดเตเตผเดกเดฟเดจเตเดฑเตเดฑเตเดเตพ เดเตบเดธเตเดณเดฟเตฝ เดกเดฟเดธเตโเดชเตเดฒเต เดเตเดฏเตเดฏเตเด, เดเตเดเดพเดคเต เดญเตเดฎเดฟเดเตเดทเตเดคเตเดฐเด เดเดฃเตเดเตเดคเตเดคเดพเตป เดเดชเดฏเตเดเดฟเดเตเดเตเดณเดณ เดเดชเดเตเดฐเดนเดเตเดเดณเตเดเต เดเดฃเตเดฃเด เดเดพเดฃเดฟเดเตเดเตเด.

1. เดเตเดกเต เดฑเตบ เดเตเดฏเตเดฏเตเด. เดจเดฟเดเตเดเตพ เดตเตเตผเดเตเดเตเดตเตฝ IoT เดเดชเดเดฐเดฃเด เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจเตเดตเตเดเตเดเดฟเตฝ, CounterFit เดเดชเตเดชเต เดเดเตเดเดฏเดพเดฃเตเดจเตเดจเต เดเดฑเดชเตเดชเดพเดเตเดเตเด, GPS เดกเดพเดฑเตเดฑ เดเดฏเดฏเตโเดเตเดเดชเตเดชเตเดเตเดเดฏเดพเดฃเต.

    ```output
    pi@raspberrypi:~/gps-sensor $ python3 app.py 
    47.6423109,-122.1390293 - from 3 satellites
    ```

> ๐ เด เดเตเดกเต [code-gps-decode/virtual-device](../../../../../3-transport/lessons/1-location-tracking/code-gps-decode/virtual-device) เดซเตเตพเดกเดฑเดฟเดฒเตเด, เดเดฒเตเดฒเตเดเตเดเดฟเตฝ [code-gps-decode/pi](../../../../../3-transport/lessons/1-location-tracking/code-gps-decode/pi) เดซเตเตพเดกเดฑเดฟเดฒเตเด เดเดฃเตเดเตเดคเตเดคเดพเตป เดเดดเดฟเดฏเตเด.

๐ เดกเดพเดฑเตเดฑ เดกเตเดเตเดกเดฟเดเตเดเตเดเตเดณเตเดณ เดจเดฟเดเตเดเดณเตเดเต GPS เดธเตเตปเดธเตผ เดชเตเดฐเตเดเตเดฐเดพเด เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ เดชเตเตผเดคเตเดคเดฟเดฏเดพเดฏเดฟ!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**เดเดฟเดฒเตเดฒเดตเต:**
เด เดกเตเดเตเดฏเดฎเตเตปเดฑเต เด.เด. เดชเดฐเดฟเดญเดพเดทเดพ เดธเตเดตเดจเด [เดเต-เดเดชเตเดชเต เดเตเดฐเดพเตปเดธเตโเดฒเตเดฑเตเดฑเตผ](https://github.com/Azure/co-op-translator) เดเดชเดฏเตเดเดฟเดเตเดเต เดชเดฐเดฟเดญเดพเดทเดชเตเดชเตเดเตเดคเตเดคเดฟเดฏเดคเดพเดฃเต. เดจเดพเด เดธเดคเตเดฏเดธเดจเตเดงเดคเดฏเตเดเตเดเต เดถเตเดฐเดฎเดฟเดเตเดเดพเดฒเตเด, เดธเตเดตเดฏเดเดเดพเดฐเตเดฏเดฎเดพเดฏ เดชเดฐเดฟเดญเดพเดทเดฏเดฟเตฝ เดชเดฟเดดเดตเตเดเตพ เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดธเตเดตเดเดพเดฐเตเดฏเดคเดเตพ เดเดฃเตเดเดพเดฏเดฟเดฐเดฟเดเตเดเตเดตเดพเตป เดธเดพเดงเตเดฏเดคเดฏเตเดฃเตเดเตเดจเตเดจเต เดฆเดฏเดตเดพเดฏเดฟ เดถเตเดฐเดฆเตเดงเดฟเดเตเดเตเด. เดเดเตเดเดพเดฐเตเดฏเด เดเดคเตเดเตเดเดฟเดฒเตเด เดจเดฟเตผเดฃเดพเดฏเด เดตเดฟเดตเดฐเดเตเดเตพเดเตเดเต, เดชเตเดฐเตเดซเดทเดฃเตฝ เดฎเดพเดจเดต เดชเดฐเดฟเดญเดพเดท เดเตเดฃเดจเดฟเดฒเดตเดพเดฐเดฎเตเดณเตเดณเดคเดพเดฃเต เดถเตเดชเดพเตผเดถ เดเตเดฏเตเดฏเตเดจเตเดจเดคเต. เด เดชเดฐเดฟเดญเดพเดท เดเดชเดฏเตเดเดคเตเดคเดฟเตฝ เดจเดฟเดจเตเดจเตเดณเตเดณ เดคเตเดฑเตเดฑเดฟเดฆเตเดงเดฐเดฟเดชเตเดชเดฟเดเตเดเตฝ เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดฆเตเดฐเตเดชเดฏเตเดเดคเตเดคเดฟเดจเต เดเดเตเดเตพ เดเดคเตเดคเดฐเดตเดพเดฆเดฟเดฏเดฒเตเดฒ.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->