# เดจเดฟเดเตเดเดณเตเดเต IoT เดเดชเดเดฐเดฃเดคเตเดคเดฟเตฝ เดจเดฟเดจเตเดจเตเดณเตเดณ เดเดฌเตโเดเดเตเดฑเตเดฑเต เดกเดฟเดฑเตเดฑเดเตเดเตผ เดตเดฟเดณเดฟเดเตเดเตเด - Wio เดเตเตผเดฎเดฟเดจเตฝ

เดเดฐเต เดคเดตเดฃ เดจเดฟเดเตเดเดณเตเดเต เดเดฌเตโเดเดเตเดฑเตเดฑเต เดกเดฟเดฑเตเดฑเดเตเดเตผ เดชเตเดฐเดธเดฟเดฆเตเดงเตเดเดฐเดฟเดเตเดเตเดเดดเดฟเดเตเดเดพเตฝ, เดเดคเต เดจเดฟเดเตเดเดณเตเดเต IoT เดเดชเดเดฐเดฃเดคเตเดคเดฟเตฝ เดจเดฟเดจเตเดจเต เดเดชเดฏเตเดเดฟเดเตเดเดพเตป เดเดดเดฟเดฏเตเด.

## เดเดฎเตเดเต เดเตเดฒเดพเดธเดฟเดซเดฏเตผ เดชเตเดฐเตเดเดเตเดเต เดชเดเตผเดชเตเดชเตเดเตเดฏเตเดฏเตเด

เดจเดฟเดเตเดเดณเตเดเต เดธเตเดฑเตเดฑเตเดเตเดเต เดกเดฟเดฑเตเดฑเดเตเดเดฑเดฟเดจเตเดฑเต เดญเตเดฐเดฟเดญเดพเดเดตเตเด เดจเดฟเดเตเดเตพ เดฎเตเดฎเตเดชเดคเตเดคเต เดชเดพเดเดคเตเดคเดฟเตฝ เดธเตเดทเตเดเดฟเดเตเด เดเดฎเตเดเต เดเตเดฒเดพเดธเดฟเดซเดฏเดฑเดฟเดจเตเดเต เดธเดฎเดพเดจเดฎเดพเดฃเต.

### เดเดพเดธเตโเดเต - เดเดฎเตเดเต เดเตเดฒเดพเดธเดฟเดซเดฏเตผ เดชเตเดฐเตเดเดเตเดเต เดชเดเตผเดชเตเดชเตเดเตเดฏเตเดฏเตเด

1. เดจเดฟเดเตเดเดณเตเดเต ArduCam เดจเดฟเดเตเดเดณเตเดเต Wio เดเตเตผเดฎเดฟเดจเดฒเดฟเตฝ เดฌเดจเตเดงเดฟเดชเตเดชเดฟเดเตเดเตเด, [เดฎเดพเดจเตเดซเดพเดเตเดเดฑเดฟเดเดเดฟเตปเดฑเต เดชเดพเดเด 2](../../../4-manufacturing/lessons/2-check-fruit-from-device/wio-terminal-camera.md#task---connect-the-camera) เดฒเต เดชเดเดฟเดเตพ เดชเดพเดฒเดฟเดเตเดเต.

    เดจเดฟเดเตเดเตพเดเตเดเต เดเตเดฏเดพเดฎเดฑ เดเดฐเต เดธเตเดฅเดฒเดคเตเดคเต เดจเดฟเดถเตเดเดฟเดคเดฎเดพเดเตเดเดฟ เดตเดฏเตเดเตเดเดพเดจเดพเดตเดพเด, เดเดฆเดพเดนเดฐเดฃเดคเตเดคเดฟเดจเต, เดเตเดฌเดฟเดณเตโ เดเดฐเต เดฌเตเดเตเดธเดฟเดจเต เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดเดพเดจเดฟเดจ เดฎเตเดเดณเดฟเตฝ เดคเตเดเตเดเดฟเดฏเดฟเดเตเดเต, เดเดฒเตเดฒเตเดเตเดเดฟเดฒเตโ เดเตเดฏเดพเดฎเดฑ เดฐเดฃเตเดเตเดตเดถเด เดเตเดชเตเดชเต เดเดชเดฏเตเดเดฟเดเตเดเต เดเดฐเต เดฌเตเดเตเดธเดฟเดฒเตโ เดฎเตเดฑเตเดเตเดเดฟ เดจเดฟเตผเดคเตเดคเตเดจเตเดจเดคเดฟเดฒเตเดเต.

1. PlatformIO เดเดชเดฏเตเดเดฟเดเตเดเต เดเดฐเต เดชเตเดคเดฟเดฏ Wio เดเตเตผเดฎเดฟเดจเตฝ เดชเตเดฐเตเดเดเตเดเต เดธเตเดทเตเดเดฟเดเตเดเตเด. เด เดชเตเดฐเตเดเดเตเดเดฟเดจเต `stock-counter` เดเดจเตเดจเตเด เดชเตเดฐเต เดจเดฒเตโเดเตเด.

1. เดเตเดฏเดพเดฎเดฑเดฏเดฟเตฝ เดจเดฟเดจเตเดจเต เดเดฟเดคเตเดฐเดเตเดเตพ เดชเดเดฐเตโเดคเตเดคเดพเตป [เดฎเดพเดจเตเดซเดพเดเตเดเดฑเดฟเดเดเดฟเตปเดฑเต เดชเดพเดเด 2](../../../4-manufacturing/lessons/2-check-fruit-from-device/README.md#task---capture-an-image-using-an-iot-device) เดฒเต เดชเดเดฟเดเตพ เดชเตเดจเดฐเดพเดตเตผเดคเตเดคเดฟเดเตเดเตเด.

1. เดเดฎเตเดเต เดเตเดฒเดพเดธเดฟเดซเดฏเดฑเดฟเดจเต เดตเดฟเดณเดฟเดเตเดเดพเตป [เดฎเดพเดจเตเดซเดพเดเตเดเดฑเดฟเดเดเดฟเตปเดฑเต เดชเดพเดเด 2](../../../4-manufacturing/lessons/2-check-fruit-from-device/README.md#task---classify-images-from-your-iot-device) เดฒเต เดชเดเดฟเดเตพ เดชเตเดจเดฐเดพเดตเตผเดคเตเดคเดฟเดเตเดเตเด. เดเดฌเตโเดเดเตเดฑเตเดฑเตเดเตพ เดคเดฟเดฐเดฟเดเตเดเดฑเดฟเดฏเดพเตป เดญเตเดฐเดฟเดญเดพเดเด เดเตเดกเต เดตเตเดฃเตเดเตเด เดเดชเดฏเตเดเดฟเดเตเดเตเด.

## เดเตเดกเต เดเตเดฒเดพเดธเดฟเดซเดฏเดฑเดฟเตฝ เดจเดฟเดจเตเดจเต เดเดฎเตเดเต เดกเดฟเดฑเตเดฑเดเตเดเดฑเดพเดฏเดฟ เดฎเดพเดฑเตเดฑเตเด

เดจเดฟเดเตเดเตพ เดเดฟเดคเตเดฐเดเตเดเตพ เดเตเดฒเดพเดธเดฟเดซเต เดเตเดฏเตเดค เดเตเดกเต เดเดฌเตโเดเดเตเดฑเตเดฑเตเดเตพ เดเดฃเตเดเตเดคเตเดคเดพเดจเตเดณเตเดณ เดเตเดกเดฟเดจเตเดเต เดตเดณเดฐเต เดธเดฎเดพเดจเดฎเดพเดฃเต. เดชเตเดฐเดงเดพเดจ เดตเตเดฏเดคเตเดฏเดพเดธเด Custom Vision-เตฝ เดจเดฟเดจเตเดจเต เดฒเดญเดฟเดเตเด URL-เดเด เดเตเดณเดฟเดจเตเดฑเต เดซเดฒเดตเตเด เดเดฃเต.

### เดเดพเดธเตโเดเต - เดเตเดกเต เดเตเดฒเดพเดธเดฟเดซเดฏเดฑเดฟเตฝ เดจเดฟเดจเตเดจเต เดเดฎเตเดเต เดกเดฟเดฑเตเดฑเดเตเดเดฑเดพเดฏเดฟ เดฎเดพเดฑเตเด

1. `main.cpp` เดซเดฏเดฒเดฟเดจเตเดฑเต เดฎเตเดเดณเดฟเตฝ เดคเดพเดดเตเดฏเตเดณเตเดณ เดเตปเดเตเดฒเตเดกเต เดจเดฟเตผเดฆเตเดฆเตเดถเด เดเตเตผเดเตเดเตเด:

    ```cpp
    #include <vector>
    ```

1. `classifyImage` เดซเดเดเตเดทเตป เดชเตเดฐเดฟเดจเต `detectStock` เดเดฏเดฟ เดฎเดพเดฑเตเดฑเตเด, เดซเดเดเตเดทเดจเตเดฑเต เดชเตเดฐเตเด `buttonPressed` เดซเดเดโเดทเดจเดฟเตฝ เดเดฃเตเดเดพเดฏ ฺฉุงูเตเด.

1. `detectStock` เดซเดเดเตเดทเดจเดฟเดจเต เดฎเตเดเดณเดฟเตฝ, probability เดเตเดฑเดเตเด เดกเดฟเดฑเตเดฑเดเตเดทเดจเตเดเตพ เดซเดฟเตฝเดเตเดเตผ เดเตเดฏเตเดฏเดพเตป เดเดฐเต เดคเตเดฐเตเดทเตเตพเดกเต เดชเตเดฐเดเตเดฏเดพเดชเดฟเดเตเดเตเด:

    ```cpp
    const float threshold = 0.3f;
    ```

    เดเดฐเต เดเดพเดเดฟเดจเต เดเดฐเต เดซเดฒเด เดฎเดพเดคเตเดฐเดฎเดพเดฃเต เดจเตฝเดเตเดจเตเดจ เดเดฎเตเดเต เดเตเดฒเดพเดธเดฟเดซเดฏเดฑเดฟเดจเตเดเต เดตเตเดฏเดคเตเดฏเดธเตเดคเดฎเดพเดฏเดฟ, เดเดฌเตโเดเดเตเดฑเตเดฑเต เดกเดฟเดฑเตเดฑเดเตเดเตผ เดชเดฒ เดซเดฒเดเตเดเดณเตเด เดจเตฝเดเตเด; เดเดคเดฟเดจเดพเตฝ เดเตเดฑเดเตเด probability เดเดณเตเดณเดต เดซเดฟเตฝเดเตเดเตผ เดเตเดฏเตเดฏเดฃเด.

1. `detectStock` เดซเดเดเตเดทเดจเดฟเดจเต เดฎเตเดเดณเดฟเตฝ, เดชเตเดฐเดตเดเดจเดเตเดเตพ เดชเตเดฐเตเดธเดธเตเดธเตเดเตเดฏเตเดฏเดพเตป เดเดฐเต เดซเดเดเตเดทเตป เดชเตเดฐเดเตเดฏเดพเดชเดฟเดเตเดเตเด:

    ```cpp
    void processPredictions(std::vector<JsonVariant> &predictions)
    {
        for(JsonVariant prediction : predictions)
        {
            String tag = prediction["tagName"].as<String>();
            float probability = prediction["probability"].as<float>();
    
            char buff[32];
            sprintf(buff, "%s:\t%.2f%%", tag.c_str(), probability * 100.0);
            Serial.println(buff);
        }
    }
    ```

    เดเดคเต เดชเตเดฐเดตเดเดจเดเตเดเดณเตเดเต เดชเดเตเดเดฟเด เดเดเตเดคเตเดคเต เดเดต เดธเตเดฐเดฟเดฏเตฝ เดฎเตเดฃเดฟเดฑเตเดฑเดฑเดฟเตฝ เดชเตเดฐเดฟเดจเตเดฑเต เดเตเดฏเตเดฏเตเดจเตเดจเต.

1. `detectStock` เดซเดเดเตเดทเดจเดฟเดฒเตเดฃเตเดเดพเดฏ เดชเตเดฐเดตเดเดจเดเตเดเดณเตเดเต เดฒเดพเดคเตเดคเดฟเตฝ เดฒเตเดชเตเดชเดฟเดจเตเดณเตเดณ เดเดณเตเดณเดเดเตเดเด เดคเดพเดดเต เดชเดฑเดฏเตเดจเตเดจเดตเดฏเดฟเดฒเตเดเตเดเต เดฎเดพเดฑเตเดฑเตเด:

    ```cpp
    std::vector<JsonVariant> passed_predictions;

    for(JsonVariant prediction : predictions) 
    {
        float probability = prediction["probability"].as<float>();
        if (probability > threshold)
        {
            passed_predictions.push_back(prediction);
        }
    }

    processPredictions(passed_predictions);
    ```

    เดเดคเต probability-เดจเต เดคเตเดฐเตเดทเตเตพเดกเตเดฎเดพเดฏเดฟ เดคเดพเดฐเดคเดฎเตเดฏเด เดเตเดฏเตเดฏ๋ฉฐ เดชเตเดฐเดตเดเดจเดเตเดเตพ เดชเดฐเดฟเดถเตเดงเดฟเดเตเดเตเดจเตเดจเต. เดคเตเดฐเตเดทเตเตพเดกเดฟเดจเตเดเตเดเดพเตพ probability เดเตเดเดฟเดฏ เดเดฒเตเดฒเดพ เดชเตเดฐเดตเดเดจเดเตเดเดณเตเด `list`-เดฒเดพเดเตเดเดฟ `processPredictions` เดซเดเดเตเดทเดจเดฟเดฒเตเดเตเดเต เดเดฏเดฏเตเดเตเดเตเดจเตเดจเต.

1. เดจเดฟเดเตเดเดณเตเดเต เดเตเดกเต เดเดชเตโเดฒเตเดกเต เดเตเดฏเตเดคเต เดชเตเดฐเดตเตผเดคเตเดคเดฟเดชเตเดชเดฟเดเตเดเตเด. เดเตเดฏเดพเดฎเดฑเดฏเต เดเดฐเต เดทเตเตฝเดซเดฟเดฒเต เดเดฌเตโเดเดเตเดฑเตเดฑเตเดเดณเต เดฒเดเตเดทเตเดฏเดฎเดฟเดเตเดเต C เดฌเดเตเดเตบ เดฎเตเดเตเดเตเด. เดธเตเดฐเดฟเดฏเตฝ เดฎเตเดฃเดฟเดฑเตเดฑเดฑเดฟเตฝ เดเดเตเดเตเดชเตเดเตเดเต เดเดพเดฃเดพเด:

    ```output
    Connecting to WiFi..
    Connected!
    Image captured
    Image read to buffer with length 17416
    tomato paste:   35.84%
    tomato paste:   35.87%
    tomato paste:   34.11%
    tomato paste:   35.16%
    ```

    > ๐ เดจเดฟเดเตเดเดณเตเดเต เดเดฟเดคเตเดฐเดเตเดเตพเดเตเดเต เดเดจเตเดฏเตเดเตเดฏเดฎเดพเดฏ เดฎเตเดฒเตเดฏเด เดธเตเดฑเตเดฑเต เดเตเดฏเตเดฏเดพเตป `threshold` เดเตเดฐเดฎเตเดเดฐเดฟเดเตเดเตเดฃเตเดเดคเดพเดฏเดฟ เดตเดฐเดพเด.

    เดเดเตเดคเตเดค เดเดฟเดคเตเดฐเด, เด เดฎเตเดฒเตเดฏเดเตเดเตพ เดเดจเตเดจเดฟเดต Custom Vision-เดฒเตเดณเตเดณ **Predictions** เดเดพเดฌเดฟเตฝ เดเดพเดฃเดพเตป เดธเดพเดงเดฟเดเตเดเตเด.

    ![เดทเตเตฝเดซเดฟเดฒเต 4 เดเตเดฎเดพเดฑเตเดฑเต เดชเตเดธเตเดฑเตเดฑเต เดเดพเตปเดธเตเดเตพ, เดจเดฟเดฐเตเดเตเดทเดฃเดคเตเดคเดฟเดจเตเดณเตเดณ เดชเตเดฐเดตเดเดจเดเตเดเตพ: 35.8%, 33.5%, 25.7%, 16.6%](../../../../../translated_images/ml/custom-vision-stock-prediction.942266ab1bcca341.webp)

> ๐ เด เดเตเดกเต [code-detect/wio-terminal](../../../../../5-retail/lessons/2-check-stock-device/code-detect/wio-terminal) เดซเตเตพเดกเดฑเดฟเตฝ เดฒเดญเตเดฏเดฎเดพเดฃเต.

๐ เดจเดฟเดเตเดเดณเตเดเต เดธเตเดฑเตเดฑเตเดเตเดเต เดเตเดฃเตเดเตผ เดชเตเดฐเตเดเตเดฐเดพเด เดตเดฟเดเดฏเดฟเดชเตเดชเดฟเดเตเดเต!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**เดเดธเตเดฐเดเตเดทเดพ เดเตเดฑเดฟเดชเตเดชเต**:
เด เดฐเตเด AI เดตเดฟเดตเดฐเตโเดคเตเดคเดจ เดธเตเดตเดจเด [Co-op Translator](https://github.com/Azure/co-op-translator) เดเดชเดฏเตเดเดฟเดเตเดเต เดตเดฟเดตเดฐเตโเดคเตเดคเดจเด เดเตเดฏเตโเดคเดคเดพเดฃเต. เดเดเตเดเดณเตโ เดถเดฐเดฟเดฏเดพเดฏ เดตเดฟเดตเดฐเตโเดคเตเดคเดจเดคเตเดคเดฟเดจเดพเดฏเดฟ เดชเดฐเดฟเดถเตเดฐเดฎเดฟเดเตเดเดฟเดเตเดเตเดฃเตเดเตเดเตเดเดฟเดฒเตเด, เดฏเดพเดจเตเดคเตเดฐเดฟเด เดตเดฟเดตเดฐเตโเดคเตเดคเดจเดเตเดเดณเดฟเดฒเตโ เดชเดฟเดดเดตเตเดเดณเตเด เดเดธเดพเดงเตเดคเดเดณเตเด เดเดฃเตเดเดพเดเดพเดฎเตเดจเตเดจเต เคเฅเดชเดฏเตเดฎเดพเดฏเดฟ เดถเตเดฐเดฆเตเดงเดฟเดเตเดเตเด. เดฏเดฅเดพเดฐเตโเดคเตเดฅ เดฐเตเด เดเดคเดฟเตปเตเดฑเต เดฎเดพเดคเตเดญเดพเดทเดฏเดฟเดฒเดพเดฃเต เดเดฆเตเดฏเตเดเดฟเด เดเดฑเดตเดฟเดเดฎเดพเดฏเดฟ เดเดฃเดเตเดเดพเดเตเดเตเดฃเตเดเดคเต. เดเตเดฐเตเดคเดฐเดฎเดพเดฏ เดตเดฟเดตเดฐเดเตเดเดณเตโเดเตเดเดพเดฏเดฟ, เดชเตเดฐเตเดซเดทเดฃเตฝ เดฎเดจเตเดทเตเดฏ เดตเดฟเดตเดฐเตโเดคเตเดคเดจเด เดถเตเดชเดพเตผเดถ เดเตเดฏเตเดฏเดชเตเดชเตเดเตเดจเตเดจเต. เด เดตเดฟเดตเดฐเตโเดคเตเดคเดจเดคเตเดคเดฟเดจเตเดฑเต เดเดชเดฏเตเดเดคเตเดคเดฟเตฝ เดจเดฟเดจเตเดจเต เดเดณเดตเดพเดเตเดจเตเดจ เดเดคเตเดเตเดเดฟเดฒเตเด เดคเตเดฑเตเดฑเดฟเดฆเตเดงเดพเดฐเดฃเดเตพเดเตเดเต เดฆเตเตผเดตเตเดฏเดพเดเตเดฏเดพเดจเดเตเดเตพเดเตเดเต เดเดเตเดเตพ เดเดคเตเดคเดฐเดตเดพเดฆเดฟเดเดณเดฒเตเดฒ.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->