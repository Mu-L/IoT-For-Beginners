# IoT Edge เดเดเดฟเดธเตเดฅเดพเดจเดฎเดพเดเตเดเดฟ เดเดฐเต เดเดฎเตเดเต เดเตเดฒเดพเดธเดฟเดซเดฏเตผ เดเดชเดฏเตเดเดฟเดเตเดเต เดเดฐเต เดเดฟเดคเตเดฐเด เดถเตเดฐเตเดฃเดฟ เดคเดฟเดฐเดฟเดเตเดเตเด - เดตเตเตผเดเตเดเตเดตเตฝ IoT เดนเดพเตผเดกเตโเดตเตเดฏเตผ าปำะผ Raspberry Pi

เดชเดพเดเดคเตเดคเดฟเดจเตเดฑเต เด เดญเดพเดเดคเตเดคเดฟเตฝ, เดจเดฟเดเตเดเตพ IoT Edge เดเดชเดเดฐเดฃเดคเตเดคเดฟเตฝ เดชเตเดฐเดตเตผเดคเตเดคเดฟเดเตเดเตเดจเตเดจ เดเดฎเตเดเต เดเตเดฒเดพเดธเดฟเดซเดฏเตผ เดเดชเดฏเตเดเดฟเดเตเดเตเด.

## IoT Edge เดเตเดฒเดพเดธเดฟเดซเดฏเตผ เดเดชเดฏเตเดเดฟเดเตเดเตเด

IoT เดเดชเดเดฐเดฃเด IoT Edge เดเดฎเตเดเต เดเตเดฒเดพเดธเดฟเดซเดฏเตผ เดเดชเดฏเตเดเดฟเดเตเดเดพเตป เดชเตเดจเตผเดจเดฟเตผเดฆเตเดฆเตเดถเดฟเดเตเดเดพเด. เดเดฎเตเดเต เดเตเดฒเดพเดธเดฟเดซเดฏเดฑเดฟเดจเต เดเดณเตเดณ URL `http://<IP address or name>/image` เดเดฃเต, เดเดตเดฟเดเต `<IP address or name>` เดเดจเตเดจเดคเต IoT Edge เดชเตเดฐเดตเตผเดคเตเดคเดฟเดชเตเดชเดฟเดเตเดเตเดจเตเดจ เดเดฎเตเดชเตเดฏเตเดเตเดเดฑเดฟเดจเตเดฑเต IP เดตเดฟเดฒเดพเดธเดฎเต เดนเตเดธเตเดฑเตเดฑเต เดชเตเดฐเต เดเดฏเดฟเดฐเดฟเดเตเดเดฃเด.

Custom Vision-เดจเต เดตเตเดฃเตเดเดฟ Python เดฒเตเดฌเตเดฐเดฑเดฟ เดเตเดฒเตเดกเต-เดนเตเดธเตเดฑเตเดฑเตเดเตเดฏเตโเดค เดฎเตเดกเดฒเตเดเดณเตเดฎเดพเดฏเดฟ เดฎเดพเดคเตเดฐเดฎเต เดชเตเดฐเดตเตผเดคเตเดคเดฟเดเตเดเต, IoT Edge-เตฝ เดนเตเดธเตเดฑเตเดฑเต เดเตเดฏเตเดค เดฎเตเดกเดฒเตเดเดณเตเดฎเดพเดฏเดฟ เดเดฒเตเดฒ. เดเดคเดฟเดจเดพเตฝ เดจเดฟเดเตเดเตพ REST API เฐเฐชเฐฏเฑเฐเดฟเดเตเดเต เดเตเดฒเดพเดธเดฟเดซเดฏเดฑเดฟเตฝ เดเตเดณเตเดเตเดฏเตเดฏเตเดฃเตเดเดคเดพเดฃเต.

### เดชเตเดฐเดตเตเดคเตเดคเดฟ - IoT Edge เดเตเดฒเดพเดธเดฟเดซเดฏเตผ เดเดชเดฏเตเดเดฟเดเตเดเตเด

1. เดจเดฟเดเตเดเตพเดเตเดเต `fruit-quality-detector` เดชเตเดฐเตเดเดเตเดเต VS Code-เตฝ เดคเตเดฑเดจเตเดจเดฟเดเตเดเดฟเดฒเตเดฒเตเดเตเดเดฟเตฝ เดคเตเดฑเดเตเดเตเด. เดจเดฟเดเตเดเตพ เดตเตเตผเดเตเดเตเดตเตฝ IoT เดเดชเดเดฐเดฃเด เดเดชเดฏเตเดเดฟเดเตเดเดพเตฝ, เดตเตเตผเดเตเดเตเดตเตฝ เดเตปเดตเดฏเตเตบเดฎเตเดจเตเดฑเต เดเดเตเดเดฟเดตเตเดฑเตเดฑเต เดเตเดฏเตเดคเดฟเดเตเดเตเดฃเตเดเตเดจเตเดจเต เดเดฑเดชเตเดชเตเดตเดฐเตเดคเตเดคเตเด.

1. `app.py` เดซเดฏเตฝ เดคเตเดฑเดเตเดเตเด, เดชเดฟเดจเตเดจเตเดเต `azure.cognitiveservices.vision.customvision.prediction` เดเดชเตเดชเด `msrest.authentication` เดจเดฟเดจเตเดจเตเด เดเดฑเดเตเดเตเดฎเดคเดฟ เดธเตเดฑเตเดฑเตเดฑเตเดฑเตเดฎเตเดจเตเดฑเตเดเตพ เดจเตเดเตเดเด เดเตเดฏเตเดฏเตเด.

1. เดซเดฏเดฒเดฟเดจเตเดฑเต เดฎเตเดเดณเดฟเตฝ เดคเดพเดดเต เดชเดฑเดฏเตเดจเตเดจ เดเดฑเดเตเดเตเดฎเดคเดฟ เดเตเตผเดเตเดเตเด:

    ```python
    import requests
    ```

1. เดเดฟเดคเตเดฐเด เดเดฐเต เดซเดฏเดฒเดฟเดฒเตเดเตเดเต เดธเดเดญเดฐเดฟเดเตเด เดถเตเดทเด `image_file.write(image.read())` เดฎเตเดคเตฝ เดซเดฏเดฒเดฟเดจเตเดฑเต เดเดตเดธเดพเดจเด เดตเดฐเต เดเดณเตเดณ เดเดฒเตเดฒเดพ เดเตเดกเตเดเดณเตเด เดฎเดพเดฏเตเดเตเดเตเด.

1. เดซเดฏเดฒเดฟเดจเตเดฑเต เดเดตเดธเดพเดจเด เดคเดพเดดเต เดชเดฑเดฏเตเดจเตเดจ เดเตเดกเต เดเตเตผเดเตเดเตเด:

    ```python
    prediction_url = '<URL>'
    headers = {
        'Content-Type' : 'application/octet-stream'
    }
    image.seek(0)
    response = requests.post(prediction_url, headers=headers, data=image)
    results = response.json()
    
    for prediction in results['predictions']:
        print(f'{prediction["tagName"]}:\t{prediction["probability"] * 100:.2f}%')
    ```

    เดจเดฟเดเตเดเดณเตเดเต เดเตเดฒเดพเดธเดฟเดซเดฏเดฑเดฟเดจเต URL เดจเตฝเดเตเดจเตเดจเดคเดฟเดจเต `<URL>` เดชเดเดฐเด เดตเดฏเตเดเตเดเตเด.

    เด เดเตเดกเต REST POST เดเดญเตเดฏเตผเดคเตเดฅเดจ เดเตเดฒเดพเดธเดฟเดซเดฏเดฑเดฟเดฒเตเดเตเดเต เดเดฏเดฏเตเดเตเดเตเดจเตเดจเต, เดเดฟเดคเตเดฐเดคเตเดคเต เดเดญเตเดฏเตผเดคเตเดฅเดจเดฏเตเดเต เดฌเตเดกเดฟเดฏเดพเดฏเดฟ เดเดฏเดเตเดเตเดเตเดฃเตเดเต. เดซเดฒเดเตเดเตพ JSON เดฐเตเดชเดคเตเดคเดฟเตฝ เดคเดฟเดฐเดฟเดเตเดเต เดตเดฐเตเด, เดเดคเต เดกเตเดเตเดกเต เดเตเดฏเตเดคเต เดชเตเดฐเดถเตเดจเดธเดพเดฆเตเดงเตเดฏเดคเดเตพ เดฎเตเดฆเตเดฐเดฟเดเตเดเตเด.

1. เดจเดฟเดเตเดเดณเตเดเต เดเตเดกเต เดชเตเดฐเดตเตผเดคเตเดคเดฟเดชเตเดชเดฟเดเตเดเตเด, เดเตเดฏเดพเดฎเดฑ เดเดฟเดฒ เดชเดดเด, เดเดจเตเดฏเตเดเตเดฏเดฎเดพเดฏ เดเดฟเดคเตเดฐเด เดธเดเตเดเดฎเดพเดเตเดเดฟเดฏเต, เดตเตเตผเดเตเดเตเดตเตฝ IoT เดนเดพเตผเดกเตโเดตเตเดฏเตผ เดเดชเดฏเตเดเดฟเดเตเดเดพเตฝ เดตเตเดฌเตโเดเดพเดฎเดฟเตฝ เดชเดดเด เดเดพเดฃเดฟเดเตเดเตเดจเตเดจเต เดเดจเตเดจ เดเดพเดฐเตเดฏเดคเตเดคเดฟเตฝ. เดเตบเดธเตเดณเดฟเตฝ เดเดตเฑเฐเตเดชเตเดเตเดเต เดเดพเดฃเตเด:

    ```output
    (.venv) โ  fruit-quality-detector python app.py
    ripe:   56.84%
    unripe: 43.16%
    ```

> ๐ เด เดเตเดกเต [code-classify/pi](../../../../../4-manufacturing/lessons/3-run-fruit-detector-edge/code-classify/pi) เดเดฒเตเดฒเตเดเตเดเดฟเตฝ [code-classify/virtual-iot-device](../../../../../4-manufacturing/lessons/3-run-fruit-detector-edge/code-classify/virtual-iot-device) เดซเตเตพเดกเดฑเดฟเตฝ เดเดพเดฃเดพเด.

๐ เดจเดฟเดเตเดเดณเตเดเต เดชเดดเด เดเตเดฃเดจเดฟเดฒเดตเดพเดฐ เดเตเดฒเดพเดธเดฟเดซเดฏเตผ เดชเตเดฐเตเดเตเดฐเดพเด เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ เดจเดเดจเตเดจเต!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**เดเดธเตเดตเตเดเดฐเดฃเด**:  
เด เดชเตเดฐเดฎเดพเดฃเด AI เดชเดฐเดฟเดญเดพเดท เดธเตเดตเดจเดฎเดพเดฏ [Co-op Translator](https://github.com/Azure/co-op-translator) เดเดชเดฏเตเดเดฟเดเตเดเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดคเดฟเดฐเดฟเดเตเดเตเดจเตเดจเต. เดจเดพเด เดเตเดคเตเดฏเดคเดฏเตเดเตเดเต เดถเตเดฐเดฎเดฟเดเตเดเตเดจเตเดจเดคเดพเดฏเดฟเดฐเตเดจเตเดจเดพเดฒเตเด, เดฏเดพเดจเตเดคเตเดฐเดฟเด เดชเดฐเดฟเดญเดพเดทเดเดณเดฟเตฝ เดชเดฟเดดเดตเตเดเดณเตเด เดเดธเดฎเดฏเดเดเดคเดเดณเตเด เดเดฃเตเดเดพเดเดพเด เดเดจเตเดจเต เดฆเดฏเดตเดพเดฏเดฟ เดฎเดจเดธเดฟเดฒเดพเดเตเดเตเด. เดธเดคเตเดฏเดธเดจเตเดง เดชเตเดฐเดฎเดพเดฃเด เดเดคเดฟเดจเตเดฑเต เดฎเดพเดคเตเดญเดพเดทเดฏเดฟเดฒเดพเดฃเต เดเดคเดพเดงเดฟเดเดพเดฐ เดเดฑเดตเดฟเดเดฎเตเดจเตเดจเต เดชเดฐเดฟเดเดฃเดฟเดเตเดเตเดฃเตเดเดคเดพเดฃเต. เดเดคเตเดฏเดพเดตเดถเตเดฏ เดตเดฟเดตเดฐเดเตเดเตพเดเตเดเต เดชเตเดฐเตเดซเดทเดฃเตฝ เดฎเดพเดจเตเดทเดฟเด เดชเดฐเดฟเดญเดพเดท เดจเดฟเตผเดฆเตเดฆเตเดถเดฟเดเตเดเตเดจเตเดจเต. เด เดชเดฐเดฟเดญเดพเดท เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจเดคเดฟเตฝ เดจเดฟเดจเตเดจเต เดเดฃเตเดเดพเดเตเดจเตเดจ เดเดคเตเดเตเดเดฟเดฒเตเด เดคเตเดฑเตเดฑเดฟเดฆเตเดงเดพเดฐเดฃเดเตพเดเตเดเต เดคเตเดฑเตเดฑเดพเดฏ เดตเตเดฏเดพเดเตเดฏเดพเดจเดเตเดเตพเดเตเดเต เดเดเตเดเตพ เดเดคเตเดคเดฐเดตเดพเดฆเดฟเดคเตเดตเด เดตเดนเดฟเดเตเดเตเดจเตเดจเดฟเดฒเตเดฒ.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->