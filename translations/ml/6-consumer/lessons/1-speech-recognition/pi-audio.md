# เดเดกเดฟเดฏเต เดชเดฟเดเดฟเดเตเดเตเด - Raspberry Pi

เดชเดพเดเดคเตเดคเดฟเดจเตเดฑเต เด เดญเดพเดเดคเตเดคเดฟเตฝ, เดจเดฟเดเตเดเดณเตเดเต Raspberry Pi-เดฏเดฟเตฝ เดเดกเดฟเดฏเต เดชเดฟเดเดฟเดเตเดเตเดจเตเดจเดคเดฟเดจเตเดณเตเดณ เดเตเดกเต เดจเดฟเดเตเดเตพ เดเดดเตเดคเดฟ เดคเตเดเดเตเดเตเด. เดเดกเดฟเดฏเต เดชเดฟเดเดฟเดเตเดเตฝ เดเดฐเต เดฌเดเตเดเตบ เดจเดฟเดฏเดจเตเดคเตเดฐเดฟเดเตเดเตเด.

## เดนเดพเตผเดกเตโเดตเตเดฏเตผ

Raspberry Pi-เดเตเดเต เดเดกเดฟเดฏเต เดชเดฟเดเดฟเดเตเดเตฝ เดจเดฟเดฏเดจเตเดคเตเดฐเดฟเดเตเดเดพเตป เดเดฐเต เดฌเดเตเดเตบ เดเดตเดถเตเดฏเดฎเตเดฃเตเดเต.

เดจเดฟเดเตเดเตพ เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจ เดฌเดเตเดเตบ เดเดฐเต Grove เดฌเดเตเดเตบ เดเดฃเต. เดเดคเต เดธเดฟเดเตเดจเตฝ เดเตบ เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดเดซเต เดเดเตเดเตเดจเตเดจ เดกเดฟเดเดฟเดฑเตเดฑเตฝ เดธเตเตปเดธเดฑเดพเดฃเต. เด เดฌเดเตเดเดฃเตเดเตพ เดเดฎเตผเดคเตเดคเดฟเดฏเดชเตเดชเตเตพ เดเดฏเตผเดจเตเดจ เดธเดฟเดเตเดจเตฝ เดเดฏเดฏเตเดเตเดเดพเดจเตเด, เดเดฎเตผเดคเตเดคเดพเดคเดฟเดฐเดฟเดเตเดเตเดจเตเดจเดชเตเดชเตเตพ เดคเดพเดดเตเดจเตเดจ เดธเดฟเดเตเดจเตฝ เดเดฏเดฏเตเดเตเดเดพเดจเตเด, เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดเดฎเตผเดคเตเดคเดฟเดฏเดชเตเดชเตเตพ เดคเดพเดดเตเดจเตเดจเตเด เดเดฎเตผเดคเตเดคเดพเดคitiroเดชเตเดชเตเดฎเตเดชเตเตพ เดเดฏเตผเดจเตเดจเตเด เดเดฏเดฏเตเดเตเดเดพเดจเตเดฎเดพเดเตเดจเตเดจเดคเดพเดฏเดฟ เดเตเดฐเดฎเตเดเดฐเดฟเดเตเดเดพเดตเตเดจเตเดจเดคเดพเดฃเต.

เดจเดฟเดเตเดเตพ ReSpeaker 2-Mics Pi HAT เดฎเตเดเตเดฐเตเดซเตเตบ เดเดฏเดฟ เดเดชเดฏเตเดเดฟเดเตเดเดพเตฝ, เดเดคเดฟเดจเดพเดฏเดฟ เดฌเดเตเดเตบ เดเดฃเดเตเดเต เดเตเดฏเตเดฏเตเดฃเตเดเดคเดฟเดฒเตเดฒ, เด เดนเดพเดฑเตเดฑเดฟเตฝ เดฌเดเตเดเตบ เดเดคเดฟเดจเดเด เดคเดจเตเดจเต เดฒเดฏเดฟเดเตเดเดฟเดฐเดฟเดเตเดเตเดจเตเดจเต. เดเดเตเดคเตเดค เดตเดฟเดญเดพเดเดคเตเดคเดฟเดฒเตเดเตเดเต เดเดเดเตเดเตเด.

### เดฌเดเตเดเตบ เดเดฃเดเตเดเต เดเตเดฏเตเดฏเตเด

เดฌเดเตเดเตบ Grove เดฌเตเดธเต เดนเดพเดฑเตเดฑเดฟเตฝ เดเดฃเดเตเดเต เดเตเดฏเตเดฏเดพเด.

#### เดเดพเดธเตเดเต - เดฌเดเตเดเตบ เดเดฃเดเตเดเต เดเตเดฏเตเดฏเตเด

![A grove button](../../../../../translated_images/ml/grove-button.a70cfbb809a85636.webp)

1. Grove เดเตเดฌเดฟเดณเดฟเดจเตเดฑเต เดเดฐเต็ซฏ เดฌเดเตเดเตบ เดฎเตเดกเตเดฏเตเดณเดฟเดฒเต เดธเตเดเดฑเตเดฑเดฟเตฝ เดเดเตเดเดฟเดเตเด. เดเดคเต เดเดฐเต เดฆเดฟเดถเดฏเดฟเตฝ เดฎเดพเดคเตเดฐเดฎเต เดจเตฝเดเตเดเดฏเตเดณเตเดณเต.

1. Raspberry Pi เดเดซเต เดเตเดฏเตเดคเดฟเดฐเดฟเดเตเดเตเดฎเตเดชเตเตพ, Grove เดเตเดฌเดฟเดณเดฟเดจเตเดฑเต เดฎเดฑเตเดตเดถเดคเตเดคเต Grove เดฌเตเดธเต เดนเดพเดฑเตเดฑเดฟเตฝ Pi-เดเตเดเต เดเดฃเดเตเดเต เดเตเดฏเตเดคเดฟเดเตเดเตเดณเตเดณ เดกเดฟเดเดฟเดฑเตเดฑเตฝ เดธเตเดเดฑเตเดฑเดพเดฏ **D5** เดเดจเตเดจ เดฒเตเดฌเดฒเตเดณเตเดณ เดธแแเดฑเตเดฑเดฟเตฝ เดเดฃเดเตเดเต เดเตเดฏเตเดฏเตเด. GPIO เดชเดฟเดจเตเดเดณเตเดเต เดเดเตเดคเตเดคเตเดณเตเดณ เดธเตเดเดฑเตเดฑเตเดเดณเตเดเต เดชเดเตเดเตฝ เดเดเดคเตเดตเดถเดคเตเดคเต เดจเดฟเดจเตเดจเตเด เดฐเดฃเตเดเดพเดฎเดคเดพเดฃเต เด เดธเตเดเตเดเดฑเตเดฑเต.

![The grove button connected to socket D5](../../../../../translated_images/ml/pi-button.c7a1a4f55943341c.webp)

## เดเดกเดฟเดฏเต เดชเดฟเดเดฟเดเตเดเตเด

Python เดเตเดกเต เดเดชเดฏเตเดเดฟเดเตเดเต เดฎเตเดเตเดฐเตเดซเตเดฃเดฟเตฝ เดจเดฟเดจเตเดจเต เดเดกเดฟเดฏเต เดชเดฟเดเดฟเดเตเดเดพเด.

### เดเดพเดธเตเดเต - เดเดกเดฟเดฏเต เดชเดฟเดเดฟเดเตเดเตเด

1. Pi เดชเดตเตผ เดเดชเตเดชเต เดเตเดฏเตเดคเต เดฌเตเดเตเดเต เดเตเดฏเตเดฏเตเดจเตเดจเดคเต เดเดพเดคเตเดคเดฟเดฐเดฟเดเตเดเตเด

1. VS Code เดเดฐเดเดญเดฟเดเตเดเตเด, เดชเดฟเดธเดฟเดฏเดฟเตฝ เดจเตเดฐเดฟเดเตเดเต เดเดฒเตเดฒเตเดเตเดเดฟเตฝ Remote SSH เดเดเตเดธเตเดฑเตเดฑเตปเดทเตป เดตเดดเดฟ เดเดฃเดเตเดเต เดเตเดฏเตเดคเต.

1. PyAudio เดชเดฟเดชเตเดชเต เดชเดพเดเตเดเตเดเดฟเตฝ เดเดกเดฟเดฏเต เดฑเตเดเตเดเตเตผเดกเต เดเตเดฏเตเดฏเดพเดจเตเด เดชเตเดฒเต เดเตเดฏเตเดฏเดพเดจเตเดฎเตเดณเตเดณ เดซเดเดเตเดทเดจเตเดเตพ เดเดฃเตเดเต. เด เดชเดพเดเตเดเตเดเต เดชเตเดฐเดตเตผเดคเตเดคเดฟเดเตเดเดพเตป เดเดฟเดฒ เดเดกเดฟเดฏเต เดฒเตเดฌเตเดฐเดฑเดฟเดเดณเต เดเดฆเตเดฏเด เดเตปเดธเตเดฑเตเดฑเดพเตพ เดเตเดฏเตเดฏเตเดฃเตเดเดคเดพเดฃเต. เดเตเตผเดฎเดฟเดจเดฒเดฟเตฝ เดคเดพเดดเต เดชเดฑเดฏเตเดจเตเดจ เดเดฎเดพเตปเดกเตเดเตพ เดชเตเดฐเดตเตผเดคเตเดคเดฟเดชเตเดชเดฟเดเตเดเต เดเตปเดธเตเดฑเตเดฑเดพเตพ เดเตเดฏเตเดฏเตเด:

    ```sh
    sudo apt update
    sudo apt install libportaudio0 libportaudio2 libportaudiocpp0 portaudio19-dev libasound2-plugins --yes 
    ```

1. PyAudio เดชเดฟเดชเตเดชเต เดชเดพเดเตเดเตเดเต เดเตปเดธเตเดฑเตเดฑเดพเตพ เดเตเดฏเตเดฏเตเด.

    ```sh
    pip3 install pyaudio
    ```

1. `smart-timer` เดเดจเตเดจ เดชเตเดคเดฟเดฏ เดซเตเตพเดกเตผ เดธเตเดทเตเดเดฟเดเตเดเต, เดเดคเดฟเดฒเตโ `app.py` เดเดจเตเดจ เดซเดฏเตฝ เดเตเตผเดเตเดเตเด.

1. เด เดซเดฏเดฒเดฟเดจเตเดฑเต เดฎเตเดเดณเดฟเตฝ เดคเดพเดดเตเดฏเตเดณเตเดณ เดเดฎเตเดชเตเตผเดเตเดเตเดเตพ เดเตเตผเดเตเดเตเด:

    ```python
    import io
    import pyaudio
    import time
    import wave
    
    from grove.factory import Factory
    ```

    เดเดคเต `pyaudio` เดฎเตเดกเตเดฏเตเตพ, เดตเตเดตเต เดซเดฏเดฒเตเดเตพ เดเตเดเดพเดฐเตเดฏเด เดเตเดฏเตเดฏเตเดจเตเดจเดคเดฟเดจเตเดณเตเดณ เดเดฟเดฒ เดธเตเดฑเตเดฑเดพเตปเดกเตเตผเดกเต Python เดฎเตเดกเตเดฏเตเดณเตเดเตพ, เดเตเดเดพเดคเต เดฌเดเตเดเตบ เดเตเดฒเดพเดธเต เดธเตเดทเตเดเดฟเดเตเดเดพเตป `grove.factory` เดฎเตเดกเตเดฏเตเตพ เดเดฎเตเดชเตเตผเดเตเดเต เดเตเดฏเตเดฏเตเดจเตเดจเต.

1. เดเดคเดฟเดจเต เดเตเดดเดฟเตฝ Grove เดฌเดเตเดเตบ เดธเตเดทเตเดเดฟเดเตเดเดพเตป เดเตเดกเต เดเตเตผเดเตเดเตเด.

    ReSpeaker 2-Mics Pi HAT เดเดชเดฏเตเดเดฟเดเตเดเดพเตฝ, เดคเดพเดดเต เดเดพเดฃเตเดจเตเดจ เดเตเดกเต เดเดชเดฏเตเดเดฟเดเตเดเตเด:

    ```python
    # ReSpeaker 2-เดฎเตเดเตเดเตเดเตพ Pi HAT เดฒเต เดฌเดเตเดเตบ
    button = Factory.getButton("GPIO-LOW", 17)
    ```

    เดเดคเต ReSpeaker 2-Mics Pi HAT เตฝ เดเดฃเดเตเดเต เดเตเดฏเตเดคเดฟเดฐเดฟเดเตเดเตเดจเตเดจ **D17** เดชเตเตผเดเตเดเดฟเตฝ เดฌเดเตเดเตบ เดธเตเดทเตเดเดฟเดเตเดเตเดจเตเดจเต. เด เดฌเดเตเดเตบ เดเดฎเตผเดคเตเดคเดฟเดฏเดชเตเดชเตเตพ เดคเดพเดดเตเดจเตเดจ เดธเดฟเดเตเดจเตฝ เดเดฏเดฏเตเดเตเดเดชเตเดชเตเดเตเดจเตเดจเดคเดพเดฏเดฟ เดเตเดฐเดฎเตเดเดฐเดฟเดเตเดเดฟเดฐเดฟเดเตเดเตเดจเตเดจเต.

    ReSpeaker 2-Mics Pi HAT เดเดชเดฏเตเดเดฟเดเตเดเดพเดคเดฟเดฐเดฟเดเตเดเตเดจเตเดจเตเดตเตเดเตเดเดฟเตฝ, Grove เดฌเดเตเดเตบ เดฌเตเดธเต เดนเดพเดฑเตเดฑเดฟเตฝ เดเดฃเดเตเดเต เดเตเดฏเตเดคเต เดคเดพเดดเต เดเดพเดฃเตเดจเตเดจ เดเตเดกเต เดเดชเดฏเตเดเดฟเดเตเดเตเด.

    ```python
    button = Factory.getButton("GPIO-HIGH", 5)
    ```

    เดเดคเต **D5** เดชเตเตผเดเตเดเดฟเตฝ เดเดฐเต เดฌเดเตเดเตบ เดธเตเดทเตเดเดฟเดเตเดเตเดจเตเดจเต, เดเดฎเตผเดคเตเดคเดฟเดฏเดชเตเดชเตเตพ เดเดฏเตผเดจเตเดจ เดธเดฟเดเตเดจเตฝ เดเดฏเดฏเตเดเตเดเตเดจเตเดจเดคเดพเดฏเดฟ เดเตเดฐเดฎเตเดเดฐเดฟเดเตเดเดฟเดฐเดฟเดเตเดเตเดจเตเดจเต.

1. เดเดคเดฟเดจเต เดเตเดดเดฟเตฝ PyAudio เดเตเดฒเดพเดธเดฟเดจเตเดฑเต เดเดฐเต เดเตปเดธเตเดฑเตเดฑเดพเตปเดธเต เดธเตเดทเตเดเดฟเดเตเดเต เดเดกเดฟเดฏเต เดเตเดเดพเดฐเตเดฏเด เดเตเดฏเตเดฏเตเด:

    ```python
    audio = pyaudio.PyAudio()
    ```

1. เดฎเตเดเตเดฐเตเดซเตเตบเดเตเดเตเด เดธเตเดชเตเดเตเดเดฑเดฟเดจเตเด เดนเดพเตผเดกเตโเดตเตเดฏเตผ เดเดพเตผเดกเต เดจเดฎเตเดชเตผ เดชเตเดฐเดเตเดฏเดพเดชเดฟเดเตเดเตเด. เดเดคเต เดจเดฟเดเตเดเตพ เดฎเตเดฎเตเดชเดฟเตฝ `arecord -l` , `aplay -l` เดเดจเตเดจเดฟเดต เดชเตเดฐเดตเตผเดคเตเดคเดฟเดชเตเดชเดฟเดเตเดเต เดเดฃเตเดเตเดคเตเดคเดฟเดฏ เดเดพเตผเดกเต เดจเดฎเตเดชเตผ เดเดฏเดฟเดฐเดฟเดเตเดเตเด.

    ```python
    microphone_card_number = <microphone card number>
    speaker_card_number = <speaker card number>
    ```

    `<microphone card number>` เดเดจเตเดจเต เดจเดฟเดเตเดเดณเตเดเต เดฎเตเดเตเดฐเตเดซเตเตบ เดเดพเตผเดกเต เดจเดฎเตเดชเดฑเตเดเต เดฎเดพเดฑเตเดฑเตเด.

    `<speaker card number>` เดเดจเตเดจเต เดจเดฟเดเตเดเดณเตเดเต เดธเตเดชเตเดเตเดเตผ เดเดพเตผเดกเต เดจเดฎเตเดชเดฑเตเดเต เดฎเดพเดฑเตเดฑเตเด, เดเดคเต `alsa.conf` เดซเดฏเดฒเดฟเตฝ เดจเดฟเดเตเดเตพ เดธเดเตเดเดฎเดพเดเตเดเดฟเดฏ เดจเดฎเตเดชเดฑเตเด เดเดเตเด.

1. เดเดคเดฟเดจเต เดเตเดดเดฟเตฝ เดเดกเดฟเดฏเต เดชเดฟเดเดฟเดเตเดเดพเดจเตเด เดชเตเดฒเต เดเตเดฏเตเดฏเดพเดจเตเด เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจ เดธเดพเดฎเตเดชเดฟเตพ เดฑเตเดฑเตเดฑเต เดชเตเดฐเดเตเดฏเดพเดชเดฟเดเตเดเตเด. เดเดคเต เดนเดพเตผเดกเตโเดตเตเดฏเตผ เดเดจเตเดธเดฐเดฟเดเตเดเต เดฎเดพเดฑเตเดฑเตเดฃเตเดเดฟเดตเดฐเดพเด.

    ```python
    rate = 48000 #48เดเตเดเดเตเดเตเดเดฟ
    ```

    เด เดเตเดกเต เดชเดฟเดจเตเดจเตเดเต เดชเตเดฐเดตเตผเดคเตเดคเดฟเดเตเดเตเดฎเตเดชเตเตพ เดธเดพเดฎเตเดชเดฟเตพ เดฑเตเดฑเตเดฑเต เดชเดฟเดถเดเตเดเตพ เดฒเดญเดฟเดเตเดเดพเตฝ, เด เดตเดฟเดฒ `44100` เดเดฒเตเดฒเตเดเตเดเดฟเตฝ `16000` เดเดเตเดเดฟ เดฎเดพเดฑเตเดฑเตเด. เดเตเดเดฟเดฏ เดตเดฟเดฒเดเตเดเต เดฎเตเดเตเดเดชเตเดชเตเดเตเด เดธเตเดฃเตเดเต เดเตเดฃเดฎเตเตปเดฎเดฏเตเดฃเตเดเต.

1. เดเดคเดฟเดจเต เดคเดพเดดเต `capture_audio` เดเดจเตเดจเต เดชเตเดคเดฟเดฏ เดซเดเดเตเดทเตป เดธเตเดทเตเดเดฟเดเตเดเต. เดเดคเต เดฎเตเดเตเดฐเตเดซเตเดฃเดฟเตฝ เดจเดฟเดจเตเดจเต เดเดกเดฟเดฏเต เดชเดฟเดเดฟเดเตเดเดพเตป เดตเดฟเดณเดฟเดเตเดเดชเตเดชเตเดเตเด:

    ```python
    def capture_audio():
    ```

1. เด เดซเดเดเตเดทเดจเดฟเดจเตเดฑเต เดเดณเตเดณเดฟเตฝ เดเดกเดฟเดฏเต เดชเดฟเดเดฟเดเตเดเดพเตป เดคเดพเดดเต เดเดพเดฃเตเดจเตเดจ เดเตเดกเต เดเตเตผเดเตเดเตเด:

    ```python
    stream = audio.open(format = pyaudio.paInt16,
                        rate = rate,
                        channels = 1, 
                        input_device_index = microphone_card_number,
                        input = True,
                        frames_per_buffer = 4096)

    frames = []

    while button.is_pressed():
        frames.append(stream.read(4096))

    stream.stop_stream()
    stream.close()
    ```

    เด เดเตเดกเต PyAudio เดเดฌเตเดเดเตเดฑเตเดฑเต เดเดชเดฏเตเดเดฟเดเตเดเต เดเดกเดฟเดฏเต เดเตปเดชเตเดเตเดเต เดธเตเดเตเดฐเตเด เดคเตเดฑเดเตเดเตเดจเตเดจเต. 16KHz เดตเตเดเดคเดฏเดฟเตฝ, 4096 เดฌเตเดฑเตเดฑเตเดณเตเดณ เดฌเดซเดฑเตเดเดณเดฟเตฝ เดเดกเต เดเตเดฏเตเดคเต เดฎเตเดเตเดฐเตเดซเตเดฃเดฟเตฝ เดจเดฟเดจเตเดจเต เดเดกเดฟเดฏเต เดชเดฟเดเดฟเดเตเดเตเด.

    Grove เดฌเดเตเดเตบ เดเดฎเตผเดคเตเดคเดฟเดฏเดฟเดฐเดฟเดเตเดเต เด 4096 เดฌเตเดฑเตเดฑเต เดฌเดซเดฑเตเดเตพ เดเดฐเต เดเดฑเดเตเดเดฏเดฟเดฒเตเดเตเดเต เดตเดพเดฏเดฟเดเตเดเตเดจเตเดจเต, เดฌเดเตเดเตบ เดตเดฟเดเตเดเดชเตเดชเตเตพ เดธเตเดเตเดฐเตเด เดจเดฟเตผเดคเตเดคเตเดเดฏเตเด เดเดเดฏเตเดเตเดเตเดเดฏเตเด เดเตเดฏเตเดฏเตเด.

    > ๐ เดจเดฟเดเตเดเตพเดเตเดเต `open` เดฎเตเดคเตเดคเดกเดฟเดจเต เดจเตฝเดเดฟเดฏ เดเดชเตเดทเตปเดธเตเดเตพ [PyAudio เดกเตเดเตเดฏเตเดฎเตเดจเตเดฑเตเดทเดจเดฟเตฝ](https://people.csail.mit.edu/hubert/pyaudio/docs/) เดเตเดเตเดคเตฝ เดตเดพเดฏเดฟเดเตเดเดพเด.

    เดฌเดเตเดเตบ เดตเดฟเดเตเดเต เดเดดเดฟเดเตเดเดพเตฝ เดธเตเดเตเดฐเตเด เดจเดฟเตผเดคเตเดคเตเดเดฏเตเด เดเดเดฏเตเดเตเดเตเดเดฏเตเด เดเตเดฏเตเดฏเตเด.

1. เด เดซเดเดเตเดทเดจเตเดฑเต เดเดตเดธเดพเดจเด เดคเดพเดดเต เดเดพเดฃเตเดจเตเดจ เดเตเดกเต เดเตเตผเดเตเดเตเด:

    ```python
    wav_buffer = io.BytesIO()
    with wave.open(wav_buffer, 'wb') as wavefile:
        wavefile.setnchannels(1)
        wavefile.setsampwidth(audio.get_sample_size(pyaudio.paInt16))
        wavefile.setframerate(rate)
        wavefile.writeframes(b''.join(frames))
        wav_buffer.seek(0)

    return wav_buffer
    ```

    เด เดเตเดกเต เดเดฐเต เดฌเตเดจเดฑเดฟ เดฌเดซเตผ เดธเตเดทเตเดเดฟเดเตเดเตเด เดชเดฟเดเดฟเดเตเดเตเดเตเดคเตเดค เดเดฒเตเดฒเดพ เดเดกเดฟเดฏเต WAV เดซเดฏเตฝ เดซเตเตผเดฎเดพเดฑเตเดฑเดฟเตฝ เดเดคเดฟเตฝ เดเดดเตเดคเดฟ เดธเดเดญเดฐเดฟเดเตเดเตเด เดเตเดฏเตเดฏเตเด. เดธเตเดเดพเตปเดกเตเตผเดกเต เดเดจเตเดเดเดชเตเดฐเดธเตเดธเต เดเตเดฏเตเดค เดเดกเดฟเดฏเต เดซเดฏเตฝ เดเดดเตเดคเดพเดจเตเดณเตเดณ เดฎเดพเตผเดเดฎเดพเดฃเต เดเดคเต. เดถเตเดทเด เดฌเดซเตผ เดคเดฟเดฐเดฟเดเตเดเตเดเตเดเตเดเตเดเตเดจเตเดจเต.

1. เดเดกเดฟเดฏเต เดฌเดซเตผ เดชเตเดฒเต เดเตเดฏเตเดฏเดพเตป เดคเดพเดดเตเดฏเตเดณเตเดณ `play_audio` เดซเดเดเตเดทเตป เดเตเตผเดเตเดเตเด:

    ```python
    def play_audio(buffer):
        stream = audio.open(format = pyaudio.paInt16,
                            rate = rate,
                            channels = 1,
                            output_device_index = speaker_card_number,
                            output = True)
    
        with wave.open(buffer, 'rb') as wf:
            data = wf.readframes(4096)
    
            while len(data) > 0:
                stream.write(data)
                data = wf.readframes(4096)
    
            stream.close()
    ```

    เด เดซเดเดเตเดทเตป เดฎเดฑเตเดฑเตเดฐเต เดเดกเดฟเดฏเต เดธเตเดเตเดฐเตเด เดคเตเดฑเดเตเดเตเดจเตเดจเต, เดชเตเดฒเต เดเดจเตเดจ เดฎเดคเตเดเดฃเตเดกเด เดชเตเดฐเดฏเตเดเดฟเดเตเดเต. เดเตปเดชเตเดเตเดเตเด เดชเตเดฒเต เดเดฏเตเด เดเดฐเต เดเตเดฐเดฎเตเดเดฐเดฃเดเตเดเตพ เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจเต. เดฌเดซเตผ เดตเตเดตเต เดซเดฏเตฝ เดเดฏเดฟ เดคเตเดฑเดจเตเดจเต 4096 เดฌเตเดฑเตเดฑเต เดชเดพเดคเตเดฐเดเตเดเดณเดฟเตฝ เดชเตเดฒเต เดธเตเดเตเดฐเตเดคเตเดคเดฟเดฒเตเดเตเดเต เดเดดเตเดคเดฟ เดเดกเดฟเดฏเต เดชเตเดฒเต เดเตเดฏเตเดฏเตเด. เดเดตเดธเดพเดจเด เดธเตเดเตเดฐเตเด เดเดเดฏเตเดเตเดเตเด.

1. เดฌเดเตเดเตบ เดเดฎเตผเดคเตเดคเดฟเดฏเดถเตเดทเด เดเดกเดฟเดฏเต เดชเดฟเดเดฟเดเตเดเต เดชเตเดฒเต เดเตเดฏเตเดฏเตเดจเตเดจเดคเตเดตเดฐเต เดฒเตเดชเตเดชเต เดเตเดฏเตเดฏเดพเตป เดคเดพเดดเตเดฏเดฟเดฐเดฟเดเตเดเตเดจเตเดจ เดเตเดกเต เดเตเตผเดเตเดเตเด:

    ```python
    while True:
        while not button.is_pressed():
            time.sleep(.1)
        
        buffer = capture_audio()
        play_audio(buffer)
    ```

1. เดเตเดกเต เดชเตเดฐเดตเดฐเตโเดคเตเดคเดฟเดชเตเดชเดฟเดเตเดเตเด. เดฌเดเตเดเตบ เดเดฎเตผเดคเตเดคเดฟ, เดฎเตเดเตเดฐเตเดซเตเดฃเดฟเดฒเตเดเตเดเต เดธเดเดธเดพเดฐเดฟเดเตเดเตเด. เดคเตเตผเดจเตเดจเดชเตเดชเตเดณเตโ เดฌเดเตเดเตบ เดตเดฟเดเตเด, เดฑเตเดเตเดเตเตผเดกเดฟเดเต เดเตเตพเดเตเดเดพเดจเดฟเดเดฏเดพเดเตเด.

    PyAudio เดเตปเดธเตเดฑเตเดฑเตปเดธเต เดธเตเดทเตเดเดฟเดเตเดเตเดฎเตเดชเตเตพ เดเดฟเดฒ ALSA เดชเดฟเดถเดเตเดเตพ เดเดพเดฃเดพเด. เดเดคเต เดจเดฟเดเตเดเดณเตเดเต Pi-เดฏเดฟเดฒเต เดเดกเดฟเดฏเต เดเดชเดเดฐเดฃเดเตเดเดณเตเดฎเดพเดฏเดฟ เดฌเดจเตเดงเดชเตเดชเตเดเตเด เดเตเตบเดซเดฟเดเดฑเตเดทเตป เดชเตเดฐเดถเตเดจเดฎเดพเดฃเต. เดจเดฟเดเตเดเตพเดเตเดเต เดเดต เดชเดฐเตเดฏเดตเตเดเตเดทเดฃเด เดเตเดฏเตเดฏเตเดฃเตเดเดคเดฟเดฒเตเดฒ.

    ```output
    pi@raspberrypi:~/smart-timer $ python3 app.py 
    ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.front
    ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.rear
    ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.center_lfe
    ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.side
    ```

    เดคเดพเดดเต เดชเดฑเดฏเตเดจเตเดจ เดชเดฟเดถเดเต เดฒเดญเดฟเดเตเดเตเดเดฏเดพเดฃเตเดเตเดเดฟเตฝ:

    ```output
    OSError: [Errno -9997] Invalid sample rate
    ```

    `rate`-เดจเต 44100 เดเดฒเตเดฒเตเดเตเดเดฟเตฝ 16000 เดเดเตเดเดฟ เดฎเดพเดฑเตเดฑเตเด.

> ๐ เด เดเตเดกเต [code-record/pi](../../../../../6-consumer/lessons/1-speech-recognition/code-record/pi) เดซเตเตพเดกเดฑเดฟเตฝ เดฒเดญเตเดฏเดฎเดพเดฃเต.

๐ เดจเดฟเดเตเดเดณเตเดเต เดเดกเดฟเดฏเต เดฑเตเดเตเดเตเตผเดกเดฟเดเดเต เดชเตเดฐเตเดเตเดฐเดพเด เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ เดคเตเตผเดจเตเดจเต!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**เดชเดฐเดฟเดญเดพเดทเดพ เดตเตเดณเตเดชเตเดชเดฟเดเตเดเตฝ**:
เด เดฐเตเด AI เดชเดฐเดฟเดญเดพเดทเดพ เดธเตเดตเดจเด [Co-op Translator](https://github.com/Azure/co-op-translator) เดเดชเดฏเตเดเดฟเดเตเดเต เดชเดฐเดฟเดญเดพเดท เดเตเดฏเตเดคเดคเต เดเดฃเต. เดจเดพเด เดเตเดคเตเดฏเดคเดฏเตเดเตเดเดพเดฏเดฟ เดชเดฐเดฟเดถเตเดฐเดฎเดฟเดเตเดเตเดจเตเดจเดคเดฟเดจเตเดชเตเดฐเตเด, เดธเตเดตเดฏเดฎเตเดต เดจเดเดคเตเดคเตเดจเตเดจ เดชเดฐเดฟเดญเดพเดทเดเดณเดฟเตฝ เดเดฟเดฒ เดชเดฟเดถเดเตเดเดณเต เดเดถเตเดฆเตเดงเดฟเดเดณเต เดเดฃเตเดเดพเดเดพเดฎเตเดจเตเดจเต เดฆเดฏเดตเดพเดฏเดฟ เดถเตเดฐเดฆเตเดงเดฟเดเตเดเตเด. เดฎเตเดฒเดฟเด เดฐเตเดเดฏเตเดเต เดธเตเดตเดคเดจเตเดคเตเดฐ เดญเดพเดทเดฏเดพเดฃเต เดเดตเดเดพเดถเดตเดพเดจเดพเดฏ เดเดฑเดตเดฟเดเด เดเดจเตเดจเต เดเดฐเตเดคเดฃเด. เดจเดฟเตผเดฃเตเดฃเดพเดฏเดเดฎเดพเดฏ เดตเดฟเดตเดฐเดเตเดเตพเดเตเดเต เดชเตเดฐเตเดซเดทเดฃเตฝ เดฎเดจเตเดทเตเดฏ เดชเดฐเดฟเดญเดพเดท เดถเดฟเดชเดพเตผเดถ เดเตเดฏเตเดฏเดชเตเดชเตเดเตเดจเตเดจเต. เด เดชเดฐเดฟเดญเดพเดทเดฏเตเดเต เดเดชเดฏเตเดเดคเตเดคเดฟเตฝ เดเดฃเตเดเดพเดฏ เดเดคเตเดเตเดเดฟเดฒเตเด เดคเตเดฑเตเดฑเดฟเดฆเตเดงเดพเดฐเดฃเดเตพเดเตเดเตเด เดคเตเดฑเตเดฑเดพเดฏ เดตเตเดฏเดพเดเตเดฏเดพเดจเดเตเดเตพเดเตเดเตเด เดจเดพเด เดเดคเตเดคเดฐเดตเดพเดฆเดฟเดคเตเดตเด เดเดจเตเดตเดฆเดฟเดเตเดเตเดเดฏเดฟเดฒเตเดฒ.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->