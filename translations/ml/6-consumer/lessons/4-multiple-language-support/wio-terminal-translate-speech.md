# เดตเดพเดเตเดเตเดเดณเต other เคญเคพเคทเดฏเดฟเตฝ เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเตเด - Wio Terminal

เดชเดพเดเดคเตเดคเดฟเดจเตเดฑเต เด เดญเดพเดเดคเตเดคเดฟเตฝ, เดจเดฟเดเตเดเตพ เดตเดฟเดตเตผเดคเตเดคเดเตป เดธเตเดตเดจเด เดเดชเดฏเตเดเดฟเดเตเดเต เดเดดเตเดคเตเดคเต เดชเดฐเดฟเดญเดพเดทเดชเตเดชเตเดเตเดคเตเดคเดพเตป เดเตเดกเต เดเดดเตเดคเตเด.

## เดตเดฟเดตเตผเดคเตเดคเดเตป เดธเตเดตเดจเด เดเดชเดฏเตเดเดฟเดเตเดเต เดเดดเตเดคเตเดคเต เดตเดพเดเตเดเตเดเดณเดพเดเตเดเดฟ เดฎเดพเดฑเตเดฑเตเด

เดตเดพเดเตเดเตเดเตพ เดธเตเดตเดจ REST API เดจเตเดฐเดฟเดเตเดเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดชเดฟเดจเตเดคเตเดฃเดฏเตเดเตเดเตเดจเตเดจเดฟเดฒเตเดฒ, เดชเดเดฐเด เดจเดฟเดเตเดเตพเดเตเดเต เดตเดพเดเตเดเตเดเดณเดฟเตฝ เดจเดฟเดจเตเดจเตเด เดเดดเตเดคเตเดคเดฟเดฒเตเดเตเดเต เดธเตเดตเดจเด เดเดชเดฏเตเดเดฟเดเตเดเต เดธเตเดทเตเดเดฟเดเตเด เดตเดพเดเดเดคเตเดคเดฟเดจเตเดฑเต เดเดดเตเดคเตเดคเตเด เดธเดเดธเดพเดฐเดฟเดเตเด เดฎเดฑเตเดชเดเดฟเดฏเตเดเต เดเดดเตเดคเตเดคเตเด เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเดพเตป เดตเดฟเดตเตผเดคเตเดคเดเตป เดธเตเดตเดจเด เดเดชเดฏเตเดเดฟเดเตเดเดพเด. เด เดธเตเดตเดจเดคเตเดคเดฟเดจเต REST API เดเดฃเตเดเต, เดจเดฟเดเตเดเตพเดเตเดเต เดเดดเตเดคเตเดคเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเดพเดจเดพเดฏเดฟ เดเดชเดฏเตเดเดฟเดเตเดเดพเด, เดชเดเตเดทเต เดเดคเต เดเดชเดฏเตเดเดฟเดเตเดเดพเตป เดเดณเตเดชเตเดชเดฎเดพเดเตเดเดพเดจเดพเดฏเดฟ เดจเดฟเดเตเดเตพ เดซเดเตเดทเตป เดเดชเตเดชเดฟเตฝ เดฎเดฑเตเดฑเตเดฐเต HTTP เดเตเดฐเดฟเดเตเดเดฑเดฟเตฝ เดเดคเต เดเตเดฑเตเดฑเดฟเดชเตเดชเดฟเดฐเดฟเดฏเตเดจเตเดจเต.

### เดชเตเดฐเดตเตผเดคเตเดคเดฟ - เดเดดเตเดคเตเดคเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเดพเตป เดธเตเตผเดตเตผเดฒเตเดธเต เดซเดเตเดทเตป เดธเตเดทเตเดเดฟเดเตเดเตเด

1. เดจเดฟเดเตเดเดณเตเดเต `smart-timer-trigger` เดชเตเดฐเตเดเดเตเดฑเตเดฑเต VS เดเตเดกเดฟเตฝ เดคเตเดฑเดเตเดเตเด, เดเตเตผเดฎเดฟเดจเตฝ เดคเตเดฑเดจเตเดจเต เดตเตเตผเดเตเดเตเดตเตฝ เดเตปเดตเดฏเดฐเตบเดฎเตเดจเตเดฑเต เดธเดเตเดตเดฎเดพเดฃเตเดจเตเดจเต เดเดฑเดชเตเดชเดพเดเตเดเตเด. เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดเตเตผเดฎเดฟเดจเตฝ เดจเดฟเตผเดคเตเดคเดฟ เดตเตเดฃเตเดเตเด เดธเตเดทเตเดเดฟเดเตเดเตเด.

1. `local.settings.json` เดซเดฏเตฝ เดคเตเดฑเดจเตเดจเต เดตเดฟเดตเตผเดคเตเดคเดเตป API เดเตเดฏเตเด เดฒเตเดเตเดเตเดทเดจเตเด เดเตเตผเดเตเดเตเด:

    ```json
    "TRANSLATOR_KEY": "<key>",
    "TRANSLATOR_LOCATION": "<location>"
    ```

    `<key>` เดจเตเดฑเต เดชเดเดฐเด เดจเดฟเดเตเดเดณเตเดเต เดตเดฟเดตเตผเดคเตเดคเดเตป เดธเตเดตเดจ เดฑเดฟเดธเตเดดเตเดธเดฟเดจเตเดณเตเดณ API เดเต เดจเตฝเดเตเด. `<location>` เดจเตเดฑเต เดชเดเดฐเด เดจเดฟเดเตเดเตพ เดธเตเดทเตเดเดฟเดเตเด เดตเดฟเดตเตผเดคเตเดคเดเตป เดธเตเดตเดจ เดฑเดฟเดธเตเดดเตเดธเต เดฒเตเดเตเดเตเดทเตป เดจเตฝเดเตเด.

1. เด เดเดชเตเดชเดฟเตฝ `translate-text` เดเดจเตเดจ เดชเตเดคเดฟเดฏ HTTP เดเตเดฐเดฟเดเตเดเตผ เดเตเตผเดเตเดเตเด เดคเดพเดดเต เดเตเดเตเดคเตเดค เดเดฎเดพเตปเดกเต เดเดชเดฏเตเดเดฟเดเตเดเต VS เดเตเดกเต เดเตเตผเดฎเดฟเดจเดฒเดฟเตฝ เดซเดเตเดทเตป เดเดชเตเดชเต เดชเตเดฐเตเดเดเตเดฑเตเดฑเต เดฑเตเดเตเดเต เดซเตเตพเดกเดฑเดฟเตฝ เดจเดฟเดจเตเดจเต:

    ```sh
    func new --name translate-text --template "HTTP trigger"
    ```

    เดเดคเต `translate-text` เดเดจเตเดจ HTTP เดเตเดฐเดฟเดเตเดเตผ เดธเตเดทเตเดเดฟเดเตเดเตเด.

1. `translate-text` เดซเตเตพเดกเดฑเดฟเตฝ เดเดณเตเดณ `__init__.py` เดซเดฏเดฒเดฟเดจเตเดฑเต เดเดณเตเดณเดเดเตเดเด เดคเดพเดดเต เดเตเดเตเดคเตเดคเดคเตเดฎเดพเดฏเดฟ เดฎเดเดเตเดเดฟเดฏเดฟเดฐเตเดคเตเดคเตเด:

    ```python
    import logging
    import os
    import requests
    
    import azure.functions as func
    
    location = os.environ['TRANSLATOR_LOCATION']
    translator_key = os.environ['TRANSLATOR_KEY']
    
    def main(req: func.HttpRequest) -> func.HttpResponse:
        req_body = req.get_json()
        from_language = req_body['from_language']
        to_language = req_body['to_language']
        text = req_body['text']
        
        logging.info(f'Translating {text} from {from_language} to {to_language}')
    
        url = f'https://api.cognitive.microsofttranslator.com/translate?api-version=3.0'
    
        headers = {
            'Ocp-Apim-Subscription-Key': translator_key,
            'Ocp-Apim-Subscription-Region': location,
            'Content-type': 'application/json'
        }
    
        params = {
            'from': from_language,
            'to': to_language
        }
    
        body = [{
            'text' : text
        }]
        
        response = requests.post(url, headers=headers, params=params, json=body)
        return func.HttpResponse(response.json()[0]['translations'][0]['text'])
    ```

    เด เดเตเดกเต HTTP เดเดญเตเดฏเตผเดคเตเดฅเดจเดฏเดฟเตฝ เดจเดฟเดจเตเดจเต เดเตเดเตเดธเตเดฑเตเดฑเตเด เดญเดพเดทเดเดณเตเด เดคเดฟเดฐเดฟเดเตเดเต เดชเดฑเดฏเตเด. เดชเดฟเดจเตเดจเตเดเต เดเตเดตเตเดเตเดธเตเดฑเตเดฑเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเดพเตป เดตเดฟเดตเตผเดคเตเดคเดเตป REST API เดเตพ เดชเดฑเดฏเตเด, เดญเดพเดทเดเตพ URL เดชเดพเดฐเดพเดฎเตเดฑเตเดฑเดฑเตเดเดณเดพเดฏเดฟ เดชเดพเดธเตเดธเตเด เดคเดฟเดฐเตเดคเตเดคเดพเดจเตเดณเตเดณ เดเดดเตเดคเตเดคเต เดฌเตเดกเดฟ เดเดฏเดฟ เดจเตฝเดเตเด. เดเดตเดธเดพเดจเดคเตเดค, เดตเดฟเดตเตผเดคเตเดคเดจเด เดคเดฟเดฐเดฟเดเตเดเต เดจเตฝเดเตเด.

1. เดจเดฟเดเตเดเดณเตเดเต เดซเดเตเดทเตป เดเดชเตเดชเต เดฒเตเดเตเดเดฒเดพเดฏเดฟ เดฑเตบ เดเตเดฏเตเดฏเตเด. เดชเดฟเดจเตเดจเตเดเต curl เดชเตเดฒเตเดณเตเดณ เดเตเดณเดฟเตฝ เดจเดฟเดจเตเดจเต เดเดคเต เดเตเตพ เดเตเดฏเตเดคเต เดชเดฐเตเดเตเดทเดฟเดเตเดเดพเด. เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเดพเดจเตเดณเตเดณ เดเดดเตเดคเตเดคเตเด เดญเดพเดทเดเดณเตเด JSON เดฌเตเดกเดฟเดฏเดพเดฏเดฟ เดชเดพเดธเดพเดเตเดเตเด:

    ```json
    {
        "text": "Dรฉfinir une minuterie de 30 secondes",
        "from_language": "fr-FR",
        "to_language": "en-US"
    }
    ```

    เด เดเดฆเดพเดนเดฐเดฃเด *Dรฉfinir une minuterie de 30 secondes* เดเดจเตเดจ เดซเตเดฐเดเตเดเต เดตเดพเดเดเดคเตเดคเต เดฏเต.เดเดธเต เดเดเดเตเดฒเตเดทเดฟเดฒเตเดเตเดเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเตเด. *Set a 30-second timer* เดคเดฟเดฐเดฟเดเต เดจเตฝเดเตเด.

> ๐ เดจเดฟเดเตเดเตพเดเตเดเต เด เดเตเดกเต [code/functions](../../../../../6-consumer/lessons/4-multiple-language-support/code/functions) เดซเตเตพเดกเดฑเดฟเดฒเดพเดฃเต เดเดพเดฃเดพเตป เดเดดเดฟเดฏเตเดจเตเดจเดคเต.

### เดชเตเดฐเดตเตผเดคเตเดคเดฟ - เดตเดฟเดตเตผเดคเตเดคเดเดจเตเดณเตเดณ เดซเดเตเดทเตป เดเดชเดฏเตเดเดฟเดเตเดเต เดเดดเตเดคเตเดคเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเตเด

1. `smart-timer` เดชเตเดฐเตเดเดเตเดฑเตเดฑเต VS เดเตเดกเดฟเตฝ เดคเตเดฑเดเตเดเตเด, เดเดคเต เดคเตเดฑเดจเตเดจเดฟเดฐเดฟเดเตเดเตเดจเตเดจเดฟเดฒเตเดฒเตเดเตเดเดฟเตฝ.

1. เดจเดฟเดเตเดเดณเตเดเต เดธเตเดฎเดพเตผเดเตเดเต เดเตเดฎเดฑเดฟเตฝ 2 เดญเดพเดทเดเตพ เดธเดเตเดเดฎเดพเดเตเดจเตเดจเตเดฃเตเดเดพเดเตเด - LUIS เดชเดฐเดฟเดถเตเดฒเดฟเดชเตเดชเดฟเดเตเดเดพเตป เดเดชเดฏเตเดเดฟเดเตเด เดธเตผเดตเดฑเดฟเดจเตเดฑเต เดญเดพเดท (เดเตเดฃเด, เดเดคเต เดญเดพเดท เดธเดจเตเดฆเตเดถเดเตเดเตพ เดชเดฑเดฏเตเดจเตเดจเดคเดฟเดจเตเด เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจเต), เดเตเดเดพเดคเต เดเดชเดฏเตเดเตเดคเดพเดตเดฟเดจเตเดฑเต เดธเดเดธเดพเดฐเดฟเดเตเดเตเดจเตเดจ เดญเดพเดท. `config.h` เดนเตเดกเตผ เดซเดฏเดฒเดฟเตฝ `LANGUAGE` เดเตเตบเดธเตเดฑเตเดฑเดจเตเดฑเต เดเดชเดฏเตเดเตเดคเดพเดตเดฟเดจเตเดฑเต เดธเดเดธเดพเดฐเดฟเดเตเดเตเดจเตเดจ เดญเดพเดท เดเดเตเดเตเด, เดเตเดเดพเดคเต LUIS เดชเดฐเดฟเดถเตเดฒเดจเดคเตเดคเดฟเดจเตเดณเตเดณ เดญเดพเดท `SERVER_LANGUAGE` เดเดจเตเดจ เดชเตเดคเดฟเดฏ เดเตเตบเดธเตเดฑเตเดฑเดจเตเดฑเต เดเตเตผเดเตเดเตเด:

    ```cpp
    const char *LANGUAGE = "<user language>";
    const char *SERVER_LANGUAGE = "<server language>";
    ```

    `<user language>` เดเดจเตเดจเดฟเดเดคเตเดคเต เดจเดฟเดเตเดเตพ เดธเดเดธเดพเดฐเดฟเดเตเดเตเดจเตเดจ เดญเดพเดทเดฏเตเดเต เดฒเตเดเตเดเตฝ เดจเดพเดฎเด เดจเตฝเดเตเด, เดเดฆเดพเดนเดฐเดฃเดคเตเดคเดฟเดจเต เดซเตเดฐเดเตเดเต `fr-FR` เดเดฒเตเดฒเตเดเตเดเดฟเตฝ เดเดพเดจเตเดฑเตเดฃเตเดธเต `zn-HK`.

    `<server language>` เดเดจเตเดจเดฟเดเดคเตเดคเต LUIS เดชเดฐเดฟเดถเตเดฒเดฟเดชเตเดชเดฟเดเตเดเดพเตป เดเดชเดฏเตเดเดฟเดเตเด เดญเดพเดทเดฏเตเดเต เดฒเตเดเตเดเตฝ เดจเดพเดฎเด เดจเตฝเดเตเด.

    [เดฒเดพเดเดเตเดตเตเดเต เดเตปเดกเต เดตเตเดฏเตเดธเต เดธเดชเตเดชเตเตผเดเตเดเต](https://docs.microsoft.com/azure/cognitive-services/speech-service/language-support?WT.mc_id=academic-17441-jabenn#speech-to-text) เดชเตเดเดฟเตฝ เดชเดฟเดจเตเดคเตเดฃเดฏเตเดณเตเดณ เดญเดพเดทเดเดณเตเด เดเดตเดฏเตเดเต เดฒเตเดเตเดเตฝ เดจเดพเดฎเดเตเดเดณเตเด เดเดพเดฃเดพเด.

    > ๐ เดจเดฟเดเตเดเตพเดเตเดเต เดชเดฒเดญเดพเดทเดเดณเตเด เดธเดเดธเดพเดฐเดฟเดเตเดเดพเดคเตเดค เดชเดเตเดทเด [Bing Translate](https://www.bing.com/translator) เดเดฒเตเดฒเตเดเตเดเดฟเตฝ [Google Translate](https://translate.google.com) เดชเตเดฒเตเดณเตเดณ เดธเตเดตเดจเด เดเดชเดฏเตเดเดฟเดเตเดเต เดเดเตเดฐเดนเดฟเดเตเดเตเดจเตเดจ เดญเดพเดทเดฏเดฟเตฝ เดจเดฟเดจเตเดจเต เดตเตเดฑเต เดเดฐเดพเดถเดฏเด เดญเดพเดทเดฏเดฟเตฝ เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเดพเตป เดเดดเดฟเดฏเตเด. เด เดธเตเดตเดจเดเตเดเตพ เดชเดฟเดจเตเดจเตเดเต เดตเดฟเดตเตผเดคเตเดคเดฟเดค เดเดดเตเดคเตเดคเดฟเดจเตเดฑเต เดเดกเดฟเดฏเต เดชเตเดฒเต เดเตเดฏเตเดฏเดพเดจเตเด เดเดดเดฟเดฏเตเด.
    >
    > เดเดฆเดพเดนเดฐเดฃเดคเตเดคเดฟเดจเต, เดจเดฟเดเตเดเตพ LUIS เดเดเดเตเดฒเตเดทเดฟเตฝ เดชเดฐเดฟเดถเตเดฒเดฟเดชเตเดชเดฟเดเตเดเดพเดฒเตเด, เดเดชเดฏเตเดเตเดคเดพเดตเดฟเดจเตเดฑเต เดญเดพเดท เดซเตเดฐเดเตเดเดพเดฏเดฟเดฐเดฟเดเตเดเดฃเดฎเตเดเตเดเดฟเตฝ, Bing Translate เดเดชเดฏเตเดเดฟเดเตเดเต "set a 2 minute and 27 second timer" เดเดจเตเดจ เดตเดพเดเดเด เดเดเดเตเดฒเตเดทเดฟเตฝ เดจเดฟเดจเตเดจเต เดซเตเดฐเดเตเดเดฟเดฒเตเดเตเดเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดคเต **Listen translation** เดฌเดเตเดเตบ เดเดชเดฏเตเดเดฟเดเตเดเต เดฎเตเดเตเดฐเตเดซเตเดฃเดฟเดฒเตเดเตเดเต เดธเดเดธเดพเดฐเดฟเดชเตเดชเดฟเดเตเดเดพเด.
    >
    > ![Bing Translate เดฒเดฟเดธเตเดฑเตเดฑเตป เดตเดฟเดตเตผเดคเตเดคเดจเด เดฌเดเตเดเดฃเดฟเตปเตเดฑเต เดเดฟเดคเตเดฐเด](../../../../../translated_images/ml/bing-translate.348aa796d6efe2a9.webp)

1. `SPEECH_LOCATION` เดจเตเดฑเต เดคเดพเดดเต เดตเดฟเดตเตผเดคเตเดคเดเตป API เดเตเดฏเตเด เดฒเตเดเตเดเตเดทเดจเตเด เดเตเตผเดเตเดเตเด:

    ```cpp
    const char *TRANSLATOR_API_KEY = "<KEY>";
    const char *TRANSLATOR_LOCATION = "<LOCATION>";
    ```

    `<KEY>` เดจเตเดฑเต เดชเดเดฐเด เดจเดฟเดเตเดเตพ เดธเตเดทเตเดเดฟเดเตเด เดตเดฟเดตเตผเดคเตเดคเดเตป เดธเตเดตเดจ เดฑเดฟเดธเตเดดเตเดธเดฟเดจเตเดฑเต API เดเต เดจเตฝเดเตเด. `<LOCATION>` เดจเตเดฑเต เดชเดเดฐเด เดเดจเตเดฏเตเดเตเดฏเดฎเดพเดฏ เดฒเตเดเตเดเตเดทเตป เดจเตฝเดเตเด.

1. `VOICE_URL` เดจเตเดฑเต เดคเดพเดดเต เดตเดฟเดตเตผเดคเตเดคเดเตป เดเตเดฐเดฟเดเตเดเตผ URL เดเตเตผเดเตเดเตเด:

    ```cpp
    const char *TRANSLATE_FUNCTION_URL = "<URL>";
    ```

    `<URL>` เดจเตเดฑเต เดชเดเดฐเด เดจเดฟเดเตเดเดณเตเดเต เดซเดเตเดทเตป เดเดชเตเดชเดฟเดฒเต `translate-text` HTTP เดเตเดฐเดฟเดเตเดเดฑเดฟเดจเตเดฑเต URL เดจเตฝเดเตเด. เดเดคเต `TEXT_TO_TIMER_FUNCTION_URL` เดจเตเดฑเต เดธเดฎเดพเดจเดฎเดพเดฏเดฟเดฐเดฟเดเตเดเตเด, เดฎเดพเดคเตเดฐเด เดซเดเตเดทเตป เดชเตเดฐเต `text-to-timer` เดเดจเดนเดคเต `translate-text` เดเดฏเตเด เดฎเดพเดฑเดฟเดฏเดฟเดฐเดฟเดเตเดเตเด.

1. `src` เดซเตเตพเดกเดฑเดฟเตฝ `text_translator.h` เดเดจเตเดจเต เดชเตเดคเดฟเดฏ เดซเดฏเตฝ เดเตเตผเดเตเดเตเด.

1. เด เดชเตเดคเดฟเดฏ `text_translator.h` เดนเตเดกเตผ เดซเดฏเดฒเดฟเตฝ เดเดดเตเดคเตเดคเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเดพเดจเตเดณเตเดณ เดเตเดฒเดพเดธเต เดธเตเดทเตเดเดฟเดเตเดเตเด. เดคเดพเดดเต เดเตเดเตเดคเตเดคเดคเต เดเตเดกเต เด เดเตเดฒเดพเดธเต เดชเตเดฐเดเตเดฏเดพเดชเดฟเดเตเดเดพเตป เดเตเตผเดเตเดเตเด:

    ```cpp
    #pragma once
    
    #include <Arduino.h>
    #include <ArduinoJson.h>
    #include <HTTPClient.h>
    #include <WiFiClient.h>
    
    #include "config.h"
    
    class TextTranslator
    {
    public:   
    private:
        WiFiClient _client;
    };
    
    TextTranslator textTranslator;
    ```

    เดเดคเดฟเตฝ `TextTranslator` เดเตเดฒเดพเดธเต เดชเตเดฐเดเตเดฏเดพเดชเดจเดตเตเด เด เดเตเดฒเดพเดธเตเดธเดฟเดจเตเดฑเต เดเดฐเต เดเตปเดธเตเดฑเตเดฑเตปเดธเต เดธเตเดทเตเดเดฟเดเตเดเดคเตเดฎเตเดฃเตเดเต. เดเตเดฒเดพเดธเต เดเดฐเต เดตเตเตฝ เดซเตเตผเดเตเด WiFi เดเตเดฒเดฏเดจเตเดฑเต เดซเตเตฝเดกเตเด เดเตพเดเตเดเตเดณเตเดณเตเดจเตเดจเต.

1. เด เดเตเดฒเดพเดธเดฟเดจเตเดฑเต `public` เดธเตเดเตเดทเดจเดฟเตฝ, เดเดดเตเดคเตเดคเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเดพเดจเตเดณเตเดณ เดฎเตเดคเตเดคเตเดกเต เดเตเตผเดเตเดเตเด:

    ```cpp
    String translateText(String text, String from_language, String to_language)
    {
    }
    ```

    เด เดฎเตเดฅเดกเต เดจเดฟเดจเตเดจเต เดญเดพเดฐเดคเตเดคเตเด เดฒเดเตเดทเตเดฏเด เดญเดพเดฐเดคเตเดคเตเด เดญเดพเดท เดเดเตเดเตเดเตเดจเตเดจเต. เดตเดพเดเตเดเตเดเตพ เดเตเดเดพเดฐเตเดฏเด เดเตเดฏเตเดฏเตเดฎเตเดชเตเตพ, เดเดชเดฏเตเดเตเดคเต เดญเดพเดทเดฏเดฟเตฝ เดจเดฟเดจเตเดจเต LUIS เดธเตผเดตเตผ เดญเดพเดทเดฏเดฟเดฒเตเดเตเดเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเตเด, เดฎเดฑเตเดชเดเดฟเดเตพเดเตเดเดพเดฏเดฟ LUIS เดธเตผเดตเตผ เดญเดพเดทเดฏเดฟเตฝ เดจเดฟเดจเตเดจเต เดเดชเดฏเตเดเตเดคเต เดญเดพเดทเดฏเดฟเดฒเตเดเตเดเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเตเด.

1. เด เดฎเตเดคเตเดคเตเดกเดฟเตฝ, เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเดพเดจเตเดณเตเดณ เดเดดเตเดคเตเดคเตเด เดญเดพเดทเดเดณเตเด เดเตพเดเตเดเตเดณเตเดณเตเดจเตเดจ JSON เดฌเตเดกเดฟ เดจเดฟเตผเดฎเตเดฎเดฟเดเตเดเดพเตป เดเตเดกเต เดเตเตผเดเตเดเตเด:

    ```cpp
    DynamicJsonDocument doc(1024);
    doc["text"] = text;
    doc["from_language"] = from_language;
    doc["to_language"] = to_language;

    String body;
    serializeJson(doc, body);

    Serial.print("Translating ");
    Serial.print(text);
    Serial.print(" from ");
    Serial.print(from_language);
    Serial.print(" to ");
    Serial.print(to_language);
    ```

1. เดเดคเดฟเดจเต เดคเดพเดดเต, JSON เดฌเตเดกเดฟ เดธเตเตผเดตเตผเดฒเตเดธเต เดซเดเตเดทเตป เดเดชเตเดชเดฟเดจเต เดเดฏเดฏเตเดเตเดเดพเดจเตเดณเตเดณ เดเตเดกเต เดเตเตผเดเตเดเตเด:

    ```cpp
    HTTPClient httpClient;
    httpClient.begin(_client, TRANSLATE_FUNCTION_URL);

    int httpResponseCode = httpClient.POST(body);
    ```

1. เดคเตเดเตผเดจเตเดจเต, เดฎเดฑเตเดชเดเดฟ เดฒเดญเดฟเดเตเดเดพเตป เดเตเดกเต เดเตเตผเดเตเดเตเด:

    ```cpp
    String translated_text = "";

    if (httpResponseCode == 200)
    {
        translated_text = httpClient.getString();
        Serial.print("Translated: ");
        Serial.println(translated_text);
    }
    else
    {
        Serial.print("Failed to translate text - error ");
        Serial.println(httpResponseCode);
    }
    ```

1. เดเดตเดธเดพเดจเด, เดเดฃเดเตเดทเตป เดเดเดฏเตเดเตเดเตเด, เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตโเดค เดเดดเตเดคเตเดคเต เดคเดฟเดฐเดฟเดเต เดจเตฝเดเตเด เดเตเดกเต เดเตเตผเดเตเดเตเด:

    ```cpp
    httpClient.end();

    return translated_text;
    ```

### เดชเตเดฐเดตเตผเดคเตเดคเดฟ - เดคเดฟเดฐเดฟเดเตเดเดฑเดฟเดฏเดชเตเดชเตเดเตเด เดตเดพเดเตเดเตเดเดณเตเด เดฎเดฑเตเดชเดเดฟเดเดณเตเด เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเตเด

1. `main.cpp` เดซเดฏเตฝ เดคเตเดฑเดเตเดเตเด.

1. เดซเดฏเดฒเดฟเดจเตเดฑเต เดฎเตเดเดณเดฟเตฝ `TextTranslator` เดเตเดฒเดพเดธเดฟเดจเตเดฑเต เดนเตเดกเตผ เดซเดฏเตฝ เดเตพเดชเตเดชเตเดเตเดคเตเดคเตเดจเตเดจเดคเดฟเดจเตเดณเตเดณ เดเตปเดเตเดฒเตเดกเต เดจเดฟเตผเดฆเตเดฆเตเดถเด เดเตเตผเดเตเดเตเด:

    ```cpp
    #include "text_translator.h"
    ```

1. เดเตเดฎเตผ เดธเดเตเดเดฎเดพเดเตเดเตเดฎเตเดชเตเดดเต เดเดพเดฒเดนเดฐเดฃเดชเตเดชเตเดเตเดฎเตเดชเตเดดเต เดชเดฑเดฏเตเดจเตเดจ เดเดดเตเดคเตเดคเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเตเดฃเตเดเดคเตเดฃเตเดเต. เดเดคเดฟเดจเต, `say` เดซเดเตเดทเดจเตเดฑเต เดเดฆเตเดฏ เดตเดฐเดฟเดฏเดพเดฏเดฟ เดคเดพเดดเต เดเตเดเตเดคเตเดคเดคเต เดเตเตผเดเตเดเตเด:

    ```cpp
    text = textTranslator.translateText(text, LANGUAGE, SERVER_LANGUAGE);
    ```

    เดเดคเต เดเดดเตเดคเตเดคเต เดเดชเดฏเตเดเตเดคเต เดญเดพเดทเดฏเดฟเดฒเตเดเตเดเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเตเด.

1. `processAudio` เดซเดเตเดทเดจเดฟเตฝ, เดตเดพเดเดเด เดชเดฟเดเดฟเดเตเดเตเดเตเดคเตเดคเต `String text = speechToText.convertSpeechToText();` เดตเดฟเดณเดฟเดเตเดเต เดเดเตเดเตเดเตเดจเตเดจเต. เด เดตเดฟเดณเดฟเดเตเดเดฏเดคเตเดคเดฟเดฒเต เดถเตเดทเด, เดเดดเตเดคเตเดคเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเตเด:

    ```cpp
    String text = speechToText.convertSpeechToText();
    text = textTranslator.translateText(text, LANGUAGE, SERVER_LANGUAGE);
    ```

    เดเดคเต เดเดชเดฏเตเดเตเดคเต เดญเดพเดทเดฏเดฟเตฝ เดจเดฟเดจเตเดจเต เดธเตผเดตเตผ เดญเดพเดทเดฏเดฟเดฒเตเดเตเดเต เดตเดพเดเดเดคเตเดคเต เดตเดฟเดตเตผเดคเตเดคเดจเด เดเตเดฏเตเดฏเตเด.

1. เด เดเตเดกเต เดฌเดฟเตฝเดกเต เดเตเดฏเตเดคเต เดจเดฟเดเตเดเดณเตเดเต Wio เดเตเตผเดฎเดฟเดจเดฒเดฟเดฒเตเดเตเดเต เดเดชเตโเดฒเตเดกเต เดเตเดฏเตเดคเต เดธเตเดฐเดฟเดฏเตฝ เดฎเตเดฃเดฟเดฑเตเดฑเดฑเตเด เดตเดดเดฟ เดชเดฐเตเดเตเดทเดฟเดเตเดเดพเด. เดธเตเดฐเดฟเดฏเตฝ เดฎเตเดฃเดฟเดฑเตเดฑเดฑเดฟเตฝ `Ready` เดเดพเดฃเตเดฎเตเดชเตเตพ, C เดฌเดเตเดเตบ (เดเดเดคเต เดตเดถเด, เดชเดตเตผ เดธเตเดตเดฟเดเตเดเต เดเดเตเดคเตเดคเตเดณเตเดณเดคเต) เดเดฎเตผเดคเตเดคเดฟ เดธเดเดธเดพเดฐเดฟเดเตเดเตเด. เดจเดฟเดเตเดเดณเตเดเต เดซเดเตเดทเตป เดเดชเตเดชเต เดชเตเดฐเดตเตผเดคเตเดคเดฟเดเตเดเตเดจเตเดจเตเดตเตเดจเตเดจเต เดเดฑเดชเตเดชเดพเดเตเดเตเด, เดเดชเดฏเตเดเตเดคเต เดญเดพเดทเดฏเดฟเตฝ เดเตเดฎเตผ เดเดตเดถเตเดฏเดชเตเดชเตเดเตเด; เดจเดฟเดตเตเดฆเดจเดเตเดเตพ เดธเตเดตเดฏเด เดธเดเดธเดพเดฐเดฟเดเตเดเตเดเดฏเต, เดตเดฟเดตเตผเดคเตเดคเดจ เดเดชเตเดชเต เดเดชเดฏเตเดเดฟเดเตเดเตเดเดฏเต เดเตเดฏเตเดฏเดพเด.

    ```output
    Connecting to WiFi..
    Connected!
    Got access token.
    Ready.
    Starting recording...
    Finished recording
    Sending speech...
    Speech sent!
    {"RecognitionStatus":"Success","DisplayText":"Dรฉfinir une minuterie de 2 minutes 27 secondes.","Offset":9600000,"Duration":40400000}
    Translating Dรฉfinir une minuterie de 2 minutes 27 secondes. from fr-FR to en-US
    Translated: Set a timer of 2 minutes 27 seconds.
    Set a timer of 2 minutes 27 seconds.
    {"seconds": 147}
    Translating 2 minute 27 second timer started. from en-US to fr-FR
    Translated: 2 minute 27 seconde minute a commencรฉ.
    2 minute 27 seconde minute a commencรฉ.
    Translating Times up on your 2 minute 27 second timer. from en-US to fr-FR
    Translated: Chronomรฉtrant votre minuterie de 2 minutes 27 secondes.
    Chronomรฉtrant votre minuterie de 2 minutes 27 secondes.
    ```

> ๐ เด เดเตเดกเต [code/wio-terminal](../../../../../6-consumer/lessons/4-multiple-language-support/code/wio-terminal) เดซเตเตพเดกเดฑเดฟเตฝ เดเดพเดฃเดพเตป เดเดดเดฟเดฏเตเด.

๐ เดจเดฟเดเตเดเตพเตเดฑเต เดฌเดนเตเดญเดพเดท เดเดฆเตเดฏเดเดพเดฒ เดเตเดฎเตผ เดชเตเดฐเตเดเตเดฐเดพเด เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ เดเดฐเตเดเตเดเดฟ!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**เดเดฟเดธเตเดฒเตเดฏเดฟเดฎเตผ**:  
เด เดกเตเดเตเดฏเตเดฎเตเดจเตเดฑเต เดเด เดคเตผเดเตเดฎเดพ เดธเตเดตเดจเด [Co-op Translator](https://github.com/Azure/co-op-translator) เดเดชเดฏเตเดเดฟเดเตเดเต เดคเตผเดเตเดเดฎ เดเตเดฏเตเดคเดคเดพเดฃเต. เดจเดพเด เดเตเดคเตเดฏเดคเดฏเตเดเตเดเต เดชเดฐเดฟเดถเตเดฐเดฎเดฟเดเตเดเตเดจเตเดจเดคเต เดเดเตเดเตเด เดเดเตเดเดฟเดฒเตเด, เดคเดพเดจเตเดฑเต เดฏเดจเตเดคเตเดฐ เดคเตผเดเตเดฎเดเดณเดฟเตฝ เดชเดฟเดถเดเตเดเดณเตเด เดคเตเดฑเตเดฑเตเดเดณเตเด เดเดฃเตเดเดพเดเดพเดตเตเดจเตเดจเดคเดพเดฃเต เดเดจเตเดจเต เดฆเดฏเดตเดพเดฏเดฟ เดถเตเดฐเดฆเตเดงเดฟเดเตเดเตเด. เดชเตเดฐเดพเดเตเดจ เดญเดพเดทเดฏเดฟเตฝ เดเดณเตเดณ เดเดเตเดเดเดฟเดเตเด เดกเตเดเตเดฏเตเดฎเตเดจเตเดฑเต เดชเตเดฐเตเดเดฎเดจเดฎเดพเดฏ เดเดฑเดตเดฟเดเดฎเดพเดฏเดฟ เดเดฃเดเตเดเดพเดเตเดเดฃเด. เดจเดฟเตผเดฃเดพเดฏเด เดตเดฟเดตเดฐเดเตเดเตพเดเตเดเดพเดฏเดฟ เดชเตเดฐเตเดซเดทเดฃเตฝ เดฎเดจเตเดทเตเดฏ เดคเตผเดเตเดฎ เดจเดฟเตผเดฆเตเดฆเตเดถเดฟเดเตเดเดชเตเดชเตเดเตเดจเตเดจเต. เด เดคเตผเดเตเดฎเดพเดจเด เดเดชเดฏเตเดเดฟเดเตเดเดคเดฟเดจเตเดฑเต เดซเดฒเดฎเดพเดฏเตเดฃเตเดเดพเดเตเดจเตเดจ เดเดคเตเดเตเดเดฟเดฒเตเด เดคเตเดฑเตเดฑเดพเดฏ เดฎเดจเดธเตเดธเดฟเดฒเดพเดเตเดเดฒเตเดเตพเดเตเดเตเด เดตเตเดฏเดพเดเตเดฏเดพเดจเดเตเดเตพเดเตเดเตเด เดเดเตเดเตพ เดเดคเตเดคเดฐเดตเดพเดฆเดฟเดเดณเดฒเตเดฒ.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->