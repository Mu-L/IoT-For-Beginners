# ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤ø‡≤∞‡≤ø - Wio Terminal

‡≤™‡≤æ‡≤†‡≤¶ ‡≤à ‡≤≠‡≤æ‡≤ó‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø, ‡≤®‡≥Ä‡≤µ‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ Wio Terminal ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≥Å ‡≤ï‡≥ã‡≤°‡≥ç ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≥Ä‡≤∞‡≤ø. ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≥Å‡≤µ‡≤ø‡≤ï‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å Wio Terminal ‡≤Æ‡≥á‡≤≤‡≥ç‡≤≠‡≤æ‡≤ó‡≤¶ ‡≤í‡≤Ç‡≤¶‡≥Å ‡≤¨‡≤ü‡≤®‡≥ç ‡≤Æ‡≥Ç‡≤≤‡≤ï ‡≤®‡≤ø‡≤Ø‡≤Ç‡≤§‡≥ç‡≤∞‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

## ‡≤∏‡≤æ‡≤ß‡≤®‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≥Å ‡≤™‡≥ç‡≤∞‡≥ã‡≤ó‡≥ç‡≤∞‡≤æ‡≤Æ‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø

‡≤®‡≥Ä‡≤µ‡≥Å C++ ‡≤ï‡≥ã‡≤°‡≥ç ‡≤¨‡≤≥‡≤∏‡≤ø ‡≤Æ‡≥à‡≤ï‡≥ç‡≤∞‡≥ã‡≤´‡≥ã‡≤®‡≥ç‚Äå‡≤®‡≤ø‡≤Ç‡≤¶ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤¨‡≤π‡≥Å‡≤¶‡≥Å. Wio Terminal ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ï‡≥á‡≤µ‡≤≤ 192KB RAM ‡≤á‡≤¶‡≥Ü, ‡≤á‡≤¶‡≥Å ‡≤ï‡≥Ü‡≤≤‡≤µ‡≥Å ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≥Å‡≤ó‡≤≥‡≤ø‡≤Ç‡≤§ ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≥Å ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≥Å ‡≤∏‡≤æ‡≤ï‡≤æ‡≤ó‡≥Å‡≤µ‡≥Å‡≤¶‡≤ø‡≤≤‡≥ç‡≤≤. ‡≤á‡≤¶‡≤ï‡≥ç‡≤ï‡≥Ç 4MB ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤á‡≤¶‡≥Ü, ‡≤Ü‡≤¶‡≥ç‡≤¶‡≤∞‡≤ø‡≤Ç‡≤¶ ‡≤¨‡≤¶‡≤≤‡≤æ‡≤ó‡≤ø ‡≤á‡≤¶‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤≥‡≤∏‡≤¨‡≤π‡≥Å‡≤¶‡≥Å, ‡≤π‡≤ø‡≤°‡≤ø‡≤¶ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ã‡≤∞‡≤ø‡≤ó‡≥Ü ‡≤â‡≤≥‡≤ø‡≤∏‡≤¨‡≤π‡≥Å‡≤¶‡≥Å.

‡≤®‡≤ø‡≤∞‡≥ç‡≤Æ‡≤ø‡≤§ ‡≤Æ‡≥à‡≤ï‡≥ç‡≤∞‡≥ã‡≤´‡≥ã‡≤®‡≥ç ‡≤Ö‡≤®‡≤æ‡≤≤‡≤æ‡≤ó‡≥ç ‡≤∏‡≤Ç‡≤ï‡≥á‡≤§‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤Ö‡≤¶‡≥Å Wio Terminal ‡≤¨‡≤≥‡≤∏‡≤¨‡≤π‡≥Å‡≤¶‡≤æ‡≤¶ ‡≤°‡≤ø‡≤ú‡≤ø‡≤ü‡≤≤‡≥ç ‡≤∏‡≤Ç‡≤ï‡≥á‡≤§‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤™‡≤∞‡≤ø‡≤µ‡≤∞‡≥ç‡≤§‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≥Å‡≤µ‡≤æ‡≤ó, ‡≤°‡≥á‡≤ü‡≤æ‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤∞‡≤ø‡≤Ø‡≤æ‡≤¶ ‡≤µ‡≥á‡≤≥‡≥Ü‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≤æ‡≤ó‡≤¨‡≥á‡≤ï‡≥Å ‚Äì ‡≤â‡≤¶‡≤æ‡≤π‡≤∞‡≤£‡≥Ü‡≤ó‡≥Ü 16KHz ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≥Å, ‡≤™‡≥ç‡≤∞‡≤§‡≤ø ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≤ø‡≤ó‡≥Ü ‡≤∏‡≤∞‡≤ø‡≤Ø‡≤æ‡≤ó‡≤ø 16,000 ‡≤¨‡≤æ‡≤∞‡≤ø ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤¨‡≥á‡≤ï‡≥Å, ‡≤™‡≥ç‡≤∞‡≤§‡≤ø ‡≤Æ‡≤æ‡≤¶‡≤∞‡≤ø‡≤ó‡≥Ç ‡≤∏‡≤Æ‡≤æ‡≤® ‡≤Ö‡≤Ç‡≤§‡≤∞ ‡≤¨‡≥á‡≤ï‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ï‡≥ã‡≤°‡≥ç ‡≤á‡≤¶‡≤®‡≥ç‡≤®‡≥Å ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤¨‡≤¶‡≤≤‡≥Å, ‡≤®‡≥Ä‡≤µ‡≥Å ‡≤°‡≥à‡≤∞‡≥Ü‡≤ï‡≥ç‡≤ü‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤Ü‡≤ï‡≥ç‡≤∏‡≥Ü‡≤∏‡≥ç ‡≤®‡≤ø‡≤Ø‡≤Ç‡≤§‡≥ç‡≤∞‡≤ï (DMAC) ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤≥‡≤∏‡≤ø‡≤¨‡≤π‡≥Å‡≤¶‡≥Å. ‡≤á‡≤¶‡≥Å ‡≤™‡≥ç‡≤∞‡≥ä‡≤∏‡≥Ü‡≤∏‡≤∞‡≥ç ‡≤Æ‡≥á‡≤≤‡≥Ü ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ï‡≥ã‡≤°‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≥ç‡≤Ø‡≤§‡≥ç‡≤Ø‡≤Ø ‡≤Æ‡≤æ‡≤°‡≤¶‡≥Ü, ‡≤é‡≤≤‡≥ç‡≤≤‡≤ø‡≤ó‡≤æ‡≤¶‡≤∞‡≥Ç ‡≤∏‡≤Ç‡≤ï‡≥á‡≤§‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≤ø‡≤°‡≤ø‡≤¶‡≥Å ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤µ ‡≤∏‡≤∞‡≥ç‡≤ï‡≥ç‡≤Ø‡≥Ç‡≤ü‡≥ç‡≤∞‡≥Ä ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü.

‚úÖ ‡≤°‡≥à‡≤∞‡≥Ü‡≤ï‡≥ç‡≤ü‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤Ü‡≤ï‡≥ç‡≤∏‡≥Ü‡≤∏‡≥ç ‡≤ï‡≥Å‡≤∞‡≤ø‡≤§‡≥Å ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≤ø‡≤® ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø‡≤ó‡≤æ‡≤ó‡≤ø [‡≤µ‡≤ø‡≤ï‡≤ø‡≤™‡≥Ä‡≤°‡≤ø‡≤Ø‡≤¶ ‡≤°‡≥à‡≤∞‡≥Ü‡≤ï‡≥ç‡≤ü‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤Ü‡≤ï‡≥ç‡≤∏‡≥Ü‡≤∏‡≥ç ‡≤™‡≥Å‡≤ü](https://wikipedia.org/wiki/Direct_memory_access) ‡≤®‡≥ã‡≤°‡≤ø.

![‡≤Æ‡≥à‡≤ï‡≥ç‚Äå‡≤®‡≤ø‡≤Ç‡≤¶ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ADC ‡≤ó‡≥Ü ‡≤π‡≥ã‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü ‡≤®‡≤Ç‡≤§‡≤∞ DMAC ‡≤ó‡≥Ü. ‡≤á‡≤¶‡≥Å ‡≤í‡≤Ç‡≤¶‡≥Å ‡≤¨‡≤´‡≤∞‡≥ç‚Äå‡≤ó‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤à ‡≤¨‡≤´‡≤∞‡≥ç ‡≤§‡≥Å‡≤Ç‡≤¨‡≤ø‡≤¶‡≤æ‡≤ó, ‡≤™‡≥ç‡≤∞‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü‡≤ó‡≥ä‡≤≥‡≥ç‡≤≥‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å DMAC ‡≤¶‡≥ç‡≤µ‡≤ø‡≤§‡≥Ä‡≤Ø ‡≤¨‡≤´‡≤∞‡≥ç‚Äå‡≤ó‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü](../../../../../translated_images/kn/dmac-adc-buffers.4509aee49145c90b.webp)

DMAC 16KHz ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤ó‡≤æ‡≤ó‡≤ø ‡≤™‡≥ç‡≤∞‡≤§‡≤ø ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≤ø‡≤ó‡≥Ü 16,000 ‡≤¨‡≤æ‡≤∞‡≤ø ADC ‡≤®‡≤ø‡≤Ç‡≤¶ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤¨‡≤π‡≥Å‡≤¶‡≥Å. ‡≤á‡≤¶‡≥Å ‡≤π‡≤ø‡≤Ç‡≤¶‡≤ø‡≤®‡≤Ç‡≤§‡≥Ü ‡≤®‡≤ø‡≤∞‡≥ç‡≤¶‡≤ø‡≤∑‡≥ç‡≤ü ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤¨‡≤´‡≤∞‡≥ç‚Äå‡≤ó‡≥Ü ‡≤π‡≤ø‡≤°‡≤ø‡≤¶ ‡≤°‡≥á‡≤ü‡≤æ‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤∞‡≥Ü‡≤¶‡≤ø‡≤°‡≤¨‡≤π‡≥Å‡≤¶‡≥Å, ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤¨‡≤´‡≤∞‡≥ç ‡≤§‡≥Å‡≤Ç‡≤¨‡≤ø‡≤¶‡≤æ‡≤ó, ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ï‡≥ã‡≤°‡≥ç ‡≤™‡≥ç‡≤∞‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤≤‡≤≠‡≥ç‡≤Ø‡≤µ‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤à ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤≥‡≤ï‡≥Ü ‡≤Æ‡≤æ‡≤§‡≤ø‡≤® ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≥Å‡≤µ‡≤ø‡≤ï‡≥Ü‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ï‡≥Ü‡≤≤‡≤µ‡≥Å ‡≤§‡≤°‡≤§‡≤ø‡≤ó‡≥Ü ‡≤ï‡≤æ‡≤∞‡≤£‡≤µ‡≤æ‡≤ó‡≤¨‡≤π‡≥Å‡≤¶‡≥Å, ‡≤Ü‡≤¶‡≤∞‡≥Ü ‡≤®‡≥Ä‡≤µ‡≥Å ‡≤π‡≤≤‡≤µ‡≤æ‡≤∞‡≥Å ‡≤¨‡≤´‡≤∞‡≥ç‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥ä‡≤Ç‡≤¶‡≤ø‡≤∏‡≤¨‡≤π‡≥Å‡≤¶‡≥Å. DMAC ‡≤Æ‡≥ä‡≤¶‡≤≤‡≥Å ‡≤¨‡≤´‡≤∞‡≥ç 1‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤Ö‡≤¶‡≥Å ‡≤§‡≥Å‡≤Ç‡≤¨‡≤ø‡≤¶‡≤æ‡≤ó ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ï‡≥ã‡≤°‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥Ç‡≤ö‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å DMAC ‡≤¨‡≤´‡≤∞‡≥ç 2 ‡≤ó‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≥Å ‡≤Æ‡≥Å‡≤Ç‡≤¶‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤¨‡≤´‡≤∞‡≥ç 2 ‡≤ï‡≥Ç‡≤° ‡≤§‡≥Å‡≤Ç‡≤¨‡≤ø‡≤¶‡≤æ‡≤ó, ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ï‡≥ã‡≤°‡≥ç ‡≤ó‡≥Ü ‡≤∏‡≥Ç‡≤ö‡≤®‡≥Ü ‡≤®‡≥Ä‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å DMAC ‡≤Æ‡≤§‡≥ç‡≤§‡≥Ü ‡≤¨‡≤´‡≤∞‡≥ç 1 ‡≤ó‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≥Å ‡≤π‡≤ø‡≤Ç‡≤§‡≤ø‡≤∞‡≥Å‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤π‡≥Ä‡≤ó‡≥Ü ‡≤™‡≥ç‡≤∞‡≤§‡≤ø‡≤Ø‡≥ä‡≤Ç‡≤¶‡≥Å ‡≤¨‡≤´‡≤∞‡≥ç ‡≤™‡≥ç‡≤∞‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤§‡≥Ü‡≤ó‡≥Ü‡≤¶‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≥Å‡≤µ ‡≤∏‡≤Æ‡≤Ø‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤¨‡≤´‡≤∞‡≥ç ‡≤§‡≥Å‡≤Ç‡≤¨‡≤≤‡≥Å ‡≤§‡≤ï‡≥ç‡≤ï‡≤∑‡≥ç‡≤ü‡≥Å ‡≤ï‡≤°‡≤ø‡≤Æ‡≥Ü ‡≤á‡≤∞‡≥ã ‡≤∏‡≤Æ‡≤Ø ‡≤á‡≤∞‡≥Å‡≤µ‡≤Ç‡≤§‡≥Ü ‡≤®‡≥Ä‡≤µ‡≥Å ‡≤™‡≥ç‡≤∞‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤ø‡≤¶‡≥ç‡≤¶‡≤∞‡≥Ü, ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á ‡≤°‡≥á‡≤ü‡≤æ ‡≤§‡≤™‡≥ç‡≤™‡≤ø‡≤∏‡≤ø‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≥Å‡≤µ‡≥Å‡≤¶‡≤ø‡≤≤‡≥ç‡≤≤.

‡≤™‡≥ç‡≤∞‡≤§‡≤ø ‡≤¨‡≤´‡≤∞‡≥ç ‡≤π‡≤ø‡≤°‡≤ø‡≤¶ ‡≤®‡≤Ç‡≤§‡≤∞, ‡≤Ö‡≤¶‡≥Å ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤¨‡≤π‡≥Å‡≤¶‡≥Å. ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≥Å ‡≤®‡≤ø‡≤∞‡≥ç‡≤¶‡≤ø‡≤∑‡≥ç‡≤ü ‡≤µ‡≤ø‡≤≥‡≤æ‡≤∏‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤≥‡≤∏‡≤¨‡≥á‡≤ï‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤Ø‡≤æ‡≤µ ‡≤∏‡≥ç‡≤•‡≤≥‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤¨‡≤∞‡≥Ü‡≤µ‡≥Å‡≤¶‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤é‡≤∑‡≥ç‡≤ü‡≥Å ‡≤¶‡≥ä‡≤°‡≥ç‡≤°‡≤¶‡≤æ‡≤ó‡≤ø ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤µ‡≥Å‡≤¶‡≥Å ‡≤é‡≤Ç‡≤¨‡≥Å‡≤¶‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥Ç‡≤ö‡≤ø‡≤∏‡≤ø, ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø‡≤® ‡≤¨‡≥à‡≤ü‡≥ç ‡≤Ö‡≤∞‡≥Ü‡≥ï ‡≤∏‡≤∞‡≤£‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ö‡≤™‡≥ç‡≤°‡≥Ü‡≥ï‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≥Å‡≤µ‡≤Ç‡≤§‡≤ø‡≤¶‡≥Ü. ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø ‡≤ó‡≥ç‡≤∞‡≤æ‡≤®‡≥ç‡≤Ø‡≥Å‡≤≤‡≤æ‡≤∞‡≤ø‡≤ü‡≤ø‡≤Ç‡≤ü‡≥Ü, ‡≤Ö‡≤Ç‡≤¶‡≤∞‡≥Ü ‡≤Ö‡≤≥‡≤ø‡≤∏‡≥Å‡≤µ‡≤ø‡≤ï‡≥Ü ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤¨‡≤∞‡≤µ‡≤£‡≤ø‡≤ó‡≥Ü ‡≤ï‡≤æ‡≤∞‡≥ç‡≤Ø‡≤æ‡≤ö‡≤∞‡≤£‡≥Ü‡≤ó‡≤≥‡≥Å ‡≤∏‡≥ç‡≤•‡≤ø‡≤∞ ‡≤ó‡≤æ‡≤§‡≥ç‡≤∞ ‡≤ï‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤µ‡≥Å‡≤¶‡≤é‡≤¶‡≥Å‡≤∞‡≤æ‡≤ó‡≤ø, ‡≤Ü ‡≤ó‡≤æ‡≤§‡≥ç‡≤∞‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤π‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ï‡≥Ü‡≤Ø‡≤æ‡≤ó‡≤ø‡≤∞‡≤¨‡≥á‡≤ï‡≥Å. ‡≤â‡≤¶‡≤æ‡≤π‡≤∞‡≤£‡≥Ü‡≤ó‡≥Ü, ‡≤ó‡≥ç‡≤∞‡≤æ‡≤®‡≥ç‡≤Ø‡≥Å‡≤≤‡≤æ‡≤∞‡≤ø‡≤ü‡≤ø 4096 ‡≤¨‡≥à‡≤ü‡≥ç‡≤∏‡≥ç ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥ç‡≤¶‡≤∞‡≥Ü, ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤®‡≥Ä‡≤µ‡≥Å 4200 ‡≤µ‡≤ø‡≤≥‡≤æ‡≤∏‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤Ö‡≤≥‡≤ø‡≤∏‡≤≤‡≥Å ‡≤ï‡≥á‡≤≥‡≤ø‡≤¶‡≤∞‡≥Ü, ‡≤Ö‡≤¶‡≥Å 4096 ‡≤∞‡≤ø‡≤Ç‡≤¶ 8192‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü ‡≤°‡≥á‡≤ü‡≤æ ‡≤Ö‡≤≥‡≤ø‡≤∏‡≤¨‡≤π‡≥Å‡≤¶‡≥Å. ‡≤á‡≤¶‡≤∞‡≤∞‡≥ç‡≤• ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤°‡≥á‡≤ü‡≤æ‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤µ‡≤æ‡≤ó, ‡≤Ö‡≤¶‡≥Å ‡≤∏‡≤∞‡≤ø‡≤Ø‡≤æ‡≤¶ ‡≤ó‡≤æ‡≤§‡≥ç‡≤∞‡≤¶ ‡≤§‡≥Å‡≤Ç‡≤°‡≥Å‡≤ó‡≤≥‡≤≤‡≥ç‡≤≤‡≤ø‡≤∞‡≤¨‡≥á‡≤ï‡≥Å.

### ‡≤ï‡≤æ‡≤∞‡≥ç‡≤Ø - ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤∏‡≤Ç‡≤∞‡≤ö‡≤ø‡≤∏‡≤ø

1. PlatformIO ‡≤¨‡≤≥‡≤∏‡≤ø ‡≤π‡≤§‡≥ç‡≤§‡≤ø‡≤∞‡≤¶ ‡≤®‡≥Ç‡≤§‡≤® Wio Terminal ‡≤™‡≥ç‡≤∞‡≤æ‡≤ú‡≥Ü‡≤ï‡≥ç‡≤ü‡≥ç ‡≤∞‡≤ö‡≤ø‡≤∏‡≤ø. ‡≤à ‡≤™‡≥ç‡≤∞‡≤æ‡≤ú‡≥Ü‡≤ï‡≥ç‡≤ü‡≥ç‚Äå‡≤ó‡≥Ü `smart-timer` ‡≤é‡≤Ç‡≤¶‡≥Å ‡≤π‡≥Ü‡≤∏‡≤∞‡≤ø‡≤∏‡≤ø‡≤∞‡≤ø. `setup` ‡≤´‡≤Ç‡≤ï‡≥ç‡≤∑‡≤®‡≥ç‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤∏‡≥Ä‡≤∞‡≤ø‡≤Ø‡≤≤‡≥ç ‡≤™‡≥ã‡≤∞‡≥ç‡≤ü‡≥ç ‡≤∏‡≤Ç‡≤∞‡≤ö‡≤ø‡≤∏‡≤≤‡≥Å ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø.

1. ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤ó‡≥Ü ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂ ‡≤®‡≥Ä‡≤°‡≤≤‡≥Å `platformio.ini` ‡≤´‡≥à‡≤≤‡≥ç‚Äå‡≤ó‡≥Ü ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤≤‡≥à‡≤¨‡≥ç‡≤∞‡≤∞‡≤ø ‡≤Ö‡≤µ‡≤≤‡≤Ç‡≤¨‡≤®‡≥Ü‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```ini
    lib_deps =
        seeed-studio/Seeed Arduino FS @ 2.1.1
        seeed-studio/Seeed Arduino SFUD @ 2.0.2
    ```

1. `main.cpp` ‡≤´‡≥à‡≤≤‡≥ç ‡≤§‡≥Ü‡≤∞‡≥Ü‡≤Ø‡≤ø‡≤∞‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤´‡≥à‡≤≤‡≥ç ‡≤Æ‡≥á‡≤≤‡≥ç‡≤≠‡≤æ‡≤ó‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤≤‡≥à‡≤¨‡≥ç‡≤∞‡≤∞‡≤ø‡≤ó‡≥Ü ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤∏‡≥Ç‡≤ö‡≤®‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    #include <sfud.h>
    #include <SPI.h>
    ```

    > üéì SFUD ‡≤Ö‡≤Ç‡≤¶‡≤∞‡≥Ü ‡≤∏‡≥Ä‡≤∞‡≤ø‡≤Ø‡≤≤‡≥ç ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Ø‡≥Å‡≤®‡≤ø‡≤µ‡≤∞‡≥ç‡≤∏‡≤≤‡≥ç ‡≤°‡≥ç‡≤∞‡≥à‡≤∞‡≤ø‡≤µ‡≤∞‡≥ç, ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤á‡≤¶‡≥Å ‡≤é‡≤≤‡≥ç‡≤≤‡≤æ ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø —á‡≤ø‡≤™‡≥ç‡≤ó‡≤≥‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü ‡≤ï‡≥Ü‡≤≤‡≤∏ ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤µ‡≤ø‡≤®‡≥ç‡≤Ø‡≤æ‡≤∏‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤ø‡≤¶ ‡≤≤‡≥à‡≤¨‡≥ç‡≤∞‡≤∞‡≤ø

1. `setup` ‡≤´‡≤Ç‡≤ï‡≥ç‡≤∑‡≤®‡≥ç‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤∏‡≤Ç‡≤∞‡≤ï‡≥ç‡≤∑‡≤£ ‡≤≤‡≥à‡≤¨‡≥ç‡≤∞‡≤∞‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥ç‡≤•‡≤æ‡≤™‡≤ø‡≤∏‡≤≤‡≥Å ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    while (!(sfud_init() == SFUD_SUCCESS))
        ;

    sfud_qspi_fast_read_enable(sfud_get_device(SFUD_W25Q32_DEVICE_INDEX), 2);
    ```

    ‡≤á‡≤¶‡≥Å SFUD ‡≤≤‡≥à‡≤¨‡≥ç‡≤∞‡≤∞‡≤ø ‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤µ‡≤æ‡≤ó‡≥Å‡≤µ‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü ‡≤≤‡≥Ç‡≤™‡≥ç ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤®‡≤Ç‡≤§‡≤∞ ‡≤µ‡≥á‡≤ó‡≤µ‡≤æ‡≤ó‡≤ø ‡≤ì‡≤¶‡≥Å‡≤ó‡≤æ‡≤ó‡≤ø ‡≤Ü‡≤®‡≥ç‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤®‡≤ø‡≤∞‡≥ç‡≤Æ‡≤ø‡≤§ ‡∞´‡≥ç‡≤≤‡∞æ‡∞∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å Queued Serial Peripheral Interface (QSPI) ‡≤¨‡≤≥‡≤∏‡≤ø ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤¨‡≤π‡≥Å‡≤¶‡≥Å, ‡≤á‡≤¶‡≥Å ‡≤™‡≥ç‡≤∞‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≤æ‡≤™‡≤æ‡≤∞‡≥ç‡≤ü‡≤∞‡≥ç ‡≤¨‡≤≥‡≤ï‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤®‡≤ø‡≤∑‡≥ç‡≤ü‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≥Å‡≤µ ‡≤§‡≤≥‡≤π‡≤¶‡≤ø‡≤Ø‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü ‡≤ï‡≥ç‡≤Ø‡≥Ç ‡≤Æ‡≥Ç‡≤≤‡≤ï ‡≤®‡≥à‡≤§‡≤ø‡≤ï‡≤µ‡≤æ‡≤ó‡≤ø ‡≤®‡≤ø‡≤∞‡≤Ç‡≤§‡≤∞ ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ö‡≤®‡≥Å‡≤Æ‡≤§‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤á‡≤¶‡≤∞‡≤ø‡≤Ç‡≤¶ ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤ì‡≤¶‡≤≤‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≥Å ‡≤µ‡≥á‡≤ó‡≤µ‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

1. `src` ‡≤´‡≥ã‡≤≤‡≥ç‡≤°‡≤∞‡≤ø‡≤®‡≤≤‡≥ç‡≤≤‡≤ø `flash_writer.h` ‡≤é‡≤Ç‡≤¨ ‡≤π‡≥Ü‡≤∏‡≤∞‡≤ø‡≤® ‡≤π‡≥ä‡≤∏ ‡≤´‡≥à‡≤≤‡≥ç ‡≤∞‡≤ö‡≤ø‡≤∏‡≤ø.

1. ‡≤à ‡≤´‡≥à‡≤≤‡≥ç ‡≤Æ‡≥á‡≤≤‡≥ç‡≤≠‡≤æ‡≤ó‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    #pragma once

    #include <Arduino.h>
    #include <sfud.h>
    ```

    ‡≤á‡≤¶‡≤∞‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ï‡≥Ü‡≤≤‡≤µ‡≥Å ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø ‡≤π‡≤ø‡≤°‡≤ø‡≤µ ‡≤´‡≥à‡≤≤‡≥ç‚Äå‡≤ó‡≤≥‡≥Å ‡≤∏‡≥á‡≤∞‡≤ø‡≤¶‡≥ç‡≤¶‡≥Å, SFUD ‡≤≤‡≥à‡≤¨‡≥ç‡≤∞‡≤∞‡≤ø‡≤Ø ‡≤π‡≥Ü‡≤°‡≤∞‡≥ç ‡≤´‡≥à‡≤≤‡≥ç ‡≤ï‡≥Ç‡≤° ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü ‡≤∏‡≤Ç‡≤µ‡≤π‡≤® ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü

1. ‡≤à ‡≤π‡≥ä‡≤∏ ‡≤π‡≥Ü‡≤°‡≤∞‡≥ç ‡≤´‡≥à‡≤≤‡≥ç‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø `FlashWriter` ‡≤é‡≤Ç‡≤¨ ‡≤ï‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≥ç‡≤Ø‡≤æ‡≤ñ‡≥ç‡≤Ø‡≤æ‡≤®‡≤ø‡≤∏‡≤ø:

    ```cpp
    class FlashWriter
    {
    public:
    
    private:
    };
    ```

1. `private` ‡≤µ‡≤ø‡≤≠‡≤æ‡≤ó‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    byte *_sfudBuffer;
    size_t _sfudBufferSize;
    size_t _sfudBufferPos;
    size_t _sfudBufferWritePos;

    const sfud_flash *_flash;
    ```

    ‡≤á‡≤¶‡≥Å ‡≤°‡≥á‡≤ü‡≤æ‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤ó‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤µ ‡≤Æ‡≥Å‡≤®‡≥ç‡≤® ‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤ø‡≤∏‡≤≤‡≥Å ‡≤¨‡≤´‡≤∞‡≥ç ‡≤¨‡≤≥‡≤∏‡≤≤‡≥Å ‡≤ï‡≥Ü‡≤≤‡≤µ‡≥Å ‡≤ï‡≥ç‡≤∑‡≥á‡≤§‡≥ç‡≤∞‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≥ç‡≤Ø‡≤æ‡≤ñ‡≥ç‡≤Ø‡≤æ‡≤®‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. `_sfudBuffer` ‡≤é‡≤Ç‡≤¨ ‡≤¨‡≥à‡≤ü‡≥ç ‡≤Ö‡≤∞‡≥Ü‡≥ï ‡≤á‡≤¶‡≥Ü, ‡≤á‡≤¶‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤°‡≥á‡≤ü‡≤æ ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤Ö‡≤¶‡≥Å ‡≤§‡≥Å‡≤Ç‡≤¨‡≤ø‡≤¶‡≤æ‡≤ó, ‡≤°‡≥á‡≤ü‡≤æ‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤ó‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. `_sfudBufferPos` ‡≤ï‡≥ç‡≤∑‡≥á‡≤§‡≥ç‡≤∞‡≤µ‡≥Å ‡≤à ‡≤¨‡≤´‡≤∞‡≥ç‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤à‡≤ó‡≤æ‡≤ó‡≤≤‡≥á ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤¨‡≥á‡≤ï‡≤æ‡≤ó‡≤ø‡≤∞‡≥Å‡≤µ ‡≤∏‡≥ç‡≤•‡≤≥‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å `_sfudBufferWritePos` ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≤ø‡≤∞‡≥Å‡≤µ ‡≤∏‡≥ç‡≤•‡≤≥‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. `_flash` ‡≤é‡≤Ç‡≤¨‡≥Å‡≤¶‡≥Å ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤¨‡≥á‡≤ï‡≤æ‡≤ó‡≤ø‡≤∞‡≥Å‡≤µ ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø ‡≤∏‡≥Ç‡≤ö‡≤ø‡≤ï‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥ä‡≤Ç‡≤¶‡≤ø‡≤¶‡≥Ü - ‡≤ï‡≥Ü‡≤≤‡≤µ‡≥Å ‡≤Æ‡≥à‡≤ï‡≥ç‡≤∞‡≥ã‡≤ï‡≥Å‡≤Ç‡≤ü‡≥ç‡≤∞‡≥ã‡≤≤‡≤∞‡≥ç‚Äå‡≤ó‡≤≥‡≤ø‡≤ó‡≥ä‡≤Ç‡≤¶‡≥Å ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤Ö‡≤®‡≥á‡≤ï ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤ö‡≤ø‡≤™‡≥ç‚Äå‡≤ó‡≤≥‡≤ø‡≤∞‡≤¨‡≤π‡≥Å‡≤¶‡≥Å.

1. `public` ‡≤µ‡≤ø‡≤≠‡≤æ‡≤ó‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤à ‡≤ï‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç ‡≤Ü‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤≤‡≥Å ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤µ‡≤ø‡≤ß‡≤æ‡≤® ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    void init()
    {
        _flash = sfud_get_device_table() + 0;
        _sfudBufferSize = _flash->chip.erase_gran;
        _sfudBuffer = new byte[_sfudBufferSize];
        _sfudBufferPos = 0;
        _sfudBufferWritePos = 0;
    }
    ```

    ‡≤á‡≤¶‡≥Å Wio Terminal ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≥Å ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤Ç‡≤∞‡≤ö‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø ‡≤¶‡≤æ‡≤£‡≤æ ‡≤ó‡≤æ‡≤§‡≥ç‡≤∞‡≤¶ ‡≤Æ‡≥á‡≤≤‡≥Ü ‡≤Ü‡≤ß‡≤æ‡≤∞‡≤ø‡≤§‡≤µ‡≤æ‡≤ó‡≤ø ‡≤¨‡≤´‡≤∞‡≥ç‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥ä‡≤Ç‡≤¶‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤á‡≤¶‡≥Å `init` ‡≤µ‡≤ø‡≤ß‡≤æ‡≤®‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤á‡≤¶‡≥Ü, ‡≤®‡≤ø‡≤∞‡≥ç‡≤Æ‡≤æ‡≤™‡≤ï ‡≤Ö‡≤≤‡≥ç‡≤≤, ‡≤è‡≤ï‡≥Ü‡≤Ç‡≤¶‡≤∞‡≥Ü ‡≤á‡≤¶‡≥Å `setup` ‡≤´‡≤Ç‡≤ï‡≥ç‡≤∑‡≤®‡≥ç‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤∏‡≥ç‡≤•‡≤æ‡≤™‡≤®‡≥Ü‡≤Ø‡≤æ‡≤¶ ‡≤®‡≤Ç‡≤§‡≤∞ ‡≤ï‡≤∞‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤¨‡≥á‡≤ï‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

1. `public` ‡≤µ‡≤ø‡≤≠‡≤æ‡≤ó‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    void writeSfudBuffer(byte b)
    {
        _sfudBuffer[_sfudBufferPos++] = b;
        if (_sfudBufferPos == _sfudBufferSize)
        {
            sfud_erase_write(_flash, _sfudBufferWritePos, _sfudBufferSize, _sfudBuffer);
            _sfudBufferWritePos += _sfudBufferSize;
            _sfudBufferPos = 0;
        }
    }

    void writeSfudBuffer(byte *b, size_t len)
    {
        for (size_t i = 0; i < len; ++i)
        {
            writeSfudBuffer(b[i]);
        }
    }

    void flushSfudBuffer()
    {
        if (_sfudBufferPos > 0)
        {
            sfud_erase_write(_flash, _sfudBufferWritePos, _sfudBufferSize, _sfudBuffer);
            _sfudBufferWritePos += _sfudBufferSize;
            _sfudBufferPos = 0;
        }
    }
    ```

    ‡≤à ‡≤ï‡≥ã‡≤°‡≥ç ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤∏‡≤Ç‡≤∞‡≤ï‡≥ç‡≤∑‡≤£ ‡≤µ‡≥ç‡≤Ø‡≤µ‡≤∏‡≥ç‡≤•‡≥Ü‡≤ó‡≥Ü ‡≤¨‡≥à‡≤ü‡≥ç‚Äå‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≥Å ‡≤µ‡≤ø‡≤ß‡≤æ‡≤®‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≥ç‡≤Ø‡≤æ‡≤ñ‡≥ç‡≤Ø‡≤æ‡≤®‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤á‡≤¶‡≥Å ‡≤Æ‡≥ä‡≤¶‡≤≤‡≤ø‡≤ó‡≥Ü ‡≤∏‡≤∞‡≤ø ‡≤ó‡≤æ‡≤§‡≥ç‡≤∞‡≤¶ ‡≤∏‡≥ç‡≤µ‡≤Ø‡≤Ç-‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤¨‡≤´‡≤∞‡≥ç‚Äå‡≤ó‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤Ö‡≤¶‡≥Å ‡≤§‡≥Å‡≤Ç‡≤¨‡≤ø‡≤¶‡≤æ‡≤ó, ‡≤à ‡≤¨‡≤´‡≤∞‡≥ç ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤ó‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤Ö‡≤¶‡≥Å ‡≤Ü ‡≤µ‡≤ø‡≤≥‡≤æ‡≤∏‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤á‡≤∞‡≥Å‡≤µ ‡≤°‡≥á‡≤ü‡≤æ‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ö‡≤≥‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. `flushSfudBuffer` ‡≤ï‡≥Ç‡≤° ‡≤á‡≤¶‡≥Ü, ‡≤Ö‡≤≤‡≥ç‡≤™ ‡≤™‡≥Ç‡≤∞‡≥ç‡≤£ ‡≤¨‡≤´‡≤∞‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≥Å, ‡≤è‡≤ï‡≥Ü‡≤Ç‡≤¶‡≥ç‡≤∞‡≥Ü ‡≤™‡≤°‡≥Ü‡≤¶‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≥Å‡≤§‡≥ç‡≤§‡≤ø‡≤∞‡≥Å‡≤µ ‡≤°‡≥á‡≤ü‡≤æ ‡≤¶‡≤æ‡≤£‡≤æ ‡≤ó‡≤æ‡≤§‡≥ç‡≤∞‡≤¶ ‡≤¨‡≤π‡≥Å ‡≤ó‡≥Å‡≤£‡≤æ‡≤ï‡≤æ‡≤∞‡≤ó‡≤≥‡≤≤‡≥ç‡≤≤‡≤ø‡≤∞‡≥Å‡≤µ‡≥Å‡≤¶‡≤ø‡≤≤‡≥ç‡≤≤, ‡≤Ü‡≤¶‡≥ç‡≤¶‡≤∞‡≤ø‡≤Ç‡≤¶ ‡≤ï‡≥ä‡≤®‡≥Ü‡≤Ø ‡≤≠‡≤æ‡≤ó‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤¨‡≥á‡≤ï‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

    > üíÅ ‡≤°‡≥á‡≤ü‡≤æ ‡≤ï‡≥ä‡≤®‡≥Ü‡≤Ø ‡≤≠‡≤æ‡≤ó‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≥Å‡≤µ‡≤∞‡≤ø ‡≤Ö‡≤®‡≤ó‡≤§‡≥ç‡≤Ø ‡≤°‡≥á‡≤ü‡≤æ ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤¨‡≤π‡≥Å‡≤¶‡≥Å, ‡≤Ü‡≤¶‡≤∞‡≥Ü ‡≤¨‡≥á‡≤ï‡≤æ‡≤¶ ‡≤°‡≥á‡≤ü‡≤æ ‡≤Æ‡≤æ‡≤§‡≥ç‡≤∞ ‡≤ì‡≤¶‡≤≤‡≤æ‡≤ó‡≥Å‡≤µ‡≥Å‡≤¶‡≤∞‡≤ø‡≤Ç‡≤¶ ‡≤á‡≤¶‡≥Å ‡≤¨‡≤Ç‡≤¶‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤¨‡≤π‡≥Å‡≤¶‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü.

### ‡≤ï‡≤æ‡≤∞‡≥ç‡≤Ø - ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≥Å‡≤µ‡≤ø‡≤ï‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥ä‡≤Ç‡≤¶‡≤ø‡≤∏‡≤ø

1. `src` ‡≤´‡≥ã‡≤≤‡≥ç‡≤°‡Æ∞‡Æø‡Æ≤‡Øç `config.h` ‡≤é‡≤Ç‡≤¨ ‡≤π‡≥Ü‡≤∏‡≤∞‡≤ø‡≤® ‡≤π‡≥ä‡≤∏ ‡≤´‡≥à‡≤≤‡≥ç ‡≤∞‡≤ö‡≤ø‡≤∏‡≤ø.

1. ‡≤à ‡≤´‡≥à‡≤≤‡≥ç ‡≤Æ‡≥á‡≤≤‡≥ç‡≤≠‡≤æ‡≤ó‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    #pragma once

    #define RATE 16000
    #define SAMPLE_LENGTH_SECONDS 4
    #define SAMPLES RATE * SAMPLE_LENGTH_SECONDS
    #define BUFFER_SIZE (SAMPLES * 2) + 44
    #define ADC_BUF_LEN 1600
    ```

    ‡≤à ‡≤ï‡≥ã‡≤°‡≥ç ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≥Å ‡≤ï‡≥Ü‡≤≤ ‡≤∏‡≥ç‡≤•‡≤ø‡≤∞‡≤æ‡≤Ç‡≤ï‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥ä‡≤Ç‡≤¶‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

    | ‡≤∏‡≥ç‡≤•‡≤ø‡≤∞‡≤æ‡≤Ç‡≤ï               | ‡≤Æ‡≥å‡≤≤‡≥ç‡≤Ø  | ‡≤µ‡≤ø‡≤µ‡≤∞‡≤£‡≥Ü |
    | --------------------- | -----: | - |
    | RATE                  | 16000  | ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤ó‡≤æ‡≤ó‡≤ø ‡≤Æ‡≤æ‡≤¶‡≤∞‡≤ø ‡≤¶‡≤∞. 16,000 ‡≤Ö‡≤Ç‡≤¶‡≤∞‡≥Ü 16KHz |
    | SAMPLE_LENGTH_SECONDS | 4      | ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≥Å‡≤µ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤Ø ‡≤Ö‡≤µ‡≤ß‡≤ø. ‡≤á‡≤¶‡≤®‡≥ç‡≤®‡≥Å 4 ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≥Å‡≤ó‡≤≥‡≤æ‡≤ó‡≤ø‡≤∏‡≤ø‡≤¶‡≥Ü. ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≥Å ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤¶‡≤æ‡≤ñ‡≤≤‡≤ø‡≤∏‡≤≤‡≥Å ‡≤á‡≤¶‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≤ø‡≤∏‡≤ø. |
    | SAMPLES               | 64000  | ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≤æ‡≤¶ ‡≤í‡≤ü‡≥ç‡≤ü‡≥Å ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤Æ‡≤æ‡≤¶‡≤∞‡≤ø‡≤ó‡≤≥ ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü. ‡≤Æ‡≤æ‡≤¶‡≤∞‡≤ø ‡≤¶‡≤∞ √ó ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≥Å‡≤ó‡≤≥ ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü |
    | BUFFER_SIZE           | 128044 | ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≥Å‡≤µ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤¨‡≤´‡≤∞‡≥ç ‡≤ó‡≤æ‡≤§‡≥ç‡≤∞. ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å WAV ‡≤´‡≥à‡≤≤‡≥ç ‡≤Ü‡≤ó‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤ú‡≤¶‡≥Ü, ‡≤á‡≤¶‡≥Å 44 ‡≤¨‡≥à‡≤ü‡≥ç ‡≤π‡≥Ü‡≤°‡≤∞‡≥ç ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤®‡≤Ç‡≤§‡≤∞ 128,000 ‡≤¨‡≥à‡≤ü‡≥ç ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤°‡≥á‡≤ü‡≤æ (‡≤™‡≥ç‡≤∞‡≤§‡≤ø ‡≤Æ‡≤æ‡≤¶‡≤∞‡≤ø 2 ‡≤¨‡≥à‡≤ü‡≥ç) |
    | ADC_BUF_LEN           | 1600   | DMAC ‡≤®‡≤ø‡≤Ç‡≤¶ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≥Å ‡≤¨‡≤≥‡≤∏‡≥Å‡≤µ ‡≤¨‡≤´‡≤∞‡≥ç ‡≤ó‡≤æ‡≤§‡≥ç‡≤∞ |

    > üíÅ ‡≤®‡≤ø‡≤Æ‡≤ó‡≥Ü 4 ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≥Å‡≤ó‡≤≥‡≥Å ‡≤ü‡≥à‡≤Æ‡≤∞‡≥ç ‡≤ï‡≥á‡≤≥‡≤≤‡≥Å ‡≤ï‡≤°‡≤ø‡≤Æ‡≥Ü ‡≤Ö‡≤®‡≤ø‡≤∏‡≥Å‡≤µ‡≤¶‡≤æ‡≤¶‡≤∞‡≥Ü, `SAMPLE_LENGTH_SECONDS` ‡≤Æ‡≥å‡≤≤‡≥ç‡≤Ø‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≤ø‡≤∏‡≤ø, ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤á‡≤§‡≤∞ ‡≤Æ‡≥å‡≤≤‡≥ç‡≤Ø‡≤ó‡≤≥‡≥Å ‡≤™‡≥Å‡≤®‡≤É ‡≤≤‡≥Ü‡≤ï‡≥ç‡≤ï‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤µ‡≥Ü.

1. `src` ‡≤´‡≥ã‡≤≤‡≥ç‡≤°‡≤∞‡≥ç‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø `mic.h` ‡≤é‡≤Ç‡≤¨ ‡≤π‡≥ä‡≤∏ ‡≤´‡≥à‡≤≤‡≥ç ‡≤∞‡≤ö‡≤ø‡≤∏‡≤ø.

1. ‡≤à ‡≤´‡≥à‡≤≤‡≥ç ‡≤Æ‡≥á‡≤≤‡≥ç‡≤≠‡≤æ‡≤ó‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    #pragma once

    #include <Arduino.h>

    #include "config.h"
    #include "flash_writer.h"
    ```

    ‡≤á‡≤¶‡≥Å ‡≤ï‡≥Ü‡≤≤‡≤µ‡≥Å ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø ‡≤π‡≥Ü‡≤°‡≤∞‡≥ç ‡≤´‡≥à‡≤≤‡≥ç ‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø‡≤¶‡≥Ü, ‡≤∏‡≤π‡≤ø‡≤§ `config.h` ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å `FlashWriter` ‡≤π‡≥Ü‡≤°‡≤∞‡≥ç ‡≤´‡≥à‡≤≤‡≥ç ‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å.

1. ‡≤Æ‡≥à‡≤ï‡≥ç‡≤∞‡≥ã‡≤´‡≥ã‡≤®‡≥ç‚Äå‡≤®‡≤ø‡≤Ç‡≤¶ ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≥Å `Mic` ‡≤é‡≤Ç‡≤¨ ‡≤ï‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≥ç‡≤Ø‡≤æ‡≤ñ‡≥ç‡≤Ø‡≤æ‡≤®‡≤ø‡≤∏‡≤≤‡≥Å ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    class Mic
    {
    public:
        Mic()
        {
            _isRecording = false;
            _isRecordingReady = false;
        }
    
        void startRecording()
        {
            _isRecording = true;
            _isRecordingReady = false;
        }
    
        bool isRecording()
        {
            return _isRecording;
        }
    
        bool isRecordingReady()
        {
            return _isRecordingReady;
        }
    
    private:
        volatile bool _isRecording;
        volatile bool _isRecordingReady;
        FlashWriter _writer;
    };
    
    Mic mic;
    ```

    ‡≤à ‡≤ï‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç ‡≤™‡≥ç‡≤∞‡≤∏‡≥ç‡≤§‡≥Å‡≤§ ‡≤∞‡≥Ü‡≤ï‡≤æ‡≤∞‡≥ç‡≤°‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤ó‡≥ä‡≤Ç‡≤°‡≤ø‡≤¶‡≥Ü‡≤Ø‡≥á ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∞‡≥Ü‡≤ï‡≤æ‡≤∞‡≥ç‡≤°‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤¨‡≤≥‡≤ï‡≥Ü‡≤ó‡≤æ‡≤ó‡≤ø ‡≤∏‡≤ø‡≤¶‡≥ç‡≤ß‡≤µ‡≤ø‡≤¶‡≥Ü‡≤Ø‡≥á ‡≤é‡≤Ç‡≤¨ ‡≤Ü ‡≤é‡≤∞‡≤°‡≥Å ‡≤ï‡≥ç‡≤∑‡≥á‡≤§‡≥ç‡≤∞‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤Æ‡≤æ‡≤§‡≥ç‡≤∞ ‡≤π‡≥ä‡≤Ç‡≤¶‡≤ø‡≤¶‡≥Ü. DMAC ‡≤∏‡≤ø‡≤¶‡≥ç‡≤ß‡≤™‡≤°‡≤ø‡≤∏‡≤ø‡≤¶‡≤æ‡≤ó, ‡≤á‡≤¶‡≥Å ‡≤®‡≤ø‡≤∞‡≤Ç‡≤§‡≤∞‡≤µ‡≤æ‡≤ó‡≤ø ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤¨‡≤´‡≤∞‡≥ç‡≤ó‡≤≥‡≤ø‡≤ó‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤Ü‡≤¶‡≥ç‡≤¶‡≤∞‡≤ø‡≤Ç‡≤¶ `_isRecording` ‡≤´‡≥ç‡≤≤‡≥ç‡≤Ø‡≤æ‡≤ó‡≥ç ‡≤à ‡≤¨‡≤´‡≤∞‡≥ç‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≥ç‡≤∞‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤¨‡≥á‡≤ï‡≥Ü ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤®‡≤ø‡≤∞‡≥ç‡≤≤‡≤ï‡≥ç‡≤∑‡≤ø‡≤∏‡≤¨‡≥á‡≤ï‡≥Ü ‡≤é‡≤Ç‡≤¨‡≥Å‡≤¶‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. `_isRecordingReady` ‡≤´‡≥ç‡≤≤‡≥ç‡≤Ø‡≤æ‡≤ó‡≥ç ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø 4 ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≤ø‡≤® ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤¶ ‡≤®‡≤Ç‡≤§‡≤∞ ‡≤∏‡≥Ü‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. `_writer` ‡≤ï‡≥ç‡≤∑‡≥á‡≤§‡≥ç‡≤∞‡≤µ‡≥Å ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤°‡≥á‡≤ü‡≤æ‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤â‡≤≥‡≤ø‡≤∏‡≤≤‡≥Å ‡≤¨‡≤≥‡≤ï‡≥Ü‡≤Ø‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

    ‡≤®‡≤Ç‡≤§‡≤∞ `Mic` ‡≤ï‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç‚Äå‡≤® ‡≤â‡≤¶‡≤æ‡≤π‡≤∞‡≤£‡≥Ü‡≤ó‡≥Ü ‡≤ú‡≤æ‡≤ó‡≤§‡≤ø‡≤ï ‡≤ö‡≤∞‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤ò‡≥ã‡≤∑‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü.

1. `Mic` ‡≤ï‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç‚Äå‡≤® `private` ‡≤µ‡≤ø‡≤≠‡≤æ‡≤ó‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    typedef struct
    {
        uint16_t btctrl;
        uint16_t btcnt;
        uint32_t srcaddr;
        uint32_t dstaddr;
        uint32_t descaddr;
    } dmacdescriptor;

    // ‡≤ú‡≤æ‡≤ó‡≤§‡≤ø‡≤ï‡≤ó‡≤≥‡≥Å - DMA ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ADC
    volatile dmacdescriptor _wrb[DMAC_CH_NUM] __attribute__((aligned(16)));
    dmacdescriptor _descriptor_section[DMAC_CH_NUM] __attribute__((aligned(16)));
    dmacdescriptor _descriptor __attribute__((aligned(16)));

    void configureDmaAdc()
    {
        // DMA ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≤ø‡≤Ø‡≤Æ‡≤ø‡≤§ ‡≤Ö‡≤µ‡≤ß‡≤ø‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ADC ‡≤Ø‡≤ø‡≤Ç‡≤¶ ‡≤Æ‡≤æ‡≤¶‡≤∞‡≤ø ‡≤∏‡≥¶‡≤ó‡≥ç‡≤∞‡≤π‡≤ø‡≤∏‡≤≤‡≥Å ‡≤∏‡≤Ç‡≤∞‡≤ö‡≤ø‡≤∏‡≤ø (‡≤ü‡≥à‡≤Æ‡≤∞‡≥ç/‡≤ï‡≥å‡≤Ç‡≤ü‡≤∞‡≥ç ‡≤Æ‡≥Ç‡≤≤‡≤ï ‡≤™‡≥ç‡≤∞‡≥á‡≤∞‡≤ø‡≤§)
        DMAC->BASEADDR.reg = (uint32_t)_descriptor_section;                    // ‡≤µ‡≤ø‡≤µ‡≤∞‡≤£‡≥Ü‡≤ï‡≤æ‡≤∞‡≤∞ ‡≤∏‡≥ç‡≤•‡≤≥‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≤ø‡≤∞‡≥ç‡≤¶‡≤ø‡≤∑‡≥ç‡≤ü‡≤™‡≤°‡≤ø‡≤∏‡≤ø
        DMAC->WRBADDR.reg = (uint32_t)_wrb;                                    // ‡≤¨‡≤∞‡≤π ‡≤π‡≤ø‡≤®‡≥ç‡≤®‡≤°‡≥Ü ‡≤µ‡≤ø‡≤µ‡≤∞‡≤£‡≥Ü‡≤ï‡≤æ‡≤∞‡≤∞ ‡≤∏‡≥ç‡≤•‡≤≥‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≤ø‡≤∞‡≥ç‡≤¶‡≤ø‡≤∑‡≥ç‡≤ü‡≤™‡≤°‡≤ø‡≤∏‡≤ø
        DMAC->CTRL.reg = DMAC_CTRL_DMAENABLE | DMAC_CTRL_LVLEN(0xf);           // DMAC ‡≤Æ‡≥Å‡≤ñ‡≥ç‡≤Ø‡≤ï vliegtuig ‡≤∏‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤ø
        DMAC->Channel[1].CHCTRLA.reg = DMAC_CHCTRLA_TRIGSRC(TC5_DMAC_ID_OVF) | // TC5 ‡≤ü‡≥à‡≤Æ‡≤∞‡≥ç ‡≤ì‡≤µ‡≤∞‡≥ç‚Äå‡≤´‡≥ç‡≤≤‡≥ã‡≤®‡≤≤‡≥ç‡≤≤‡≤ø DMAC ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≥ç‡≤∞‡≥á‡≤∞‡≥á‡≤™‡≤ø‡≤∏‡≤ø
                                        DMAC_CHCTRLA_TRIGACT_BURST;             // DMAC ‡≤¨‡≤∞‡≥ç‡≤∏‡≥ç‡≤ü‡≥ç ‡≤µ‡≤∞‡≥ç‡≤ó‡≤æ‡≤µ‡≤£‡≥Ü

        _descriptor.descaddr = (uint32_t)&_descriptor_section[1];                    // ‡≤µ‡≥É‡≤§‡≥ç‡≤§‡≤æ‡≤ï‡≤æ‡≤∞ ‡≤µ‡≤ø‡≤µ‡≤∞‡≤£‡≥Ü‡≤ï‡≤æ‡≤∞‡≤∞‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥ä‡≤Ç‡≤¶‡≤ø‡≤∏‡≤ø
        _descriptor.srcaddr = (uint32_t)&ADC1->RESULT.reg;                           // ADC0 ‡≤´‡≤≤‡≤ø‡≤§‡≤æ‡≤Ç‡≤∂ ‡≤∞‡≤ø‡≤ú‡≤ø‡≤∏‡≥ç‡≤ü‡≤∞‡≥ç‚Äå‡≤®‡≤ø‡≤Ç‡≤¶ ‡≤´‡≤≤‡≤ø‡≤§‡≤æ‡≤Ç‡≤∂‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≤°‡≥Ü‡≤¶‡≥Å ‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø
        _descriptor.dstaddr = (uint32_t)_adc_buf_0 + sizeof(uint16_t) * ADC_BUF_LEN; // ‡≤Ö‡≤¶‡≤®‡≥ç‡≤®‡≥Å adc_buf_0 ‡≤∏‡≤∞‡≤£‡≤ø‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤á‡≤°‡≥Å
        _descriptor.btcnt = ADC_BUF_LEN;                                             // ‡≤¨‡≥Ä‡≤ü‡≥ç ‡≤ó‡≤£‡≤®‡≥Ü
        _descriptor.btctrl = DMAC_BTCTRL_BEATSIZE_HWORD |                            // ‡≤¨‡≥Ä‡≤ü‡≥ç ‡≤ó‡≤æ‡≤§‡≥ç‡≤∞ HWORD (16-‡≤¨‡≤ø‡≤ü‡≥ç‚Äå‡≤ó‡≤≥‡≥Å) ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü
                                DMAC_BTCTRL_DSTINC |                                    // ‡≤ó‡≤Æ‡≥ç‡≤Ø‡≤∏‡≥ç‡≤•‡≤æ‡≤® ‡≤µ‡≤ø‡≤≥‡≤æ‡≤∏‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≤ø‡≤∏‡≤ø
                                DMAC_BTCTRL_VALID |                                     // ‡≤µ‡≤ø‡≤µ‡≤∞‡≤£‡≥Ü‡≤ï‡≤æ‡≤∞ ‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø‡≤µ‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü
                                DMAC_BTCTRL_BLOCKACT_SUSPEND;                           // ‡≤¨‡≥ç‡≤≤‡≤æ‡≤ï‡≥ç ‡≤µ‡≤∞‡≥ç‡≤ó‡≤æ‡≤µ‡≤£‡≥Ü‡≤Ø ‡≤®‡≤Ç‡≤§‡≤∞ DMAC ‡≤ö‡≤æ‡≤®‡≥Ü‡≤≤‡≥ç 0 ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≤ø‡≤Ç‡≤§‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø‡≤∏‡≤ø
        memcpy(&_descriptor_section[0], &_descriptor, sizeof(_descriptor));          // ‡≤µ‡≤ø‡≤µ‡≤∞‡≤£‡≥Ü‡≤ï‡≤æ‡≤∞‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≤ø‡≤µ‡≤∞‡≤£‡≥Ü‡≤ï‡≤æ‡≤∞ ‡≤µ‡≤ø‡≤≠‡≤æ‡≤ó‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤®‡≤ï‡≤≤‡≥Å ‡≤Æ‡≤æ‡≤°‡≥Å

        _descriptor.descaddr = (uint32_t)&_descriptor_section[0];                    // ‡≤µ‡≥É‡≤§‡≥ç‡≤§‡≤æ‡≤ï‡≤æ‡≤∞ ‡≤µ‡≤ø‡≤µ‡≤∞‡≤£‡≥Ü‡≤ï‡≤æ‡≤∞‡≤∞‡≤®‡≥ç‡≤®‡≥Ç ‡≤π‡≥ä‡≤Ç‡≤¶‡≤ø‡≤∏‡≤ø
        _descriptor.srcaddr = (uint32_t)&ADC1->RESULT.reg;                           // ADC0 ‡≤´‡≤≤‡≤ø‡≤§‡≤æ‡≤Ç‡≤∂ ‡≤∞‡≤ø‡≤ú‡≤ø‡≤∏‡≥ç‡≤ü‡≤∞‡≥ç‚Äå‡≤®‡≤ø‡≤Ç‡≤¶ ‡≤´‡≤≤‡≤ø‡≤§‡≤æ‡≤Ç‡≤∂‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≤°‡≥Ü‡≤¶‡≥Å ‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø
        _descriptor.dstaddr = (uint32_t)_adc_buf_1 + sizeof(uint16_t) * ADC_BUF_LEN; // ‡≤Ö‡≤¶‡≤®‡≥ç‡≤®‡≥Å adc_buf_1 ‡≤∏‡≤∞‡≤£‡≤ø‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤á‡≤°‡≥Å
        _descriptor.btcnt = ADC_BUF_LEN;                                             // ‡≤¨‡≥Ä‡≤ü‡≥ç ‡≤ó‡≤£‡≤®‡≥Ü
        _descriptor.btctrl = DMAC_BTCTRL_BEATSIZE_HWORD |                            // ‡≤¨‡≥Ä‡≤ü‡≥ç ‡≤ó‡≤æ‡≤§‡≥ç‡≤∞ HWORD (16-‡≤¨‡≤ø‡≤ü‡≥ç‚Äå‡≤ó‡≤≥‡≥Å) ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü
                                DMAC_BTCTRL_DSTINC |                                    // ‡≤ó‡≤Æ‡≥ç‡≤Ø‡≤∏‡≥ç‡≤•‡≤æ‡≤® ‡≤µ‡≤ø‡≤≥‡≤æ‡≤∏‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≤ø‡≤∏‡≤ø
                                DMAC_BTCTRL_VALID |                                     // ‡≤µ‡≤ø‡≤µ‡≤∞‡≤£‡≥Ü‡≤ï‡≤æ‡≤∞ ‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø‡≤µ‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü
                                DMAC_BTCTRL_BLOCKACT_SUSPEND;                           // ‡≤¨‡≥ç‡≤≤‡≤æ‡≤ï‡≥ç ‡≤µ‡≤∞‡≥ç‡≤ó‡≤æ‡≤µ‡≤£‡≥Ü‡≤Ø ‡≤®‡≤Ç‡≤§‡≤∞ DMAC ‡≤ö‡≤æ‡≤®‡≥Ü‡≤≤‡≥ç 0 ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≤ø‡≤Ç‡≤§‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø‡≤∏‡≤ø
        memcpy(&_descriptor_section[1], &_descriptor, sizeof(_descriptor));          // ‡≤µ‡≤ø‡≤µ‡≤∞‡≤£‡≥Ü‡≤ï‡≤æ‡≤∞‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≤ø‡≤µ‡≤∞‡≤£‡≥Ü‡≤ï‡≤æ‡≤∞ ‡≤µ‡≤ø‡≤≠‡≤æ‡≤ó‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤®‡≤ï‡≤≤‡≥Å ‡≤Æ‡≤æ‡≤°‡≥Å

        // NVIC ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤Ç‡≤∞‡≤ö‡≤ø‡≤∏‡≤ø
        NVIC_SetPriority(DMAC_1_IRQn, 0); // DMAC1 ‡≤®_nested ‡≤µ‡≥Ü‡≤ï‡≥ç‡≤ü‡≤∞‡≥ç ‡≤á‡≤Ç‡≤ü‡≤∞‡≥ç‡≤™‡≥ç‡≤ü‡≥ç ‡≤ï‡≤®‡≥ç‡≤ü‡≥ç‡≤∞‡≥ã‡≤≤‡≤∞‡≥ç (NVIC) ‡≤™‡≥ç‡≤∞‡≤æ‡≤ß‡≤æ‡≤®‡≥ç‡≤Ø‡≤§‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å 0 (‡≤Ö‡≤§‡≥ç‡≤Ø‡≤Ç‡≤§ ‡≤Æ‡≥á‡≤≤‡≥Å ‡≤∏‡≥ç‡≤•‡≤æ‡≤®) ‡≤Ü‡≤ó‡≤ø ‡≤∏‡≥Ü‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø
        NVIC_EnableIRQ(DMAC_1_IRQn);      // DMAC1 ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å Nested Vector Interrupt Controller (NVIC) ‡≤ó‡≥Ü ‡≤∏‡≤Ç‡≤™‡≤∞‡≥ç‡≤ï‡≤ø‡≤∏‡≤ø

        // DMAC ‡≤ö‡≤æ‡≤®‡≥Ü‡≤≤‡≥ç 1 ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤®‡≤ø‡≤Ç‡≤§‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≥Å‡≤µ (SUSP) ‡≤á‡≤Ç‡≤ü‡≤∞‡≥ç‡≤™‡≥ç‡≤ü‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤ø
        DMAC->Channel[1].CHINTENSET.reg = DMAC_CHINTENSET_SUSP;

        // ADC ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤Ç‡≤∞‡≤ö‡≤ø‡≤∏‡≤ø
        ADC1->INPUTCTRL.bit.MUXPOS = ADC_INPUTCTRL_MUXPOS_AIN12_Val; // ‡≤µ‡≤ø‡≤¶‡≥ç‡≤Ø‡≥Å‡≤®‡≥ç‡≤Æ‡≤æ‡≤® ‡≤á‡≤®‡≥ç‡≤™‡≥Å‡≤ü‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ADC0/AIN2 (PB08 - ‡≤Æ‡≥Ü‡≤ü‡≥ç‡≤∞‡≥ã M4 ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø A4) ‡≤Ü‡≤ó‡≤ø ‡≤∏‡≥Ü‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø
        while (ADC1->SYNCBUSY.bit.INPUTCTRL)
            ;                              // ‡≤∏‡≤Æ‡≤ï‡≤æ‡≤≤‡≥Ä‡≤ï‡≤∞‡≤£‡≤ï‡≥ç‡≤ï‡≤æ‡≤ó‡≤ø ‡≤ï‡≤æ‡≤Ø‡≤ø‡≤∞‡≤ø
        ADC1->SAMPCTRL.bit.SAMPLEN = 0x00; // ‡≤ó‡≤∞‡≤ø‡≤∑‡≥ç‡≤† ‡≤∏‡≥ç‡≤Ø‡≤æ‡≤Ç‡≤™‡≥ç‡≤≤‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤∏‡≤Æ‡≤Ø‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ö‡≤∞‡≥ç‡≤ß ‡≤µ‡≤ø‡≤≠‡≤æ‡≤ó‡≤ø‡≤§ ADC ‡≤ò‡≤°‡≤ø‡≤Ø ‡≤Ö‡≤≤‡≥ç‡≤™‡≤æ‡≤µ‡≤ß‡≤ø‡≤ó‡≥Ü (2.66us) ‡≤∏‡≥Ü‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø
        while (ADC1->SYNCBUSY.bit.SAMPCTRL)
            ;                                         // ‡≤∏‡≤Æ‡≤ï‡≤æ‡≤≤‡≥Ä‡≤ï‡≤∞‡≤£‡≤ï‡≥ç‡≤ï‡≤æ‡≤ó‡≤ø ‡≤ï‡≤æ‡≤Ø‡≤ø‡≤∞‡≤ø
        ADC1->CTRLA.reg = ADC_CTRLA_PRESCALER_DIV128; // ADC GTCLK ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å 128 ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤π‡≤Ç‡≤ö‡≤ø (48MHz/128 = 375kHz)
        ADC1->CTRLB.reg = ADC_CTRLB_RESSEL_12BIT |    // ADC ‡≤∞‡≥Ü‡≤∏‡≤≤‡≥ç‡≤Ø‡≥Ç‡≤∂‡≤®‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å 12 ‡≤¨‡≤ø‡≤ü‡≥ç ‡≤í‡≤≥‡≤ó‡≥ä‡≤Ç‡≤°‡≤Ç‡≤§‡≥Ü ‡≤∏‡≥Ü‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø
                            ADC_CTRLB_FREERUN;          // ADC ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤´‡≥ç‡≤∞‡≥Ä ‡≤∞‡≤®‡≥ç ‡≤Æ‡≥ã‡≤°‡≥ç ‡≤ó‡≥Ü ‡≤∏‡≥Ü‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø
        while (ADC1->SYNCBUSY.bit.CTRLB)
            ;                       // ‡≤∏‡≤Æ‡≤ï‡≤æ‡≤≤‡≥Ä‡≤ï‡≤∞‡≤£‡≤ï‡≥ç‡≤ï‡≤æ‡≤ó‡≤ø ‡≤ï‡≤æ‡≤Ø‡≤ø‡≤∞‡≤ø
        ADC1->CTRLA.bit.ENABLE = 1; // ADC ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤ø
        while (ADC1->SYNCBUSY.bit.ENABLE)
            ;                       // ‡≤∏‡≤Æ‡≤ï‡≤æ‡≤≤‡≥Ä‡≤ï‡≤∞‡≤£‡≤ï‡≥ç‡≤ï‡≤æ‡≤ó‡≤ø ‡≤ï‡≤æ‡≤Ø‡≤ø‡≤∞‡≤ø
        ADC1->SWTRIG.bit.START = 1; // ADC ‡≤™‡≤∞‡≤ø‡≤µ‡≤∞‡≥ç‡≤§‡≤®‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤≤‡≥Å ‡≤∏‡≤æ‡≤´‡≥ç‡≤ü‡≥ç‚Äå‡≤µ‡≥á‡≤∞‡≥ç ‡≤ü‡≥ç‡≤∞‡≤ø‡≤ó‡≤∞‡≥ç‚Äå‡≤® ‡≤Ü‡≤∞‡≤Ç‡≤≠ ‡≤Æ‡≤æ‡≤°‡≤ø
        while (ADC1->SYNCBUSY.bit.SWTRIG)
            ; // ‡≤∏‡≤Æ‡≤ï‡≤æ‡≤≤‡≥Ä‡≤ï‡≤∞‡≤£‡≤ï‡≥ç‡≤ï‡≤æ‡≤ó‡≤ø ‡≤ï‡≤æ‡≤Ø‡≤ø‡≤∞‡≤ø

        // DMA ‡≤ö‡≤æ‡≤®‡≥Ü‡≤≤‡≥ç 1 ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤ø
        DMAC->Channel[1].CHCTRLA.bit.ENABLE = 1;

        // ‡≤ü‡≥à‡≤Æ‡≤∞‡≥ç/‡≤ï‡≥å‡≤Ç‡≤ü‡≤∞‡≥ç 5 ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤Ç‡≤∞‡≤ö‡≤ø‡≤∏‡≤ø
        GCLK->PCHCTRL[TC5_GCLK_ID].reg = GCLK_PCHCTRL_CHEN |     // TC5 ‡≤ó‡≥Ü ‡≤™‡≥Ü‡≤∞‡≤ø‡≤´‡≥Ü‡≤∞‡≤≤‡≥ç ‡≤ö‡≤æ‡≤®‡≥Ü‡≤≤‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤ø
                                            GCLK_PCHCTRL_GEN_GCLK1; // 48MHz ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ú‡≤®‡≤∞‡≤ø‡≤ï‡≥ç ‡≤ï‡≥ç‡≤≤‡≤æ‡≤ï‡≥ç 0 ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤Ç‡≤™‡≤∞‡≥ç‡≤ï‡≤ø‡≤∏‡≤ø

        TC5->COUNT16.WAVE.reg = TC_WAVE_WAVEGEN_MFRQ; // TC5 ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞ö‡±ç ‡≤´‡≥ç‡≤∞‡≥Ü‡≤ï‡≥ç‡≤µ‡≥Ü‡≤®‡≥ç‡≤∏‡≤ø (MFRQ) ‡≤Æ‡≥ã‡≤°‡≥ç ‡≤ó‡≥Ü ‡≤∏‡≥Ü‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø
        TC5->COUNT16.CC[0].reg = 3000 - 1;            // ‡≤ü‡≥ç‡≤∞‡≤ø‡≤ó‡≤∞‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å 16 kHz ‡≤ó‡≥Ü ‡≤∏‡≥Ü‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø: (4MHz / 16000) - 1
        while (TC5->COUNT16.SYNCBUSY.bit.CC0)
            ; // ‡≤∏‡≤Æ‡≤ï‡≤æ‡≤≤‡≥Ä‡≤ï‡≤∞‡≤£‡≤ï‡≥ç‡≤ï‡≤æ‡≤ó‡≤ø ‡≤ï‡≤æ‡≤Ø‡≤ø‡≤∞‡≤ø

        // ‡≤ü‡≥à‡≤Æ‡≤∞‡≥ç/‡≤ï‡≥å‡≤Ç‡≤ü‡≤∞‡≥ç 5 ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤ø
        TC5->COUNT16.CTRLA.bit.ENABLE = 1; // TC5 ‡≤ü‡≥à‡≤Æ‡≤∞‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤ø
        while (TC5->COUNT16.SYNCBUSY.bit.ENABLE)
            ; // ‡≤∏‡≤Æ‡≤ï‡≤æ‡≤≤‡≥Ä‡≤ï‡≤∞‡≤£‡≤ï‡≥ç‡≤ï‡≤æ‡≤ó‡≤ø ‡≤ï‡≤æ‡≤Ø‡≤ø‡≤∞‡≤ø
    }

    uint16_t _adc_buf_0[ADC_BUF_LEN];
    uint16_t _adc_buf_1[ADC_BUF_LEN];
    ```

    ‡≤à ‡≤ï‡≥ã‡≤°‡≥ç `configureDmaAdc` ‡≤µ‡≤ø‡≤ß‡≤æ‡≤®‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≥ç‡≤Ø‡≤æ‡≤ñ‡≥ç‡≤Ø‡≤æ‡≤®‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤á‡≤¶‡≥Å DMAC ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤Ç‡≤∞‡≤ö‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ADC ‡≤ó‡≥Ü ‡≤∏‡≤Ç‡≤™‡≤∞‡≥ç‡≤ï‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤é‡≤∞‡≤°‡≥Å ‡≤¨‡≤¶‡≤≤‡≤æ‡≤ó‡≥Å‡≤µ ‡≤¨‡≤´‡≤∞‡≥ç‡≤ó‡≤≥‡≤æ‡≤¶ `_adc_buf_0` ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å `_adc_buf_1` ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤§‡≥Å‡≤Ç‡≤¨‡≥Å‡≤µ‡≤Ç‡≤§‡≥Ü ‡≤∏‡≥ç‡≤•‡≤æ‡≤™‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

    > üíÅ ‡≤Æ‡≥à‡≤ï‡≥ç‡≤∞‡≥ã‡≤ï‡≥ç‡≤µ‡≤Ç‡≤ü‡≥ç‡≤∞‡≥ã‡≤≤‡≤∞‡≥ç ‡≤Ö‡≤≠‡≤ø‡≤µ‡≥É‡≤¶‡≥ç‡≤ß‡≤ø‡≤Ø ‡≤¶‡≥Å‡≤∞‡≥ç‡≤¨‡≤≤‡≤§‡≥Ü‡≤ó‡≤≥‡≤≤‡≥ç‡≤≤‡≤ø ‡≤í‡≤Ç‡≤¶‡≥Å, ‡≤Ö‡≤§‡≤ø ‡≤ï‡≤°‡≤ø‡≤Æ‡≥Ü ‡≤Æ‡≤ü‡≥ç‡≤ü‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤π‡≤æ‡≤∞‡≥ç‡≤°‡≥ç‚Äå‡≤µ‡≥á‡≤∞‡≥ç ‡≤®‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü ‡≤∏‡≤Ç‡≤µ‡≤π‡≤® ‡≤Æ‡≤æ‡≤°‡≥Å‡≤µ‡≤∑‡≥ç‡≤ü‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø‡≤µ‡≤ø‡≤∞‡≥Å‡≤µ ‡≤∏‡≤Ç‡≤ï‡≥Ä‡≤∞‡≥ç‡≤£‡≤§‡≥Ü. ‡≤à ‡≤ï‡≥ã‡≤°‡≥ç ‡≤í‡≤Ç‡≤¶‡≥Å ‡≤∏‡≥Üingle-‡≤¨‡≥ã‡≤∞‡≥ç‡≤°‡≥ç ‡≤ï‡≤Ç‡≤™‡≥ç‡≤Ø‡≥Ç‡≤ü‡≤∞‡≥ç ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤°‡≥Ü‡≤∏‡≥ç‡≤ï‡≥ç‚Äå‡≤ü‡≤æ‡≤™‡≥ç ‡≤ï‡≤Ç‡≤™‡≥ç‡≤Ø‡≥Ç‡≤ü‡≤∞‡≤ø ‡≤é‡≤¶‡≥Å‡≤∞‡≤ø‡≤∏‡≥Å‡≤µ√≠odh ‡≤ä‡≤¶‡≥Å, ‡≤è‡≤ï‡≥Ü‡≤Ç‡≤¶‡≥ç‡≤∞‡≥Ü ‡≤Ü‡≤™‡≤∞‡≥á‡≤ü‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤∏‡≤ø‡≤∏‡≥ç‡≤ü‡≤Ç ‡≤á‡≤≤‡≥ç‡≤≤, ‡≤∏‡≤π‡≤æ‡≤Ø‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤á‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤ï‡≥Ü‡≤≤‡≤µ‡≥Å ‡≤≤‡≥à‡≤¨‡≥ç‡≤∞‡≤∞‡≤ø‡≤ó‡≤≥‡≥Å ‡≤á‡≤¶‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤∞‡≤≥‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤≤‡≥Å ‡≤≤‡≤≠‡≥ç‡≤Ø‡≤µ‡≤ø‡≤µ‡≥Ü, ‡≤Ü‡≤¶‡≤∞‡≥Ü ‡≤á‡≤®‡≥ç‡≤®‡≥Ç ‡≤∏‡≤æ‡≤ï‡≤∑‡≥ç‡≤ü‡≥Å ‡≤∏‡≤Ç‡≤ï‡≥Ä‡≤∞‡≥ç‡≤£‡≤§‡≥Ü ‡≤á‡≤¶‡≥Ü.

1. ‡≤á‡≤¶‡≤∞ ‡≤ï‡≥Ü‡≤≥‡≤ó‡≥Ü ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    // WAV ‡≤´‡≥à‡≤≤‡≥ç‚Äå‡≤ó‡≤≥‡≤≤‡≥ç‡≤≤‡≤ø ‡≤í‡≤Ç‡≤¶‡≥Å ‡≤π‡≥Ü‡≤°‡≤∞‡≥ç ‡≤á‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤à ‡≤∏‡≥ç‡≤ü‡≥ç‡≤∞‡≤ï‡≥ç‡≤ü‡≥ç ‡≤Ü ‡≤π‡≥Ü‡≤°‡≤∞‡≥ç‚Äå‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≥ç‡≤Ø‡≤æ‡≤ñ‡≥ç‡≤Ø‡≤æ‡≤®‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü
    struct wavFileHeader
    {
        char riff[4];         /* "RIFF"                                  */
        long flength;         /* file length in bytes                    */
        char wave[4];         /* "WAVE"                                  */
        char fmt[4];          /* "fmt "                                  */
        long chunk_size;      /* size of FMT chunk in bytes (usually 16) */
        short format_tag;     /* 1=PCM, 257=Mu-Law, 258=A-Law, 259=ADPCM */
        short num_chans;      /* 1=mono, 2=stereo                        */
        long srate;           /* Sampling rate in samples per second     */
        long bytes_per_sec;   /* bytes per second = srate*bytes_per_samp */
        short bytes_per_samp; /* 2=16-bit mono, 4=16-bit stereo          */
        short bits_per_samp;  /* Number of bits per sample               */
        char data[4];         /* "data"                                  */
        long dlength;         /* data length in bytes (filelength - 44)  */
    };

    void initBufferHeader()
    {
        wavFileHeader wavh;

        strncpy(wavh.riff, "RIFF", 4);
        strncpy(wavh.wave, "WAVE", 4);
        strncpy(wavh.fmt, "fmt ", 4);
        strncpy(wavh.data, "data", 4);

        wavh.chunk_size = 16;
        wavh.format_tag = 1; // PCM
        wavh.num_chans = 1;  // ‡≤Æ‡≥ä‡≤®‡≥ã
        wavh.srate = RATE;
        wavh.bytes_per_sec = (RATE * 1 * 16 * 1) / 8;
        wavh.bytes_per_samp = 2;
        wavh.bits_per_samp = 16;
        wavh.dlength = RATE * 2 * 1 * 16 / 2;
        wavh.flength = wavh.dlength + 44;

        _writer.writeSfudBuffer((byte *)&wavh, 44);
    }
    ```

    ‡≤à ‡≤ï‡≥ã‡≤°‡≥ç 44 ‡≤¨‡≥à‡≤ü‡≥ç ‡≤ó‡≤≥‡≤ø‡≤® ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤´‡≥à‡≤≤‡≥ç ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ó‡≤≥‡≤æ‡≤¶ ‡≤π‡≥Ä‡≤°‡≤∞‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≥Ü‡≤µ‡≥ç ‡≤é‡≤®‡≥ç‡≤®‡≥Å‡≤µ ‡≤∏‡≤æ‡≤∞‡≤æ‡≤Ç‡≤∂ ‡≤∞‡≥Ç‡≤™‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤∞‡≤ö‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤á‡≤¶‡≥Å ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤´‡≥à‡≤≤‡≥ç ‡≤¶‡≤∞, ‡≤ó‡≤æ‡≤§‡≥ç‡≤∞ ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤ö‡≤æ‡≤®‡≥Ü‡≤≤‡≥ç‚Äå‡≤ó‡≤≥ ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤à ‡≤π‡≥Ä‡≤°‡≤∞‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤ó‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

1. ‡≤à ‡≤ï‡≥ã‡≤°‡≥ç ‡≤ï‡≥Ü‡≤≥‡≤ó‡≥Ü, ‡≤Ü‡≤°‡≤ø‡≤Ø‡≥ã ‡≤¨‡≤´‡≤∞‡≥ç‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≥ç‡≤∞‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤ï‡≤∞‡≥Ü‡≤Æ‡≤æ‡≤°‡≥Å‡≤µ ‡≤µ‡≤ø‡≤ß‡≤æ‡≤®‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤ò‡≥ã‡≤∑‡≤ø‡≤∏‡≤≤‡≥Å ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    void audioCallback(uint16_t *buf, uint32_t buf_len)
    {
        static uint32_t idx = 44;

        if (_isRecording)
        {
            for (uint32_t i = 0; i < buf_len; i++)
            {
                int16_t audio_value = ((int16_t)buf[i] - 2048) * 16;

                _writer.writeSfudBuffer(audio_value & 0xFF);
                _writer.writeSfudBuffer((audio_value >> 8) & 0xFF);
            }

            idx += buf_len;
                
            if (idx >= BUFFER_SIZE)
            {
                _writer.flushSfudBuffer();
                idx = 44;
                _isRecording = false;
                _isRecordingReady = true;
            }
        }
    }
    ```

    ‡≤Ü‡≤°‡≤ø‡≤Ø‡≥ã ‡≤¨‡≤´‡≤∞‡≥ç‡≤ó‡≤≥‡≥Å 16-‡≤¨‡≤ø‡≤ü‡≥ç ‡≤™‡≥Ç‡≤∞‡≥ç‡≤£‡≤æ‡≤Ç‡≤ï‡≤ó‡≤≥ ‡≤∏‡≥Ü‡≤∞‡≤≥‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü, ‡≤á‡≤¶‡≥Å ADC ‡≤≤‡≤ø‡≤Ç‡≤¶‡≤ø‡≤≤‡≤æ‡≤¶ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø. ADC 12-‡≤¨‡≤ø‡≤ü‡≥ç ‡≤Ö‡≤®‡≥ç‚Äå‡≤∏‡≥à‡≤®‡≥ç‚Äå‡≤°‡≥ç ‡≤Æ‡≥å‡≤≤‡≥ç‡≤Ø‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å (0-1023) ‡≤®‡≥Ä‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤Ü‡≤¶‡≥ç‡≤¶‡≤∞‡≤ø‡≤Ç‡≤¶ ‡≤Ö‡≤µ‡≥Å 16-‡≤¨‡≤ø‡≤ü‡≥ç ‡≤∏‡≥à‡≤®‡≥ç‚Äå‡≤°‡≥ç ‡≤Æ‡≥å‡≤≤‡≥ç‡≤Ø‡≤ó‡≤≥‡≤ø‡≤ó‡≥Ü ‡≤™‡≤∞‡≤ø‡≤µ‡≤∞‡≥ç‡≤§‡≤®‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤¨‡≥á‡≤ï‡≥Å, ‡≤®‡≤Ç‡≤§‡≤∞ 2 ‡≤¨‡≥à‡≤ü‡≥ç ‡≤ó‡≤≥‡≤æ‡≤ó‡≤ø ‡≤™‡≤∞‡≤ø‡≤µ‡≤∞‡≥ç‡≤§‡≤ø‡≤∏‡≤ø ‡≤ï‡≤ö‡≥ç‡≤ö‡≤æ ‡≤¨‡≥à‡≤®‡≤∞‡≤ø ‡≤°‡≥á‡≤ü‡≤æ ‡≤Ü‡≤ó‡≤ø ‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤ø‡≤∏‡≤¨‡≥á‡≤ï‡≥Å.

    ‡≤à ‡≤¨‡≥à‡≤ü‡≥ç‡≤∏‡≥ç ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤¨‡≤´‡≤∞‡≥ç‡≤ó‡≤≥‡≤ø‡≤ó‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤µ‡≥Ü. ‡≤¨‡≤∞‡≤µ‡≤£‡≤ø‡≤ó‡≥Ü ‡≤á‡≤Ç‡≤¶‡≥Ü‡≤ï‡≥ç‡≤∏‡≥ç 44 ‡≤∞‡≤ø‡≤Ç‡≤¶ ‡≤Ü‡≤∞‡≤Ç‡≤≠‡≤µ‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü ‚Äì ‡≤á‡≤¶‡≥Å 44 ‡≤¨‡≥à‡≤ü‡≥ç ‡≤µ‡≥Ü‡≤µ‡≥ç ‡≤´‡≥à‡≤≤‡≥ç ‡≤π‡≥Ä‡≤°‡≤∞‡≥ç‚Äå‡≤® ‡≤î‡≤ü‡≥ç‚Äå‡≤∏‡≥Ü‡≤ü‡≥ç. ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤Ö‡≤µ‡≤ß‡≤ø‡≤ó‡≥Ü ‡≤¨‡≥á‡≤ï‡≤æ‡≤¶ ‡≤é‡≤≤‡≥ç‡≤≤‡≤æ ‡≤¨‡≥à‡≤ü‡≥ç‡≤∏‡≥ç ‡≤π‡≤ø‡≤°‡≤ø‡≤¶ ‡≤®‡≤Ç‡≤§‡≤∞, ‡≤â‡≤≥‡≤ø‡≤¶ ‡≤°‡≥á‡≤ü‡≤æ‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤ó‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

1. `Mic` ‡≤ï‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç‚Äå‡≤® `public` ‡≤µ‡≤ø‡≤≠‡≤æ‡≤ó‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    void dmaHandler()
    {
        static uint8_t count = 0;

        if (DMAC->Channel[1].CHINTFLAG.bit.SUSP)
        {
            DMAC->Channel[1].CHCTRLB.reg = DMAC_CHCTRLB_CMD_RESUME;
            DMAC->Channel[1].CHINTFLAG.bit.SUSP = 1;

            if (count)
            {
                audioCallback(_adc_buf_0, ADC_BUF_LEN);
            }
            else
            {
                audioCallback(_adc_buf_1, ADC_BUF_LEN);
            }

            count = (count + 1) % 2;
        }
    }
    ```

    ‡≤à ‡≤ï‡≥ã‡≤°‡≥ç ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ï‡≥ã‡≤°‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≥ç‡≤∞‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å DMAC ‡≤ï‡≤∞‡≥Ü‡≤¶‡≤æ‡≤ó ‡≤ï‡≤∞‡≥Ü‡≤Ø‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤á‡≤¶‡≥Å ‡≤™‡≥ç‡≤∞‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü‡≤ó‡≥Ü ‡≤°‡≥á‡≤ü‡≤æ ‡≤á‡≤¶‡≥Ü ‡≤é‡≤Ç‡≤¶‡≥Å ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤ø, ‡≤∏‡≤Ç‡≤¨‡≤Ç‡≤ß‡≤ø‡≤§ ‡≤¨‡≤´‡≤∞‡≥ç‡≤®‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü `audioCallback` ‡≤µ‡≤ø‡≤ß‡≤æ‡≤®‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤∞‡≥Ü‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

1. ‡≤ï‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç ‡≤π‡≥ä‡≤∞‡≤ó‡≥Ü, `Mic mic;` ‡≤ò‡≥ã‡≤∑‡≤£‡≥Ü‡≤Ø ‡≤®‡≤Ç‡≤§‡≤∞ ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    void DMAC_1_Handler()
    {
        mic.dmaHandler();
    }
    ```

    `DMAC_1_Handler` DMAC ‡≤¨‡≤´‡≤∞‡≥ç‡≤ó‡≤≥‡≥Å ‡≤™‡≥ç‡≤∞‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü‡≤ó‡≥Ü ‡≤∏‡≤ø‡≤¶‡≥ç‡≤ß‡≤µ‡≤æ‡≤ó‡≤ø‡≤¶‡≥ç‡≤¶‡≤æ‡≤ó DMAC ‡≤ï‡≤∞‡≥Ü‡≤¶‡≤ø‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤à ‡≤´‡≤Ç‡≤ï‡≥ç‡≤∑‡≤®‡≥ç ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å ‡≤Æ‡≥Ç‡≤≤‡≤ï ‡≤ï‡≤Ç‡≤°‡≥Å‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤á‡≤¶‡≥ç‡≤¶‡≤∞‡≥Ü ‡≤ï‡≤∞‡≥Ü‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

1. `Mic` ‡≤ï‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç‚Äå‡≤® `public` ‡≤µ‡≤ø‡≤≠‡≤æ‡≤ó‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤à ‡≤é‡≤∞‡≤°‡≥Å ‡≤µ‡≤ø‡≤ß‡≤æ‡≤®‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    void init()
    {
        analogReference(AR_INTERNAL2V23);

        _writer.init();

        initBufferHeader();
        configureDmaAdc();
    }

    void reset()
    {
        _isRecordingReady = false;
        _isRecording = false;

        _writer.reset();

        initBufferHeader();
    }
    ```

    `init` ‡≤µ‡≤ø‡≤ß‡≤æ‡≤®‡≤µ‡≥Å `Mic` ‡≤ï‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≥Å‡≤µ ‡≤ï‡≥ã‡≤°‡≥ç ‡≤í‡≤≥‡≤ó‡≥ä‡≤Ç‡≤°‡≤ø‡≤¶‡≥Ü. ‡≤à ‡≤µ‡≤ø‡≤ß‡≤æ‡≤® Mic ‡≤™‡≤ø‡≤®‡≥ç‚Äå‡≤ó‡≤æ‡≤ó‡≤ø ‡≤∏‡≤∞‡≤ø‡≤Ø‡≤æ‡≤¶ ‡≤µ‡≥ã‡≤≤‡≥ç‡≤ü‡≥á‡≤ú‡≥ç ‡≤∏‡≥Ü‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤µ‡≤æ‡≤®‡≥Ü‡≥ï ‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤ø‡≤¶‡≥ç‡≤ß‡≤™‡≤°‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, WAV ‡≤´‡≥à‡≤≤‡≥ç ‡≤π‡≥Ä‡≤°‡≤∞‡≥ç ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å DMAC ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤Ç‡≤∞‡≤ö‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. `reset` ‡≤µ‡≤ø‡≤ß‡≤æ‡≤®‡≤µ‡≥Å ‡≤´‡≥ç‡≤≤‡≤æ‡≤∑‡≥ç ‡≤Æ‡≥Ü‡≤Æ‡≥ä‡≤∞‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≥ã‡≤°‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü ‡≤π‡≤æ‡≤ó‡≥Ç ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤¶ ‡≤¨‡≤≥‡≤ø‡≤ï ‡≤π‡≥Ä‡≤°‡≤∞‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Ü ‡≤¨‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

### ‡≤ï‡≤æ‡≤∞‡≥ç‡≤Ø - ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤ø‡≤∞‡≤ø

1. `main.cpp` ‡≤´‡≥à‡≤≤‡≥ç‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø `mic.h` ‡≤π‡≥Ü‡≤°‡≤∞‡≥ç ‡≤´‡≥à‡≤≤‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤≤‡≥Å ‡≤∏‡≥Ç‡≤ö‡≤®‡≥Ü ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    #include "mic.h"
    ```

1. `setup` ‡≤´‡≤Ç‡≤ï‡≥ç‡≤∑‡≤®‡≥ç‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø C ‡≤¨‡≤ü‡≤®‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤ø. C ‡≤¨‡≤ü‡≤®‡≥ç ‡≤í‡≤§‡≥ç‡≤§‡≤ø‡≤¶‡≤æ‡≤ó ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≥Å‡≤µ‡≤ø‡≤ï‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤ø, 4 ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≥Å‡≤ó‡≤≥ ‡≤ï‡≤æ‡≤≤ ‡≤Æ‡≥Å‡≤Ç‡≤¶‡≥Å‡≤µ‡≤∞‡≤ø‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü:

    ```cpp
    pinMode(WIO_KEY_C, INPUT_PULLUP);
    ```

1. ‡≤á‡≤¶‡≤ï‡≥ç‡≤ï‡≤ø‡≤Ç‡≤§ ‡≤ï‡≥Ü‡≤≥‡≤ó‡≥Ü ‡≤Æ‡≥à‡≤ï‡≥ç‡≤∞‡≥ã‡≤´‡≥ã‡≤®‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤ï‡≤æ‡≤®‡≥ç‡≤∏‡≥ã‡≤≤‡≥ç‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≥Å ‡≤∏‡≤ø‡≤¶‡≥ç‡≤ß‡≤µ‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü ‡≤é‡≤Ç‡≤¶‡≥Å ‡≤Æ‡≥Å‡≤¶‡≥ç‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    mic.init();

    Serial.println("Ready.");
    ```

1. `loop` ‡≤´‡≤Ç‡≤ï‡≥ç‡≤∑‡≤®‡≥ç ‡≤Æ‡≥á‡≤≤‡≥ç‡≤≠‡≤æ‡≤ó‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤¶ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≥ç‡≤∞‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≥Å‡≤µ ‡≤´‡≤Ç‡≤ï‡≥ç‡≤∑‡≤®‡≥ç ‡≤µ‡≥ç‡≤Ø‡≤æ‡≤ñ‡≥ç‡≤Ø‡≤æ‡≤®‡≤ø‡≤∏‡≤ø. ‡≤à‡≤ó‡≤ø‡≤ó‡≥Ü ‡≤á‡≤¶‡≥Å ‡≤è‡≤®‡≥Ç ’°’∂’∏÷Ç’¥‡≤¶‡≥Å, ‡≤Ü‡≤¶‡≤∞‡≥Ü ‡≤®‡≤Ç‡≤§‡≤∞ ‡≤à ‡≤™‡≤æ‡≤†‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤Æ‡≤æ‡≤§‡≤ø‡≤® ‡≤∏‡≤Ç‡≤≠‡≤æ‡≤∑‡≤£‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≤†‡≥ç‡≤Ø‡≤µ‡≤æ‡≤ó‡≤ø ‡≤™‡≤∞‡≤ø‡≤µ‡≤∞‡≥ç‡≤§‡≤ø‡≤∏‡≤≤‡≥Å ‡≤¨‡≤≥‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü:

    ```cpp
    void processAudio()
    {
    
    }
    ```

1. `loop` ‡≤´‡≤Ç‡≤ï‡≥ç‡≤∑‡≤®‡≥ç‚Äå‡≤ó‡≥Ü ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø:

    ```cpp
    void loop()
    {
        if (digitalRead(WIO_KEY_C) == LOW && !mic.isRecording())
        {
            Serial.println("Starting recording...");
            mic.startRecording();
        }
    
        if (!mic.isRecording() && mic.isRecordingReady())
        {
            Serial.println("Finished recording");
    
            processAudio();
    
            mic.reset();
        }
    }
    ```

    ‡≤à ‡≤ï‡≥ã‡≤°‡≥ç C ‡≤¨‡≤ü‡≤®‡≥ç‚Äå‡≤® ‡≤∏‡≥ç‡≤•‡≤ø‡≤§‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤í‡≤§‡≥ç‡≤§‡≤ø‡≤¶‡≤æ‡≤ó ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∞‡≥Ü‡≤ï‡≤æ‡≤∞‡≥ç‡≤°‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤Ü‡≤∞‡≤Ç‡≤≠‡≤µ‡≤æ‡≤ó‡≤¶‡≤ø‡≤¶‡≥ç‡≤¶‡≤∞‡≥Ü, `Mic` ‡≤ï‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç‚Äå‡≤® `_isRecording` ‡≤ï‡≥ç‡≤∑‡≥á‡≤§‡≥ç‡≤∞‡≤µ‡≤®‡≥ç‡≤®‡≥Å true ‡≤ó‡≥Ü ‡≤∏‡≥Ü‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤á‡≤¶‡≤∞‡≤ø‡≤Ç‡≤¶ `audioCallback` ‡≤µ‡≤ø‡≤ß‡≤æ‡≤®‡≤µ‡≥Å 4 ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≥Å‡≤ó‡≤≥ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. 4 ‡≤∏‡≥Ü‡≤ï‡≥Ü‡≤Ç‡≤°‡≥Å‡≤ó‡≤≥ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≤ø‡≤°‡≤ø‡≤¶ ‡≤®‡≤Ç‡≤§‡≤∞, `_isRecording` false ‡≤Ü‡≤ó‡≤ø ‡≤∏‡≥Ü‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å `_isRecordingReady` true ‡≤Ü‡≤ó‡≤ø ‡≤π‡≥ä‡≤Ç‡≤¶‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤á‡≤¶‡≤®‡≥ç‡≤®‡≥Å `loop` ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤ø, ‡≤∏‡≤§‡≥ç‡≤Ø‡≤µ‡≤æ‡≤¶‡≤æ‡≤ó `processAudio` ‡≤´‡≤Ç‡≤ï‡≥ç‡≤∑‡≤®‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤∞‡≥Ü‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤®‡≤Ç‡≤§‡≤∞ ‡≤Æ‡≥à‡≤ï‡≥ç ‡≤ï‡≥ç‡≤≤‡≤æ‡≤∏‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤∞‡≥Ä‡≤∏‡≥Ü‡≤ü‡≥ç ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

1. ‡≤à ‡≤ï‡≥ã‡≤°‡≥ç ‡≤®‡≤ø‡≤∞‡≥ç‡≤Æ‡≤ø‡≤∏‡≤ø, ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ Wio Terminal ‡≤ó‡≥Ü ‡≤Ö‡≤™‡≥ç‡≤≤‡≥ã‡≤°‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∏‡≥Ä‡≤∞‡≤ø‡≤Ø‡≤≤‡≥ç ‡≤Æ‡≤æ‡≤®‡≤ø‡≤ü‡≤∞‡≥ç ‡≤Æ‡≥Ç‡≤≤‡≤ï ‡≤™‡≤∞‡≥Ä‡≤ï‡≥ç‡≤∑‡≤ø‡≤∏‡≤ø. C ‡≤¨‡≤ü‡≤®‡≥ç (‡≤é‡≤° ‡≤¨‡≤¶‡≤ø ‡≤¨‡≤ü‡≤®‡≥ç, ‡≤™‡≤µ‡≤∞‡≥ç ‡≤∏‡≥ç‡≤µ‡≤ø‡≤ö‡≥ç ‡≤ó‡≥Ü ‡≤Ö‡≤§‡≥ç‡≤Ø‡≤Ç‡≤§ ‡≤π‡≤§‡≥ç‡≤§‡≤ø‡≤∞‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø‡≤∞‡≥Å‡≤µ‡≥Å‡≤¶‡≥Å) ‡≤í‡≤§‡≥ç‡≤§‡≤ø, ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤Æ‡≤æ‡≤§‡≤æ‡≤°‡≤ø. 4 ‡≤∏‡≥Ü‡≤ï‡≤ø‡≤Ç‡≤°‡≥Å‡≤ó‡≤≥ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤π‡≤ø‡≤°‡≤ø‡≤Ø‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.

    ```output
    --- Available filters and text transformations: colorize, debug, default, direct, hexlify, log2file, nocontrol, printable, send_on_enter, time
    --- More details at http://bit.ly/pio-monitor-filters
    --- Miniterm on /dev/cu.usbmodem1101  9600,8,N,1 ---
    --- Quit: Ctrl+C | Menu: Ctrl+T | Help: Ctrl+T followed by Ctrl+H ---
    Ready.
    Starting recording...
    Finished recording
    ```

> üíÅ ‡≤®‡≥Ä‡≤µ‡≥Å ‡≤à ‡≤ï‡≥ã‡≤°‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å [code-record/wio-terminal](../../../../../6-consumer/lessons/1-speech-recognition/code-record/wio-terminal) ‡≤´‡≥ã‡≤≤‡≥ç‡≤°‡≤∞‡≥ç‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤π‡≥Å‡≤°‡≥Å‡≤ï‡≤¨‡≤π‡≥Å‡≤¶‡≥Å.

üòÄ ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü ‡≤ï‡≤æ‡≤∞‡≥ç‡≤Ø‡≤ï‡≥ç‡≤∞‡≤Æ ‡≤Ø‡≤∂‡≤∏‡≥ç‡≤µ‡≤ø‡≤Ø‡≤æ‡≤¶‡≤¶‡≥ç‡≤¶‡≥Å!

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**‡≤ê‡≤ö‡≥ç‡≤õ‡≤ø‡≤ï ‡≤Æ‡≥á‡≤≤‡≥ç‡≤Ænosis**:  
‡≤à ‡≤°‡≤æ‡≤ï‡≥ç‡≤Ø‡≥Å‡≤Æ‡≥Ü‡≤Ç‡≤ü‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å AI ‡≤Ö‡≤®‡≥Å‡≤µ‡≤æ‡≤¶ ‡≤∏‡≥á‡≤µ‡≥Ü [Co-op Translator](https://github.com/Azure/co-op-translator) ‡≤¨‡≤≥‡≤∏‡≤ø ‡≤Ö‡≤®‡≥Å‡≤µ‡≤æ‡≤¶‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤®‡≤æ‡≤µ‡≥Å ‡≤∂‡≥Å‡≤¶‡≥ç‡≤ß‡≤§‡≥Ü‡≤Ø ‡≤®‡≤ø‡≤ü‡≥ç‡≤ü‡≤ø‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤™‡≥ç‡≤∞‡≤Ø‡≤§‡≥ç‡≤®‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤ø‡≤¶‡≥ç‡≤¶‡≤∞‡≥Ç, ‡≤∏‡≥ç‡≤µ‡≤Ø‡≤Ç‡≤ö‡≤æ‡≤≤‡≤ø‡≤§ ‡≤Ö‡≤®‡≥Å‡≤µ‡≤æ‡≤¶‡≤ó‡≤≥‡≤≤‡≥ç‡≤≤‡≤ø ‡≤¶‡≥ã‡≤∑‡≤ó‡≤≥‡≥Å ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤§‡≤™‡≥ç‡≤™‡≥Å‡≤ø‡≤ó‡≤≥‡≥Å ‡≤á‡≤∞‡≤¨‡≤π‡≥Å‡≤¶‡≥Å ‡≤é‡≤Ç‡≤¶‡≥Å ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤ó‡≤Æ‡≤®‡≤ø‡≤∏‡≤ø. ‡≤Æ‡≥Ç‡≤≤ ‡≤°‡≤æ‡≤ï‡≥ç‡≤Ø‡≥Å‡≤Æ‡≥Ü‡≤Ç‡≤ü‡≥ç ‡≤Ö‡≤¶‡≤∞ ‡≤Ö‡≤∏‡≥ç‡≤•‡≤æ‡≤®‡≤ø‡≤ï ‡≤≠‡≤æ‡≤∑‡≥Ü‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤Ö‡≤ß‡≤ø‡≤ï‡≥É‡≤§ ‡≤Æ‡≥Ç‡≤≤‡≤µ‡≥Ü‡≤Ç‡≤¶‡≥Å ‡≤™‡≤∞‡≤ø‡≤ó‡≤£‡≤ø‡≤∏‡≤¨‡≥á‡≤ï‡≥Å. ‡≤Æ‡≤π‡≤§‡≥ç‡≤µ‡≤™‡≥Ç‡≤∞‡≥ç‡≤£ ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø‡≤ó‡≤æ‡≤ó‡≤ø ‡≤µ‡≥É‡≤§‡≥ç‡≤§‡≤ø‡≤™‡≤∞ ‡≤Æ‡≤æ‡≤®‡≤µ ‡≤Ö‡≤®‡≥Å‡≤µ‡≤æ‡≤¶‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤∂‡≤ø‡≤´‡≤æ‡≤∞‡≤∏‡≥Å ‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤à ‡≤Ö‡≤®‡≥Å‡≤µ‡≤æ‡≤¶‡≤¶ ‡≤¨‡≤≥‡≤ï‡≥Ü‡≤Ø‡≤ø‡≤Ç‡≤¶ ‡≤â‡≤Ç‡≤ü‡≤æ‡≤ó‡≥Å‡≤µ ‡≤Ø‡≤æ‡≤µ‡≥Å‡≤¶‡≥á ‡≤§‡≤∞‡≥ç‡≤ï‡≤§‡≤≤‡≥ç‡≤≤‡≤§‡≥Ü‡≤ó‡≤≥‡≥Å ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤§‡≤™‡≥ç‡≤™‡≥Å‡≤ó‡≥ç‡≤∞‡≤π‡≤£‡≤ï‡≥ç‡≤ï‡≤æ‡≤ó‡≤ø ‡≤®‡≤æ‡≤µ‡≥Å ‡≤π‡≥ä‡≤£‡≥Ü‡≤ó‡≤æ‡≤∞‡≤∞‡≤≤‡≥ç‡≤≤.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->