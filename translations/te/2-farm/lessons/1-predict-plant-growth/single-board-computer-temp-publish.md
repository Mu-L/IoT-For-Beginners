# р░Йр░╖р▒Нр░гр▒Лр░Чр▒Нр░░р░др░ир▒Б р░кр▒Нр░░р░Ър▒Бр░░р░┐р░Вр░Ър▒Б - р░╡р░░р▒Нр░Ър▒Бр░╡р░▓р▒Н IoT р░╣р░╛р░░р▒Нр░бр▒НтАМр░╡р▒Зр░░р▒Н р░ор░░р░┐р░пр▒Б р░░р░╛р░╕р▒Нр░кр▒Нр░мр▒Жр░░р▒Нр░░р▒А р░кр▒И

р░кр░╛р░ар░В р░пр▒Кр░Хр▒Нр░Х р░И р░нр░╛р░Чр░Вр░▓р▒Л, р░ор▒Ар░░р▒Б р░░р░╛р░╕р▒Нр░кр▒Нр░мр▒Жр░░р▒Нр░░р▒А р░кр▒И р░▓р▒Зр░жр░╛ р░╡р░░р▒Нр░Ър▒Бр░╡р░▓р▒Н IoT р░бр░┐р░╡р▒Ир░╕р▒Н р░Чр▒Бр░░р▒Нр░др░┐р░Вр░Ър░┐р░и р░Йр░╖р▒Нр░гр▒Лр░Чр▒Нр░░р░д р░╡р░┐р░▓р▒Бр░╡р░▓р░ир▒Б MQTT р░жр▒Нр░╡р░╛р░░р░╛ р░кр▒Нр░░р░Ър▒Бр░░р░┐р░Вр░Ър░мр░бр░др░╛р░░р▒Б, р░др░жр▒Нр░╡р░╛р░░р░╛ р░Ер░╡р░┐ р░др░░р▒Нр░╡р░╛р░д GDD р░▓р▒Жр░Хр▒Нр░Хр░┐р░Вр░кр▒Бр░Хр▒Б р░Йр░кр░пр▒Лр░Чр░┐р░Вр░Ър▒Бр░Хр▒Лр░╡р░Ър▒Нр░Ър▒Б.

## р░Йр░╖р▒Нр░гр▒Лр░Чр▒Нр░░р░др░ир▒Б р░кр▒Нр░░р░Ър▒Бр░░р░┐р░Вр░Ър░Вр░бр░┐

р░Йр░╖р▒Нр░гр▒Лр░Чр▒Нр░░р░др░ир▒Б р░Ър░жр░┐р░╡р░┐р░и р░др░░р▒Нр░╡р░╛р░д, р░Ер░жр░┐ MQTT р░жр▒Нр░╡р░╛р░░р░╛ р░Хр▒Кр░ир▒Нр░ир░┐ 'р░╕р░░р▒Нр░╡р░░р▒Н' р░Хр▒Лр░бр▒НтАМр░Хр▒Б р░кр▒Нр░░р░Ър▒Бр░░р░┐р░Вр░Ър░мр░бр▒Бр░др▒Бр░Вр░жр░┐, р░Зр░жр░┐ р░╡р░┐р░▓р▒Бр░╡р░▓р░ир▒Б р░Ър░жр░┐р░╡р░┐, GDD р░▓р▒Жр░Хр▒Нр░Хр░┐р░Вр░кр▒Бр░Хр▒Б р░Йр░кр░пр▒Лр░Чр░┐р░Вр░Ър░бр░╛р░ир░┐р░Хр░┐ р░╕р░┐р░жр▒Нр░зр░Вр░Чр░╛ р░ир░┐р░▓р▒Нр░╡ р░Ър▒Зр░╕р▒Нр░др▒Бр░Вр░жр░┐.

### р░Яр░╛р░╕р▒Нр░Хр▒Н - р░Йр░╖р▒Нр░гр▒Лр░Чр▒Нр░░р░др░ир▒Б р░кр▒Нр░░р░Ър▒Бр░░р░┐р░Вр░Ър░Вр░бр░┐

р░бр░┐р░╡р▒Ир░╕р▒НтАМр░ир▒Б р░Йр░╖р▒Нр░гр▒Лр░Чр▒Нр░░р░д р░бр▒Зр░Яр░╛р░ир▒Б р░кр▒Нр░░р░Ър▒Бр░░р░┐р░Вр░Ър░бр░╛р░ир░┐р░Хр░┐ р░кр▒Нр░░р▒Лр░Чр▒Нр░░р░╛р░ор▒Н р░Ър▒Зр░пр░Вр░бр░┐.

1. `temperature-sensor` р░пр░╛р░кр▒Н р░кр▒Нр░░р░╛р░Ьр▒Жр░Хр▒Нр░Яр▒Н р░Зр░кр▒Нр░кр░Яр░┐р░Хр▒З р░др▒Жр░░р░╡р░мр░бр░Хр░кр▒Лр░др▒З р░др▒Жр░░р░╡р░Вр░бр░┐

1. MQTT р░Хр░┐ р░Хр░ир▒Жр░Хр▒Нр░Яр▒Н р░Ер░пр░┐ р░Яр▒Жр░▓р░┐р░ор▒Жр░Яр▒Нр░░р▒А р░кр░Вр░кр░┐р░Вр░Ър░бр░╛р░ир░┐р░Хр░┐ р░ор▒Ар░░р▒Б р░кр░╛р░ар░В 4 р░▓р▒Л р░Ър▒Зр░╕р░┐р░и р░жр░╢р░▓р░ир▒Б р░кр▒Бр░ир░░р░╛р░╡р▒Гр░др░В р░Ър▒Зр░пр░Вр░бр░┐, р░ор▒Ар░░р▒Б р░Ер░жр▒З р░кр░мр▒Нр░▓р░┐р░Хр▒Н р░ор▒Кр░╕р▒Нр░Хр▒Нр░╡р░┐р░Яр▒Л р░мр▒Нр░░р▒Лр░Хр░░р▒Н р░Йр░кр░пр▒Лр░Чр░┐р░Вр░Ър░мр▒Лр░др▒Бр░ир▒Нр░ир░╛р░░р▒Б.

    р░жр░╢р░▓р▒Б:

    - MQTT р░кр░┐р░кр▒Н р░кр▒Нр░пр░╛р░Хр▒Зр░Ьр▒Ар░ир░┐ р░Ьр▒Лр░бр░┐р░Вр░Ър░Вр░бр░┐
    - MQTT р░мр▒Нр░░р▒Лр░Хр░░р▒НтАМр░Хр▒Б р░Хр░ир▒Жр░Хр▒Нр░Яр▒Н р░Хр░╛р░мр░бр▒З р░Хр▒Лр░бр▒Н р░Ьр▒Лр░бр░┐р░Вр░Ър░Вр░бр░┐
    - р░Яр▒Жр░▓р░┐р░ор▒Жр░Яр▒Нр░░р▒А р░кр▒Нр░░р░Ър▒Бр░░р░┐р░Вр░Ър▒З р░Хр▒Лр░бр▒Н р░Ьр▒Лр░бр░┐р░Вр░Ър░Вр░бр░┐

    > тЪая╕П р░Ер░╡р░╕р░░р░ор░ир▒Бр░Хр▒Бр░ир▒Нр░ир░Яр▒Нр░▓р░пр░┐р░др▒З, [MQTTр░Хр░┐ р░Хр░ир▒Жр░Хр▒Нр░Яр▒Н р░Ер░╡р▒Нр░╡р░бр░╛р░ир░┐р░Хр▒А](../../../1-getting-started/lessons/4-connect-internet/single-board-computer-mqtt.md) р░ор░░р░┐р░пр▒Б [р░Яр▒Жр░▓р░┐р░ор▒Жр░Яр▒Нр░░р▒А р░кр░Вр░кр░┐р░Вр░Ър░бр░╛р░ир░┐р░Хр░┐](../../../1-getting-started/lessons/4-connect-internet/single-board-computer-telemetry.md) р░╕р░Вр░мр░Вр░зр░┐р░Вр░Ър░┐р░и р░кр░╛р░ар░В 4 р░╕р▒Вр░Ър░ир░▓р░ир▒Б р░╕р▒Вр░Ър░┐р░Вр░Ър░Вр░бр░┐.

1. `client_name` р░И р░кр▒Нр░░р░╛р░Ьр▒Жр░Хр▒Нр░Яр▒Н р░кр▒Зр░░р▒Б р░кр▒Нр░░р░др░┐р░мр░┐р░Вр░мр░┐р░╕р▒Нр░др▒Бр░Вр░жр░ир░┐ р░ир░┐р░░р▒Нр░зр░╛р░░р░┐р░Вр░Ър▒Бр░Хр▒Лр░Вр░бр░┐:

    ```python
    client_name = id + 'temperature_sensor_client'
    ```

1. р░Яр▒Жр░▓р░┐р░ор▒Жр░Яр▒Нр░░р▒А р░Хр▒Лр░╕р░В, р░▓р▒Ир░Яр▒Н р░╡р░┐р░▓р▒Бр░╡р░ир▒Б р░кр░Вр░кр░┐р░Вр░Ър▒З р░мр░жр▒Бр░▓р▒Б, DHT р░╕р▒Жр░ир▒Нр░╕р░╛р░░р▒Н р░ир▒Бр░Вр░бр░┐ р░Ър░жр░┐р░╡р░┐р░и р░Йр░╖р▒Нр░гр▒Лр░Чр▒Нр░░р░д р░╡р░┐р░▓р▒Бр░╡р░ир▒Б JSON р░бр░╛р░Хр▒Нр░пр▒Бр░ор▒Жр░Вр░Яр▒НтАМр░▓р▒Л `temperature` р░Ер░ир▒З р░кр▒Нр░░р░╛р░кр░░р▒Нр░Яр▒Ар░Чр░╛ р░кр░Вр░кр░Вр░бр░┐:

    ```python
    _, temp = sensor.read()
    telemetry = json.dumps({'temperature' : temp})
    ```

1. р░Йр░╖р▒Нр░гр▒Лр░Чр▒Нр░░р░д р░╡р░┐р░▓р▒Бр░╡ р░Ор░Хр▒Нр░Хр▒Бр░╡р░╕р▒Зр░кр▒Б р░др░░р░Ър▒Бр░Чр░╛ р░Ър░жр░╡р░╛р░▓р▒Нр░╕р░┐р░и р░Ер░╡р░╕р░░р░В р░▓р▒Зр░жр▒Б - р░Ер░жр░┐ р░Ър░┐р░ир▒Нр░и р░╕р░ор░пр░Вр░▓р▒Л р░Ър░╛р░▓р░╛ р░ор░╛р░░р▒Нр░Ър░жр▒Б, р░Хр░╛р░мр░Яр▒Нр░Яр░┐ `time.sleep`р░ир░┐ 10 р░ир░┐р░ор░┐р░╖р░╛р░▓р▒Б р░Чр░╛ р░╕р▒Жр░Яр▒Н р░Ър▒Зр░пр░Вр░бр░┐:

    ```cpp
    time.sleep(10 * 60);
    ```

    > ЁЯТБ `sleep` р░лр░Вр░Хр▒Нр░╖р░ир▒Н р░╕р░ор░пр░╛р░ир▒Нр░ир░┐ р░╕р▒Жр░Хр░ир▒Нр░▓р░▓р▒Л р░др▒Ар░╕р▒Бр░Хр▒Бр░Вр░Яр▒Бр░Вр░жр░┐, р░Хр░╛р░мр░Яр▒Нр░Яр░┐ р░╡р░┐р░▓р▒Бр░╡ р░╕р▒Бр░▓р░нр░Вр░Чр░╛ р░Ър░жр░╡р░бр░╛р░ир░┐р░Хр░┐ р░Чр░гр░и р░лр░▓р░┐р░др░Вр░Чр░╛ р░кр░Вр░кр░мр░бр▒Бр░др▒Бр░Вр░жр░┐. р░Тр░Х р░ир░┐р░ор░┐р░╖р░Вр░▓р▒Л 60 р░╕р▒Жр░Хр░ир▒Нр░▓р▒Б р░Йр░ир▒Нр░ир░╡р░▓р░╛, 10 x (60 р░╕р▒Жр░Хр░ир▒Нр░▓р▒Б) 10 р░ир░┐р░ор░┐р░╖р░╛р░▓ р░бр░┐р░▓р▒З р░Зр░╕р▒Нр░др▒Бр░Вр░жр░┐.

1. р░Хр▒Лр░бр▒НтАМр░ир░┐ р░ор▒Бр░Вр░жр░Яр░┐ р░кр░╛р░░р▒Нр░Яр▒Н р░Пр░╕р▒Ир░ир▒Нр░ор▒Жр░Вр░Яр▒Н р░ир▒Бр░Вр░бр░┐ р░ир░бр░┐р░кр░┐р░и р░╡р░┐р░зр░Вр░Чр░╛ р░ир░бр░┐р░кр░┐р░Вр░Ър░Вр░бр░┐. р░ор▒Ар░░р▒Б р░╡р░░р▒Нр░Ър▒Бр░╡р░▓р▒Н IoT р░бр░┐р░╡р▒Ир░╕р▒Н р░Йр░кр░пр▒Лр░Чр░┐р░╕р▒Нр░др▒Бр░ир▒Нр░ир░Яр▒Нр░▓р░пр░┐р░др▒З, CounterFit р░пр░╛р░кр▒Н р░ир░бр▒Бр░╕р▒Нр░др▒Бр░Вр░бр░╛р░▓р░┐ р░ор░░р░┐р░пр▒Б р░╣р▒Нр░пр▒Вр░ор░┐р░бр░┐р░Яр▒А р░ор░░р░┐р░пр▒Б р░Йр░╖р▒Нр░гр▒Лр░Чр▒Нр░░р░д р░╕р▒Жр░ир▒Нр░╕р░╛р░░р▒Нр░▓р▒Б р░╕р░░р▒Ир░и р░кр░┐р░ир▒НтАМр░▓р░кр▒И р░Йр░Вр░Ър░мр░бр░┐р░ир░╛р░пр░┐.

    ```output
    pi@raspberrypi:~/temperature-sensor $ python3 app.py
    MQTT connected!
    Sending telemetry  {"temperature": 25}
    Sending telemetry  {"temperature": 25}
    ```

> ЁЯТБ р░И р░Хр▒Лр░бр▒НтАМр░ир░┐ [code-publish-temperature/virtual-device](../../../../../2-farm/lessons/1-predict-plant-growth/code-publish-temperature/virtual-device) р░лр▒Лр░▓р▒Нр░бр░░р▒Н р░▓р▒Зр░жр░╛ [code-publish-temperature/pi](../../../../../2-farm/lessons/1-predict-plant-growth/code-publish-temperature/pi) р░лр▒Лр░▓р▒Нр░бр░░р▒НтАМр░▓р░▓р▒Л р░Хр░ир▒Бр░Чр▒Кр░ир░╡р░Ър▒Нр░Ър▒Б.

ЁЯША р░ор▒Ар░░р▒Б р░╡р░┐р░Ьр░пр░╡р░Вр░др░Вр░Чр░╛ р░ор▒А р░бр░┐р░╡р▒Ир░╕р▒Н р░ир▒Бр░Вр░бр░┐ р░Йр░╖р▒Нр░гр▒Лр░Чр▒Нр░░р░др░ир▒Б р░Яр▒Жр░▓р░┐р░ор▒Жр░Яр▒Нр░░р▒Ар░Чр░╛ р░кр▒Нр░░р░Ър▒Бр░░р░┐р░Вр░Ър░╛р░░р▒Б.

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**р░Ер░╕р▒Нр░кр░╖р▒Нр░Яр░д**:  
р░И р░кр░др▒Нр░░р░╛р░ир▒Нр░ир░┐ AI р░Ер░ир▒Бр░╡р░╛р░ж р░╕р▒Зр░╡ [Co-op Translator](https://github.com/Azure/co-op-translator) р░Йр░кр░пр▒Лр░Чр░┐р░Вр░Ър░┐ р░Ер░ир▒Бр░╡р░жр░┐р░Вр░Ър░╛р░░р▒Б. р░Цр░Ър▒Нр░Ър░┐р░др░др▒Нр░╡р░╛р░ир░┐р░Хр░┐хКкр░др▒Нр░╡р░В р░Ър▒Зр░╕р░┐р░ир░кр▒Нр░кр░Яр░┐р░Хр▒А, р░Жр░╡р░╛р░ор░╛р░ир▒Бр░╡р░╛р░жр░╛р░▓р░▓р▒Л р░др░кр▒Нр░кр▒Бр░▓р▒Б р░▓р▒Зр░жр░╛ р░Ер░╕р░др▒Нр░пр░др░▓р▒Б р░Йр░Вр░бр▒Зр░╡р░┐ р░Хр░╛р░╡р░Ър▒Нр░Ър▒Б. р░╕р▒Нр░╡р░жр▒Зр░╢р▒А р░нр░╛р░╖р░▓р▒Л р░Йр░ир▒Нр░и р░ор▒Вр░▓ р░кр░др▒Нр░░р░ор▒З р░Ер░зр░┐р░Хр░╛р░░р░┐р░Х р░ор▒Вр░▓р░Вр░Чр░╛ р░кр░░р░┐р░Чр░гр░┐р░Вр░Ър░╛р░▓р░┐. р░ор▒Бр░Цр▒Нр░пр░ор▒Ир░и р░╕р░ор░╛р░Ър░╛р░░р░В р░Хр▒Лр░╕р░В, р░кр▒Нр░░р▒Кр░лр▒Жр░╖р░ир░▓р▒Н р░ор░╛р░ир░╡ р░Ер░ир▒Бр░╡р░╛р░жр░В р░╕р░┐р░лр░╛р░░р▒Нр░╕р▒Б р░Ър▒Зр░пр░мр░бр▒Бр░др▒Бр░Вр░жр░┐. р░И р░Ер░ир▒Бр░╡р░╛р░жр░В р░╡р░▓р░и р░Хр░▓р░┐р░Чр▒З р░Пр░╡р▒Ир░ир░╛ р░др░кр▒Нр░кр▒Бр░▓ р░Чр▒Бр░░р░┐р░Вр░Ър░┐ р░▓р▒Зр░жр░╛ р░др░кр▒Нр░кр▒Бр░бр▒Б р░Ер░░р▒Нр░ер░В р░Ър▒Зр░╕р▒Бр░Хр▒Лр░╡р░бр░Вр░кр▒И р░ор▒Зр░ор▒Б р░мр░╛р░зр▒Нр░пр░д р░др▒Ар░╕р▒Бр░Хр▒Лр░ор▒Б.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->